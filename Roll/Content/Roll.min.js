try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===undefined&&delete n[r];return n},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},GetOptional:function(n){return n===undefined?{$:0}:{$:1,$0:n}},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var i,r;if(typeof t=="function"){i=n.prototype;n.prototype=new t;for(r in i)n.prototype[r]=i[r]}},Safe:function(n){return n===undefined?{}:n},SetOptional:function(n,t,i){i.$==0?delete n[t]:n[t]=i.$0},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");}}};Date.now||(Date.now=function(){return(new Date).getTime()});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0;$.Define($$,{Arrays:{contains:function(_1,_2){var _3,_4,_5;_3=true;_4=0;_5=_2.length;while(_3?_4<_5:false){a.Equals(_2[_4],_1)?_3=false:_4=_4+1;}return!_3;},splitInto:function(_6,_7){var _8,_9,_,ba,bb,bc,bd,be;_6<=0?b.FailWith("Count must be positive"):null;_8=c.length(_7);if(_8===0){_9=[];}else{_=b.Min(_6,_8);ba=d(_);bb=_8/_>>0;bc=0;for(bd=0;bd<=_8%_-1;bd++){c.set(ba,bd,c.sub(_7,bc,bb+1));bc=bc+bb+1;}for(be=_8%_;be<=_-1;be++){c.set(ba,be,c.sub(_7,bc,bb));bc=bc+bb;}_9=ba;}return _9;}},WebSharper:{AggregateException:$.Class({},{New:function(be){return $.New(this,e.New1("One or more errors occurred.",be));},New1:function(bf){return $.New(this,f.New1(bf));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,g.New1("Value does not fall within the expected range."));},New1:function(bh){return $.New(this,f.New1(bh));}}),Arrays:{average:function(bi){return h(c.sum(bi))/h(bi.length);},averageBy:function(bj,bk){return h(c.sumBy(bj,bk))/h(bk.length);},blit:function(bl,bm,bn,bo,bp){var bq;c.checkRange(bl,bm,bp);c.checkRange(bn,bo,bp);for(bq=0;bq<=bp-1;bq++){c.set(bn,bo+bq,c.get(bl,bm+bq));}return;},checkBounds:function(br,bs){return(bs<0?true:bs>=br.length)?b.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(bt,bu,bv){return(((bu<0?true:bv<0)?true:bu>=bt.length)?true:bv>=(bt.length?bt[0].length:0))?b.Raise(i.New()):null;},checkLength:function(bw,bx){return bw.length!==bx.length?b.FailWith("Arrays differ in length."):null;},checkRange:function(by,bz,bA){return((bA<0?true:bz<0)?true:by.length<bz+bA)?b.FailWith("Index was outside the bounds of the array."):null;},choose:function(bB,bC){var bD,bE,bF,bG,bH;bD=[];for(bE=0;bE<=bC.length-1;bE++){bF=bB(c.get(bC,bE));if(bF.$==0){bG=null;}else{bH=bF.$0;bG=bD.push(bH);}}return bD;},collect:function(bI,bJ){return d.prototype.concat.apply([],c.map(bI,bJ));},concat:function(bK){return d.prototype.concat.apply([],c.ofSeq(bK));},create:function(bL,bM){var bN,bO;bN=d(bL);for(bO=0;bO<=bL-1;bO++){c.set(bN,bO,bM);}return bN;},create2D:function(bP){var bQ,bS,bT;bQ=function(bR){return c.ofSeq(bR);};bS=j.map(bQ,bP);bT=c.ofSeq(bS);bT.dims=2;return bT;},exists2:function(bU,bV,bW){c.checkLength(bV,bW);return j.exists2(bU,bV,bW);},fill:function(bX,bY,bZ,b0){var b1;c.checkRange(bX,bY,bZ);for(b1=bY;b1<=bY+bZ-1;b1++){c.set(bX,b1,b0);}return;},filter:function(b2,b3){var b4,b5;b4=[];for(b5=0;b5<=b3.length-1;b5++){b2(c.get(b3,b5))?b4.push(c.get(b3,b5)):null;}return b4;},find:function(b6,b7){var b8,b9,b_;b8=c.tryFind(b6,b7);if(b8.$==0){b9=b.FailWith("KeyNotFoundException");}else{b_=b8.$0;b9=b_;}return b9;},findINdex:function(b$,ca){var cb,cc,cd;cb=c.tryFindIndex(b$,ca);if(cb.$==0){cc=b.FailWith("KeyNotFoundException");}else{cd=cb.$0;cc=cd;}return cc;},fold:function(ce,cf,cg){var ch,ci;ch=cf;for(ci=0;ci<=cg.length-1;ci++){ch=(ce(ch))(c.get(cg,ci));}return ch;},fold2:function(cj,ck,cl,cm){var cn,co;c.checkLength(cl,cm);cn=ck;for(co=0;co<=cl.length-1;co++){cn=((cj(cn))(c.get(cl,co)))(c.get(cm,co));}return cn;},foldBack:function(cp,cq,cr){var cs,ct,cu;cs=cr;ct=cq.length;for(cu=1;cu<=ct;cu++){cs=(cp(c.get(cq,ct-cu)))(cs);}return cs;},foldBack2:function(cv,cw,cx,cy){var cz,cA,cB;c.checkLength(cw,cx);cz=cw.length;cA=cy;for(cB=1;cB<=cz;cB++){cA=((cv(c.get(cw,cz-cB)))(c.get(cx,cz-cB)))(cA);}return cA;},forall2:function(cC,cD,cE){c.checkLength(cD,cE);return j.forall2(cC,cD,cE);},get:function(cF,cG){c.checkBounds(cF,cG);return cF[cG];},get2D:function(cH,cI,cJ){c.checkBounds2D(cH,cI,cJ);return cH[cI][cJ];},init:function(cK,cL){var cM,cN;cK<0?b.FailWith("Negative size given."):null;cM=d(cK);for(cN=0;cN<=cK-1;cN++){c.set(cM,cN,cL(cN));}return cM;},iter:function(cO,cP){var cQ;for(cQ=0;cQ<=cP.length-1;cQ++){cO(c.get(cP,cQ));}return;},iter2:function(cR,cS,cT){var cU;c.checkLength(cS,cT);for(cU=0;cU<=cS.length-1;cU++){(cR(c.get(cS,cU)))(c.get(cT,cU));}return;},iteri:function(cV,cW){var cX;for(cX=0;cX<=cW.length-1;cX++){(cV(cX))(c.get(cW,cX));}return;},iteri2:function(cY,cZ,c0){var c1;c.checkLength(cZ,c0);for(c1=0;c1<=cZ.length-1;c1++){((cY(c1))(c.get(cZ,c1)))(c.get(c0,c1));}return;},length:function(c2){var c3;c3=c2.dims;return c3===2?c2.length*c2.length:c2.length;},map:function(c4,c5){var c6,c7;c6=d(c5.length);for(c7=0;c7<=c5.length-1;c7++){c.set(c6,c7,c4(c.get(c5,c7)));}return c6;},map2:function(c8,c9,c_){var c$,da;c.checkLength(c9,c_);c$=d(c_.length);for(da=0;da<=c_.length-1;da++){c.set(c$,da,(c8(c.get(c9,da)))(c.get(c_,da)));}return c$;},mapi:function(db,dc){var dd,de;dd=d(dc.length);for(de=0;de<=dc.length-1;de++){c.set(dd,de,(db(de))(c.get(dc,de)));}return dd;},mapi2:function(df,dg,dh){var di,dj;c.checkLength(dg,dh);di=d(dg.length);for(dj=0;dj<=dg.length-1;dj++){c.set(di,dj,((df(dj))(c.get(dg,dj)))(c.get(dh,dj)));}return di;},max:function(dk){return c.reduce(function(dl){return function(dm){return b.Max(dl,dm);};},dk);},maxBy:function(dn,_do){return c.reduce(function(dp){return function(dq){return a.Compare(dn(dp),dn(dq))===1?dp:dq;};},_do);},min:function(dr){return c.reduce(function(ds){return function(dt){return b.Min(ds,dt);};},dr);},minBy:function(du,dv){return c.reduce(function(dw){return function(dx){return a.Compare(du(dw),du(dx))===-1?dw:dx;};},dv);},nonEmpty:function(dy){return dy.length===0?b.FailWith("The input array was empty."):null;},ofSeq:function(dz){var dA,dB,dC;dA=[];dB=k.Get(dz);try{while(dB.MoveNext()){dA.push(dB.get_Current());}dC=dA;}finally{dB.Dispose!=undefined?dB.Dispose():null;}return dC;},partition:function(dD,dE){var dF,dG,dH;dF=[];dG=[];for(dH=0;dH<=dE.length-1;dH++){dD(c.get(dE,dH))?dF.push(c.get(dE,dH)):dG.push(c.get(dE,dH));}return[dF,dG];},permute:function(dI,dJ){var dK,dL;dK=d(dJ.length);for(dL=0;dL<=dJ.length-1;dL++){c.set(dK,dI(dL),c.get(dJ,dL));}return dK;},pick:function(dM,dN){var dO,dP,dQ;dO=c.tryPick(dM,dN);if(dO.$==0){dP=b.FailWith("KeyNotFoundException");}else{dQ=dO.$0;dP=dQ;}return dP;},reduce:function(dR,dS){var dT,dU;c.nonEmpty(dS);dT=c.get(dS,0);for(dU=1;dU<=dS.length-1;dU++){dT=(dR(dT))(c.get(dS,dU));}return dT;},reduceBack:function(dV,dW){var dX,dY,dZ;c.nonEmpty(dW);dX=dW.length;dY=c.get(dW,dX-1);for(dZ=2;dZ<=dX;dZ++){dY=(dV(c.get(dW,dX-dZ)))(dY);}return dY;},reverse:function(d0,d1,d2){var d3;d3=c.sub(d0,d1,d2).slice().reverse();return c.blit(d3,0,d0,d1,c.length(d3));},scan:function(d4,d5,d6){var d7,d8;d7=d(1+d6.length);c.set(d7,0,d5);for(d8=0;d8<=d6.length-1;d8++){c.set(d7,d8+1,(d4(c.get(d7,d8)))(c.get(d6,d8)));}return d7;},scanBack:function(d9,d_,d$){var ea,eb,ec;ea=d_.length;eb=d(1+ea);c.set(eb,ea,d$);for(ec=0;ec<=ea-1;ec++){c.set(eb,ea-ec-1,(d9(c.get(d_,ea-ec-1)))(c.get(eb,ea-ec)));}return eb;},set:function(ed,ee,ef){c.checkBounds(ed,ee);ed[ee]=ef;return;},set2D:function(eg,eh,ei,ej){c.checkBounds2D(eg,eh,ei);eg[eh][ei]=ej;return;},setSub:function(ek,el,em,en){var eo;for(eo=0;eo<=em-1;eo++){c.set(ek,el+eo,c.get(en,eo));}return;},setSub2D:function(ep,eq,er,es,et,eu){var ev,ew;for(ev=0;ev<=es-1;ev++){for(ew=0;ew<=et-1;ew++){c.set2D(ep,eq+ev,er+ew,c.get2D(eu,ev,ew));}}return;},sort:function(ex){return c.sortBy(function(ey){return ey;},ex);},sortBy:function(ez,eA){return eA.slice().sort(function(eB,eC){return b.Compare(ez(eB),ez(eC));});},sortInPlace:function(eD){return c.sortInPlaceBy(function(eE){return eE;},eD);},sortInPlaceBy:function(eF,eG){return eG.sort(function(eH,eI){return b.Compare(eF(eH),eF(eI));});},sortInPlaceWith:function(eJ,eK){return eK.sort(function(eL,eM){return(eJ(eL))(eM);});},sortWith:function(eN,eO){return eO.slice().sort(function(eP,eQ){return(eN(eP))(eQ);});},sub:function(eR,eS,eT){c.checkRange(eR,eS,eT);return eR.slice(eS,eS+eT);},sub2D:function(eU,eV,eW,eX,eY){var eZ,e0,e1,e2,e3;eZ=eX<0?0:eX;e0=eY<0?0:eY;e1=c.zeroCreate2D(eZ,e0);for(e2=0;e2<=eZ-1;e2++){for(e3=0;e3<=e0-1;e3++){c.set2D(e1,e2,e3,c.get2D(eU,eV+e2,eW+e3));}}return e1;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(e4,e5){var e6,e7;e6={$:0};e7=0;while(e7<e5.length?e6.$==0:false){e4(c.get(e5,e7))?e6={$:1,$0:c.get(e5,e7)}:null;e7=e7+1;}return e6;},tryFindIndex:function(e8,e9){var e_,e$;e_={$:0};e$=0;while(e$<e9.length?e_.$==0:false){e8(c.get(e9,e$))?e_={$:1,$0:e$}:null;e$=e$+1;}return e_;},tryPick:function(fa,fb){var fc,fd,fe;fc={$:0};fd=0;while(fd<fb.length?fc.$==0:false){fe=fa(c.get(fb,fd));fe.$==1?fc=fe:null;fd=fd+1;}return fc;},unzip:function(ff){var fg,fh,fi,fj,fk,fl;fg=[];fh=[];for(fi=0;fi<=ff.length-1;fi++){fj=c.get(ff,fi);fk=fj[1];fl=fj[0];fg.push(fl);fh.push(fk);}return[fg,fh];},unzip3:function(fm){var fn,fo,fp,fq,fr,fs,ft,fu;fn=[];fo=[];fp=[];for(fq=0;fq<=fm.length-1;fq++){fr=c.get(fm,fq);fs=fr[2];ft=fr[1];fu=fr[0];fn.push(fu);fo.push(ft);fp.push(fs);}return[fn,fo,fp];},zeroCreate2D:function(fv,fw){var fx;fx=c.init(fv,function(){return d(fw);});fx.dims=2;return fx;},zip:function(fz,fA){var fB,fC;c.checkLength(fz,fA);fB=d(fz.length);for(fC=0;fC<=fz.length-1;fC++){c.set(fB,fC,[c.get(fz,fC),c.get(fA,fC)]);}return fB;},zip3:function(fD,fE,fF){var fG,fH;c.checkLength(fD,fE);c.checkLength(fE,fF);fG=d(fD.length);for(fH=0;fH<=fD.length-1;fH++){c.set(fG,fH,[c.get(fD,fH),c.get(fE,fH),c.get(fF,fH)]);}return fG;}},Arrays2D:{copy:function(fI){return l.init(fI.length,fI.length?fI[0].length:0,function(fJ){return function(fK){return c.get2D(fI,fJ,fK);};});},init:function(fL,fM,fN){var fO,fP,fQ;fO=c.zeroCreate2D(fL,fM);for(fP=0;fP<=fL-1;fP++){for(fQ=0;fQ<=fM-1;fQ++){c.set2D(fO,fP,fQ,(fN(fP))(fQ));}}return fO;},iter:function(fR,fS){var fT,fU,fV,fW;fT=fS.length;fU=fS.length?fS[0].length:0;for(fV=0;fV<=fT-1;fV++){for(fW=0;fW<=fU-1;fW++){fR(c.get2D(fS,fV,fW));}}return;},iteri:function(fX,fY){var fZ,f0,f1,f2;fZ=fY.length;f0=fY.length?fY[0].length:0;for(f1=0;f1<=fZ-1;f1++){for(f2=0;f2<=f0-1;f2++){((fX(f1))(f2))(c.get2D(fY,f1,f2));}}return;},map:function(f3,f4){return l.init(f4.length,f4.length?f4[0].length:0,function(f5){return function(f6){return f3(c.get2D(f4,f5,f6));};});},mapi:function(f7,f8){return l.init(f8.length,f8.length?f8[0].length:0,function(f9){return function(f_){return((f7(f9))(f_))(c.get2D(f8,f9,f_));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return m.GetCT();},get_DefaultCancellationToken:function(){return(m.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var f$,ga,ge,gf;if(!this.c){this.c=true;ga=function(gb){var gc,gd;try{gb(null);gc={$:0};}catch(gd){gc={$:1,$0:gd};}return gc;};ge=this.r;gf=c.choose(ga,ge);f$=c.length(gf)>0?b.Raise(e.New(gf)):null;}else{f$=null;}return f$;},Cancel1:function(gg){var gh,gi,gj,gl;if(!gg){gh=this.Cancel();}else{if(!this.c){this.c=true;gj=function(gk){return gk(null);};gl=this.r;gi=c.iter(gj,gl);}else{gi=null;}gh=gi;}return gh;},CancelAfter:function(gm){var gn,go,gq,gs=this;if(!this.c){go=this.pending;n.iter(function(gp){return o(gp);},go);gq=p(function(){return gs.Cancel();},gm);gn=void(this.pending={$:1,$0:gq});}else{gn=null;}return gn;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(gt,gu){return q.CreateLinkedTokenSource1([gt,gu]);},CreateLinkedTokenSource1:function(gv){var gw,gx;gw=q.New();gx=function(gy){var gz;gz=m.Register(gy,function(){return function(){return gw.Cancel();}();});return;};return c.iter(gx,gv);},New:function(){var gC;gC=$.New(this,{});gC.c=false;gC.pending={$:0};gC.r=[];return gC;}}),Char:$.Class({},{GetNumericValue:function(gD){return(gD>=48?gD<=57:false)?h(gD)-h(48):-1;},IsControl:function(gE){return(gE>=0?gE<=31:false)?true:gE>=128?gE<=159:false;},IsDigit:function(gF){return gF>=48?gF<=57:false;},IsLetter:function(gG){return(gG>=65?gG<=90:false)?true:gG>=97?gG<=122:false;},IsLetterOrDigit:function(gH){return r.IsLetter(gH)?true:r.IsDigit(gH);},IsLower:function(gI){return gI>=97?gI<=122:false;},IsUpper:function(gJ){return gJ>=65?gJ<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(gK){return gK.length===1?gK.charCodeAt(0):b.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(gL){var gM;gM=function(gN){var gO,gP,gQ,gR,gS,gT;gO=function(){return s.subscribeTo(gL,function(gV){var gW;t.Force(gP).Dispose();t.Force(gR).Dispose();gW=function(){return gN.k.call(null,{$:0,$0:gV});};return m.scheduler().Fork(gW);});};gP=t.Create(gO);gQ=function(){return m.Register(gN.ct,function(){var g0;t.Force(gP).Dispose();g0=function(){return gN.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(g0);});};gR=t.Create(gQ);gS=t.Force(gP);gT=t.Force(gR);return null;};return m.checkCancel(gM);},Bind:function(g2,g3){var g4;g4=function(g5){return g2({k:function(g6){var g7,g8,g9,hb;if(g6.$==0){g8=g6.$0;g9=function(){var g$,ha;try{g$=(g3(g8))(g5);}catch(ha){g$=g5.k.call(null,{$:1,$0:ha});}return g$;};g7=m.scheduler().Fork(g9);}else{hb=function(){return g5.k.call(null,g6);};g7=m.scheduler().Fork(hb);}return g7;},ct:g5.ct});};return m.checkCancel(g4);},Catch:function(hd){var he;he=function(hf){var hg,hl;try{hg=hd({k:function(hh){var hi,hj,hk;if(hh.$==0){hj=hh.$0;hi=hf.k.call(null,{$:0,$0:{$:0,$0:hj}});}else{if(hh.$==1){hk=hh.$0;hi=hf.k.call(null,{$:0,$0:{$:1,$0:hk}});}else{hi=hf.k.call(null,hh);}}return hi;},ct:hf.ct});}catch(hl){hg=hf.k.call(null,{$:0,$0:{$:1,$0:hl}});}return hg;};return m.checkCancel(he);},Combine:function(hm,hn){return m.Bind(hm,function(){return hn;});},Delay:function(hp){var hq;hq=function(hr){var hs,ht;try{hs=(hp(null))(hr);}catch(ht){hs=hr.k.call(null,{$:1,$0:ht});}return hs;};return m.checkCancel(hq);},For:function(hu,hv){return m.Using(k.Get(hu),function(hw){return m.While(function(){return hw.MoveNext();},m.Delay(function(){return hv(hw.get_Current());}));});},FromContinuations:function(hz){var hA;hA=function(hB){var hC,hD;hC=[false];hD=function(hE){var hF;if(hC[0]){hF=b.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{hC[0]=true;hF=m.scheduler().Fork(hE);}return hF;};return hz([function(hG){return hD(function(){return hB.k.call(null,{$:0,$0:hG});});},function(hI){return hD(function(){return hB.k.call(null,{$:1,$0:hI});});},function(hK){return hD(function(){return hB.k.call(null,{$:2,$0:hK});});}]);};return m.checkCancel(hA);},GetCT:$.Field(function(){var hM;hM=function(hN){return hN.k.call(null,{$:0,$0:hN.ct});};return m.checkCancel(hM);}),Ignore:function(hO){return m.Bind(hO,function(){return m.Return(null);});},OnCancel:function(hQ){var hR;hR=function(hS){return hS.k.call(null,{$:0,$0:m.Register(hS.ct,hQ)});};return m.checkCancel(hR);},Parallel:function(hT){var hU,hV,hW;hU=c.ofSeq(hT);if(c.length(hU)===0){hV=m.Return([]);}else{hW=function(hX){var hY,hZ,h0,h1;hY=hU.length;hZ=[hY];h0=c.create(hY,undefined);h1=function(h2){return function(h3){var h4,h5,h6,h7,h8,h9,h_,h$,ia;h4=[hZ[0],h3];if(h4[0]===0){h5=null;}else{if(h4[0]===1){if(h4[1].$==0){h7=h4[1].$0;c.set(h0,h2,h7);hZ[0]=0;h6=hX.k.call(null,{$:0,$0:h0});}else{h4[0];h8=h4[1];hZ[0]=0;h6=hX.k.call(null,h8);}h5=h6;}else{if(h4[1].$==0){h_=h4[1].$0;h$=h4[0];c.set(h0,h2,h_);h9=void(hZ[0]=h$-1);}else{h4[0];ia=h4[1];hZ[0]=0;h9=hX.k.call(null,ia);}h5=h9;}}return h5;};};return c.iteri(function(ib){return function(ic){var id;id=function(){return ic({k:h1(ib),ct:hX.ct});};return m.scheduler().Fork(id);};},hU);};hV=m.checkCancel(hW);}return hV;},Register:function(_if,ig){var ih;ih=_if.r.push(ig)-1;return{Dispose:function(){return c.set(_if.r,ih,function(){});}};},Return:function(ik){var il;il=function(im){return im.k.call(null,{$:0,$0:ik});};return m.checkCancel(il);},Scheduler:$.Class({Fork:function(_in){var io,ip,ir=this;this.robin.push(_in);if(this.idle){this.idle=false;ip=p(function(){return ir.tick();},0);io=void ip;}else{io=null;}return io;},tick:function(){var is,it,iu,iv,iw,ix,iz=this;is=v.now();it=true;while(it){iu=this.robin.length;if(iu===0){this.idle=true;iv=it=false;}else{(this.robin.shift())(null);if(v.now()-is>40){ix=p(function(){return iz.tick();},0);iw=it=false;}else{iw=null;}iv=iw;}}return;}},{New:function(){var iA;iA=$.New(this,{});iA.idle=true;iA.robin=[];return iA;}}),Sleep:function(iB){var iC;iC=function(iD){var iE,iF,iG,iH,iI,iJ;iE=function(){return p(function(){var iM;t.Force(iH).Dispose();iM=function(){return iD.k.call(null,{$:0,$0:null});};return m.scheduler().Fork(iM);},iB);};iF=t.Create(iE);iG=function(){return m.Register(iD.ct,function(){var iQ;o(t.Force(iF));iQ=function(){return iD.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(iQ);});};iH=t.Create(iG);iI=t.Force(iF);iJ=t.Force(iH);return null;};return m.checkCancel(iC);},Start:function(iS,iT){return m.StartWithContinuations(iS,function(){},function(iV){var iW;iW=[iV];return w?w.log.apply(w,["WebSharper: Uncaught asynchronous exception"].concat(iW)):undefined;},function(){},iT);},StartChild:function(iY){var iZ;iZ=function(i0){var i1,i2,i3,i6,i$;i1=[{$:0}];i2=[];i3=function(){return iY({k:function(i5){i1[0]={$:1,$0:i5};while(i2.length>0){(i2.shift())(i5);}return;},ct:i0.ct});};m.scheduler().Fork(i3);i6=function(i7){var i8,i9,i_;i8=i1[0];if(i8.$==0){i9=i2.push(i7.k);}else{i_=i8.$0;i9=i7.k.call(null,i_);}return i9;};i$=m.checkCancel(i6);return i0.k.call(null,{$:0,$0:i$});};return m.checkCancel(iZ);},StartWithContinuations:function(ja,jb,jc,jd,je){var jf,jg;jf=b.DefaultArg(je,(m.defCTS())[0]);jg=function(){return ja({k:function(ji){var jj,jk,jl,jm;if(ji.$==1){jk=ji.$0;jj=jc(jk);}else{if(ji.$==2){jl=ji.$0;jj=jd(jl);}else{jm=ji.$0;jj=jb(jm);}}return jj;},ct:jf});};return m.scheduler().Fork(jg);},TryCancelled:function(jn,jo){var jp;jp=function(jq){return jn({k:function(jr){var js,jt;if(jr.$==2){jt=jr.$0;jo(jt);js=jq.k.call(null,jr);}else{js=jq.k.call(null,jr);}return js;},ct:jq.ct});};return m.checkCancel(jp);},TryFinally:function(ju,jv){var jw;jw=function(jx){return ju({k:function(jy){var jz,jA;try{jv(null);jz=jx.k.call(null,jy);}catch(jA){jz=jx.k.call(null,{$:1,$0:jA});}return jz;},ct:jx.ct});};return m.checkCancel(jw);},TryWith:function(jB,jC){var jD;jD=function(jE){return jB({k:function(jF){var jG,jH,jI,jJ,jK;if(jF.$==0){jH=jF.$0;jG=jE.k.call(null,{$:0,$0:jH});}else{if(jF.$==1){jI=jF.$0;try{jJ=(jC(jI))(jE);}catch(jK){jJ=jE.k.call(null,jF);}jG=jJ;}else{jG=jE.k.call(null,jF);}}return jG;},ct:jE.ct});};return m.checkCancel(jD);},Using:function(jL,jM){return m.TryFinally(jM(jL),function(){return jL.Dispose();});},While:function(jO,jP){return jO(null)?m.Bind(jP,function(){return m.While(jO,jP);}):m.Return(null);},checkCancel:function(jR){return function(jS){return jS.ct.c?jS.k.call(null,{$:2,$0:u.New()}):jR(jS);};},defCTS:$.Field(function(){return[q.New()];}),scheduler:$.Field(function(){return x.New();})},Control:{createEvent:function(jT,jU,jV){return{AddHandler:jT,RemoveHandler:jU,Subscribe:function(jW){var jX;jX=jV(function(){return function(jZ){return jW.OnNext.call(null,jZ);};});jT(jX);return{Dispose:function(){return jU(jX);}};}};}},DateTimeHelpers:{AddMonths:function(j1,j2){var j3;j3=new v(j1);return(new v(j3.getFullYear(),j3.getMonth()+j2,j3.getDate(),j3.getHours(),j3.getMinutes(),j3.getSeconds(),j3.getMilliseconds())).getTime();},AddYears:function(j4,j5){var j6;j6=new v(j4);return(new v(j6.getFullYear()+j5,j6.getMonth(),j6.getDate(),j6.getHours(),j6.getMinutes(),j6.getSeconds(),j6.getMilliseconds())).getTime();},DatePortion:function(j7){var j8;j8=new v(j7);return(new v(j8.getFullYear(),j8.getMonth(),j8.getDate())).getTime();},TimePortion:function(j9){var j_;j_=new v(j9);return(((24*0+j_.getHours())*60+j_.getMinutes())*60+j_.getSeconds())*1000+j_.getMilliseconds();}},Enumerable:{Of:function(j$){return{GetEnumerator:j$};}},Enumerator:{Get:function(ka){return ka instanceof $$.Array?y.New(0,null,function(kb){var kc,kd;kc=kb.s;if(kc<c.length(ka)){kb.c=c.get(ka,kc);kb.s=kc+1;kd=true;}else{kd=false;}return kd;},function(){}):a.Equals(typeof ka,"string")?y.New(0,null,function(kf){var kg,kh;kg=kf.s;if(kg<ka.length){kf.c=ka.charCodeAt(kg);kf.s=kg+1;kh=true;}else{kh=false;}return kh;},function(){}):ka.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(kj,kk,kl,km){var kn;kn=$.New(this,{});kn.s=kj;kn.c=kk;kn.n=kl;kn.d=km;return kn;}})},Exception:$.Class({},{New:function(){return $.New(this,f.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var ko,kp;if(B.hasDocument()){kp=C.getElementById("websharper-data");ko=kp?D(C).ready(function(){var kr,ks,kt,kz;kr=kp.getAttribute("content");ks=E.Activate(F.parse(kr));kt=function(ku){var kv,kw,kx,ky;kv=ku[0];kw=ku[1];kx=kw.get_Body();ky=C.getElementById(kv);return kx.ReplaceInDom(ky);};kz=H.GetFields(ks);return c.iter(kt,kz);}):null;}else{ko=null;}return ko;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(kA){return J.New(kA);},SingleNode:$.Class({ReplaceInDom:function(kB){var kC;kC=this.node.parentNode.replaceChild(this.node,kB);return;}},{New:function(kD){var kE;kE=$.New(this,{});kE.node=kD;return kE;}})}}},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,i.New1("Index was outside the bounds of the array."));},New1:function(kF){return $.New(this,f.New1(kF));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,K.New1("Operation is not valid due to the current state of the object."));},New1:function(kG){return $.New(this,f.New1(kG));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(kH){var kI,kJ,kK,kL,kM,kN;kI={};kJ=k.Get(kH);try{while(kJ.MoveNext()){kL=kJ.get_Current();kM=kL[1];kN=kL[0];kI[kN]=kM;}}finally{kJ.Dispose!=undefined?kJ.Dispose():null;}return kI;}}},Json:{Activate:function(kO){var kP,kQ,kR;kP=kO.$TYPES;for(kQ=0;kQ<=c.length(kP)-1;kQ++){c.set(kP,kQ,E.lookup(c.get(kP,kQ)));}kR=function(kS){var kT,kU,kV,kW,kX,kY,kZ,k0;if(a.Equals(kS,null)){kT=kS;}else{kU=typeof kS;if(kU==="object"){if(kS instanceof $$.Array){kW=E.shallowMap(kR,kS);}else{kX=E.shallowMap(kR,kS.$V);kY=kS.$T;if(a.Equals(typeof kY,"undefined")){kZ=kX;}else{k0=new(c.get(kP,kY))();H.ForEach(kX,function(k1){k0[k1]=kX[k1];return false;});kZ=k0;}kW=kZ;}kV=kW;}else{kV=kS;}kT=kV;}return kT;};return kR(kO.$DATA);},lookup:function(k2){var k3,k4,k5,k6,k7,k8;k3=c.length(k2);k4=$$;k5=0;while(k5<k3){k6=c.get(k2,k5);k7=k4[k6];if(!a.Equals(typeof k7,undefined)){k4=k7;k8=k5=k5+1;}else{k8=b.FailWith("Invalid server reply. Failed to find type: "+k6);}}return k4;},shallowMap:function(k9,k_){var k$,la,lb,lc;if(k_ instanceof $$.Array){k$=c.map(k9,k_);}else{la=typeof k_;if(la==="object"){lc={};H.ForEach(k_,function(ld){lc[ld]=k9(k_[ld]);return false;});lb=lc;}else{lb=k_;}k$=lb;}return k$;}},Lazy:{Create:function(le){var lf,lg;lf={value:undefined,created:false,eval:le};lg=function(){var li;if(lf.created){li=lf.value;}else{lf.created=true;lf.value=le(null);li=lf.value;}return li;};lf.eval=lg;return lf;},CreateFromValue:function(lj){return{value:lj,created:true,eval:function(){return lj;},eval:function(){return lj;}};},Force:function(lm){return lm.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return y.New(this,null,function(ln){var lo,lp,lq,lr;lo=ln.s;if(lo.$==0){lp=false;}else{lq=lo.$1;lr=lo.$0;ln.c=lr;ln.s=lq;lp=true;}return lp;},function(){});},get_Item:function(lt){return j.nth(lt,this);},get_Length:function(){return j.length(this);}},{Construct:function(lu,lv){return $.New(M,{$:1,$0:lu,$1:lv});},get_Nil:function(){return $.New(M,{$:0});}}),append:function(lw,lx){return L.ofSeq(j.append(lw,lx));},choose:function(ly,lz){return L.ofSeq(j.choose(ly,lz));},collect:function(lA,lB){return L.ofSeq(j.collect(lA,lB));},concat:function(lC){return L.ofSeq(j.concat(lC));},exists2:function(lD,lE,lF){return c.exists2(lD,c.ofSeq(lE),c.ofSeq(lF));},filter:function(lG,lH){return L.ofSeq(j.filter(lG,lH));},fold2:function(lI,lJ,lK,lL){return c.fold2(lI,lJ,c.ofSeq(lK),c.ofSeq(lL));},foldBack:function(lM,lN,lO){return c.foldBack(lM,c.ofSeq(lN),lO);},foldBack2:function(lP,lQ,lR,lS){return c.foldBack2(lP,c.ofSeq(lQ),c.ofSeq(lR),lS);},forall2:function(lT,lU,lV){return c.forall2(lT,c.ofSeq(lU),c.ofSeq(lV));},head:function(lW){var lX,lY;if(lW.$==1){lY=lW.$0;lX=lY;}else{lX=b.FailWith("The input list was empty.");}return lX;},init:function(lZ,l0){return L.ofArray(c.init(lZ,l0));},iter2:function(l1,l2,l3){return c.iter2(l1,c.ofSeq(l2),c.ofSeq(l3));},iteri2:function(l4,l5,l6){return c.iteri2(l4,c.ofSeq(l5),c.ofSeq(l6));},map:function(l7,l8){return L.ofSeq(j.map(l7,l8));},map2:function(l9,l_,l$){return L.ofArray(c.map2(l9,c.ofSeq(l_),c.ofSeq(l$)));},map3:function(ma,mb,mc,md){var me;me=c.map2(function(mf){return function(mg){return mf(mg);};},c.map2(ma,c.ofSeq(mb),c.ofSeq(mc)),c.ofSeq(md));return L.ofArray(me);},mapi:function(mh,mi){return L.ofSeq(j.mapi(mh,mi));},mapi2:function(mj,mk,ml){return L.ofArray(c.mapi2(mj,c.ofSeq(mk),c.ofSeq(ml)));},max:function(mm){return j.reduce(function(mn){return function(mo){return b.Max(mn,mo);};},mm);},maxBy:function(mp,mq){return j.reduce(function(mr){return function(ms){return a.Compare(mp(mr),mp(ms))===1?mr:ms;};},mq);},min:function(mt){return j.reduce(function(mu){return function(mv){return b.Min(mu,mv);};},mt);},minBy:function(mw,mx){return j.reduce(function(my){return function(mz){return a.Compare(mw(my),mw(mz))===-1?my:mz;};},mx);},ofArray:function(mA){var mB,mC;mB=$.New(M,{$:0});for(mC=0;mC<=c.length(mA)-1;mC++){mB=$.New(M,{$:1,$0:c.get(mA,c.length(mA)-mC-1),$1:mB});}return mB;},ofSeq:function(mD){var mE,mF,mG,mH;mE=[];mF=k.Get(mD);try{while(mF.MoveNext()){mE.unshift(mF.get_Current());}mH=mE.slice(0);mH.reverse();mG=L.ofArray(mH);}finally{mF.Dispose!=undefined?mF.Dispose():null;}return mG;},partition:function(mI,mJ){var mK,mL,mM;mK=c.partition(mI,c.ofSeq(mJ));mL=mK[1];mM=mK[0];return[L.ofArray(mM),L.ofArray(mL)];},permute:function(mN,mO){return L.ofArray(c.permute(mN,c.ofSeq(mO)));},reduceBack:function(mP,mQ){return c.reduceBack(mP,c.ofSeq(mQ));},replicate:function(mR,mS){return L.ofArray(c.create(mR,mS));},rev:function(mT){var mU;mU=c.ofSeq(mT);mU.reverse();return L.ofArray(mU);},scan:function(mV,mW,mX){return L.ofSeq(j.scan(mV,mW,mX));},scanBack:function(mY,mZ,m0){return L.ofArray(c.scanBack(mY,c.ofSeq(mZ),m0));},sort:function(m1){var m2;m2=c.ofSeq(m1);c.sortInPlace(m2);return L.ofArray(m2);},sortBy:function(m3,m4){return L.sortWith(function(m5){return function(m6){return b.Compare(m3(m5),m3(m6));};},m4);},sortWith:function(m7,m8){var m9;m9=c.ofSeq(m8);c.sortInPlaceWith(m7,m9);return L.ofArray(m9);},tail:function(m_){var m$,na;if(m_.$==1){na=m_.$1;m$=na;}else{m$=b.FailWith("The input list was empty.");}return m$;},unzip:function(nb){var nc,nd,ne,nf,ng,nh,ni;nc=[];nd=[];ne=k.Get(nb);try{while(ne.MoveNext()){ng=ne.get_Current();nh=ng[1];ni=ng[0];nc.push(ni);nd.push(nh);}}finally{ne.Dispose!=undefined?ne.Dispose():null;}return[L.ofArray(nc.slice(0)),L.ofArray(nd.slice(0))];},unzip3:function(nj){var nk,nl,nm,nn,no,np,nq,nr,ns;nk=[];nl=[];nm=[];nn=k.Get(nj);try{while(nn.MoveNext()){np=nn.get_Current();nq=np[2];nr=np[1];ns=np[0];nk.push(ns);nl.push(nr);nm.push(nq);}}finally{nn.Dispose!=undefined?nn.Dispose():null;}return[L.ofArray(nk.slice(0)),L.ofArray(nl.slice(0)),L.ofArray(nm.slice(0))];},zip:function(nt,nu){return L.ofArray(c.zip(c.ofSeq(nt),c.ofSeq(nu)));},zip3:function(nv,nw,nx){return L.ofArray(c.zip3(c.ofSeq(nv),c.ofSeq(nw),c.ofSeq(nx)));}},MatchFailureException:$.Class({},{New:function(ny,nz,nA){return $.New(this,f.New1(ny+" at "+$$.String(nz)+":"+$$.String(nA)));}}),OperationCanceledException:$.Class({},{New:function(){return $.New(this,u.New1("The operation was canceled."));},New1:function(nB){return $.New(this,f.New1(nB));}}),Operators:{Compare:function(nC,nD){return a.Compare(nC,nD);},DefaultArg:function(nE,nF){var nG,nH;if(nE.$==0){nG=nF;}else{nH=nE.$0;nG=nH;}return nG;},FailWith:function(nI){return b.Raise(f.New1(nI));},KeyValue:function(nJ){return[nJ.K,nJ.V];},Max:function(nK,nL){return a.Compare(nK,nL)===1?nK:nL;},Min:function(nM,nN){return a.Compare(nM,nN)===-1?nM:nN;},Pown:function(nO,nP){var nQ;nQ=function(nR){var nS,nT,nU;if(nR===1){nS=nO;}else{if(nR%2===0){nU=nQ(nR/2>>0);nT=nU*nU;}else{nT=nO*nQ(nR-1);}nS=nT;}return nS;};return nQ(nP);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(nV){return nV===0?0:nV<0?-1:1;},Truncate:function(nW){return nW<0?O.ceil(nW):O.floor(nW);},Using:function(nX,nY){var nZ;try{nZ=nY(nX);}finally{nX.Dispose();}return nZ;},range:function(n0,n1){var n2;n2=1+n1-n0;return n2<=0?j.empty():j.init(n2,function(n3){return n3+n0;});},step:function(n4,n5,n6){var n7,n8,n_,oa;n7=b.Sign(n5);n8=function(n9){return n7*(n6-n9)>=0;};n_=j.initInfinite(function(n$){return n4+n$*n5;});oa=j.takeWhile(n8,n_);return oa;}},Option:{bind:function(ob,oc){var od,oe;if(oc.$==0){od={$:0};}else{oe=oc.$0;od=ob(oe);}return od;},exists:function(of,og){var oh,oi;if(og.$==0){oh=false;}else{oi=og.$0;oh=of(oi);}return oh;},fold:function(oj,ok,ol){var om,on;if(ol.$==0){om=ok;}else{on=ol.$0;om=(oj(ok))(on);}return om;},foldBack:function(oo,op,oq){var or,os;if(op.$==0){or=oq;}else{os=op.$0;or=(oo(os))(oq);}return or;},forall:function(ot,ou){var ov,ow;if(ou.$==0){ov=true;}else{ow=ou.$0;ov=ot(ow);}return ov;},iter:function(ox,oy){var oz,oA;if(oy.$==0){oz=null;}else{oA=oy.$0;oz=ox(oA);}return oz;},map:function(oB,oC){var oD,oE;if(oC.$==0){oD={$:0};}else{oE=oC.$0;oD={$:1,$0:oB(oE)};}return oD;},toArray:function(oF){var oG,oH;if(oF.$==0){oG=[];}else{oH=oF.$0;oG=[oH];}return oG;},toList:function(oI){var oJ,oK;if(oI.$==0){oJ=$.New(M,{$:0});}else{oK=oI.$0;oJ=L.ofArray([oK]);}return oJ;}},PrintfHelpers:{padNumLeft:function(oL,oM){var oN;oN=c.get(oL,0);return((oN===" "?true:oN==="+")?true:oN==="-")?oN+P.PadLeftWith(oL.substr(1),oM-1,48):P.PadLeftWith(oL,oM,48);},plusForPos:function(oO,oP){return 0<=oO?"+"+oP:oP;},prettyPrint:function(oQ){var oR,o1,o2,o3,o4,o5,o7;oR=function(oS){var oT,oU,oV,oZ,o0;oT=$$.String(oS);if(oT==="[object Object]"){oV=function(oW){var oX,oY;oX=oW[0];oY=oW[1];return oX+" = "+Q.prettyPrint(oY);};oZ=H.GetFields(oS);o0=c.map(oV,oZ);oU="{"+P.concat("; ",o0)+"}";}else{oU=oT;}return oU;};o1=typeof oQ;if(o1=="string"){o2="\""+oQ+"\"";}else{if(o1=="object"){if(oQ instanceof $$.Array){o5=function(o6){return Q.prettyPrint(o6);};o7=c.map(o5,oQ);o4="[|"+P.concat("; ",o7)+"|]";}else{o4=oR(oQ);}o3=o4;}else{o3=$$.String(oQ);}o2=o3;}return o2;},printArray:function(o8,o9){var o_;o_=c.map(o8,o9);return"[|"+P.concat("; ",o_)+"|]";},printArray2D:function(o$,pa){var pb;pb=j.delay(function(){var pd;pd=pa.length?pa[0].length:0;return j.map(function(pe){var pf;pf=j.delay(function(){return j.map(function(ph){return o$(c.get2D(pa,pe,ph));},b.range(0,pd-1));});return P.concat("; ",pf);},b.range(0,pa.length-1));});return"[["+P.concat("][",pb)+"]]";},printList:function(pi,pj){var pk;pk=j.map(pi,pj);return"["+P.concat("; ",pk)+"]";},spaceForPos:function(pl,pm){return 0<=pl?" "+pm:pm;},toSafe:function(pn){return pn==null?"":pn;}},Queue:{Clear:function(po){return po.splice(0,c.length(po));},Contains:function(pp,pq){return j.exists(function(pr){return a.Equals(pq,pr);},pp);},CopyTo:function(ps,pt,pu){return c.blit(ps,0,pt,pu,c.length(ps));}},Random:$.Class({Next:function(){return O.floor(O.random()*2147483648);},Next1:function(pv){return pv<0?b.FailWith("'maxValue' must be greater than zero."):O.floor(O.random()*pv);},Next2:function(pw,px){var py,pz;if(pw>px){py=b.FailWith("'minValue' cannot be greater than maxValue.");}else{pz=px-pw;py=pw+O.floor(O.random()*pz);}return py;},NextBytes:function(pA){var pB;for(pB=0;pB<=c.length(pA)-1;pB++){c.set(pA,pB,O.floor(O.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return S.New();}),AjaxRemotingProvider:$.Class({},{Async:function(pC,pD){var pE,pF;pE=R.makeHeaders(pC);pF=R.makePayload(pD);return m.Delay(function(){var pH;pH=T.get_CancellationToken();return m.Bind(pH,function(pI){return m.FromContinuations(function(pJ){var pK,pL,pM,pN,pO,pS,pV,pY;pK=pJ[0];pL=pJ[1];pM=pJ[2];pN=[true];pO=m.Register(pI,function(){return function(){var pR;if(pN[0]){pN[0]=false;pR=pM(u.New());}else{pR=null;}return pR;}();});pS=function(pT){var pU;if(pN[0]){pN[0]=false;pO.Dispose();pU=pK(E.Activate(F.parse(pT)));}else{pU=null;}return pU;};pV=function(pW){var pX;if(pN[0]){pN[0]=false;pO.Dispose();pX=pL(pW);}else{pX=null;}return pX;};pY=R.EndPoint();return R.AjaxProvider().Async(pY,pE,pF,pS,pV);});});});},Send:function(pZ,p0){return m.Start(m.Ignore(U.Async(pZ,p0)),{$:0});},Sync:function(p1,p2){var p3,p4,p5,p6;p3=R.EndPoint();p4=R.makeHeaders(p1);p5=R.makePayload(p2);p6=R.AjaxProvider().Sync(p3,p4,p5);return E.Activate(F.parse(p6));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var p7,p8,p9,p_;try{if(!P.StartsWith(V.location.href,"https://")){p9=P.Replace(V.location.href,"http://","https://");R.EndPoint=function(){return p9;};p8=true;}else{p8=false;}p7=p8;}catch(p_){p7=false;}return p7;},XhrProvider:$.Class({Async:function(p$,qa,qb,qc,qd){return R.ajax(true,p$,qa,qb,qc,qd);},Sync:function(qe,qf,qg){var qh;qh=[undefined];R.ajax(false,qe,qf,qg,function(qi){qh[0]=qi;},function(qj){return b.Raise(qj);});return qh[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(qk){var ql;ql={};ql["content-type"]="application/json";ql["x-websharper-rpc"]=qk;return ql;},makePayload:function(qm){return F.stringify(qm);}},Seq:{append:function(qn,qo){return W.Of(function(){var qq,qr;qq=k.Get(qn);qr=[true];return y.New(qq,null,function(qs){var qt,qu,qv,qw;if(qs.s.MoveNext()){qs.c=qs.s.get_Current();qt=true;}else{qu=qs.s;!a.Equals(qu,null)?qu.Dispose():null;qs.s=null;if(qr[0]){qr[0]=false;qs.s=k.Get(qo);if(qs.s.MoveNext()){qs.c=qs.s.get_Current();qw=true;}else{qs.s.Dispose();qs.s=null;qw=false;}qv=qw;}else{qv=false;}qt=qv;}return qt;},function(qx){var qy;qy=qx.s;return!a.Equals(qy,null)?qy.Dispose():null;});});},average:function(qz){var qA,qF,qG;qA=j.fold(function(qB){var qC,qD;qC=qB[0];qD=qB[1];return function(qE){return[qC+1,qD+qE];};},[0,0],qz);qF=qA[1];qG=qA[0];return qF/qG;},averageBy:function(qH,qI){var qJ,qO,qP;qJ=j.fold(function(qK){var qL,qM;qL=qK[0];qM=qK[1];return function(qN){return[qL+1,qM+qH(qN)];};},[0,0],qI);qO=qJ[1];qP=qJ[0];return qO/qP;},cache:function(qQ){var qR,qS,qT;qR=[];qS=[k.Get(qQ)];qT=function(){var qV;qV=function(qW){var qX,qY,qZ,q0;if(qW.s+1<qR.length){qW.s=qW.s+1;qW.c=qR[qW.s];qX=true;}else{qY=qS[0];if(a.Equals(qY,null)){qZ=false;}else{if(qY.MoveNext()){qW.s=qW.s+1;qW.c=qY.get_Current();qR.push(qW.get_Current());q0=true;}else{qY.Dispose();qS[0]=null;q0=false;}qZ=q0;}qX=qZ;}return qX;};return y.New(0,null,qV,function(){});};return W.Of(qT);},choose:function(q2,q3){var q4;q4=function(q5){var q6,q7,q8;q6=q2(q5);if(q6.$==0){q7=$.New(M,{$:0});}else{q8=q6.$0;q7=L.ofArray([q8]);}return q7;};return j.collect(q4,q3);},collect:function(q9,q_){return j.concat(j.map(q9,q_));},compareWith:function(q$,ra,rb){var rc,rd,re,rf,rg,rh,ri;rc=k.Get(ra);try{re=k.Get(rb);try{rg=0;rh=true;while(rh?rg===0:false){ri=[rc.MoveNext(),re.MoveNext()];ri[0]?ri[1]?rg=(q$(rc.get_Current()))(re.get_Current()):rg=1:ri[1]?rg=-1:rh=false;}rf=rg;}finally{re.Dispose!=undefined?re.Dispose():null;}rd=rf;}finally{rc.Dispose!=undefined?rc.Dispose():null;}return rd;},concat:function(rj){return W.Of(function(){var rl,rm;rl=k.Get(rj);rm=function(rn){var ro,rp,rq,rr;ro=rn.s;if(a.Equals(ro,null)){if(rl.MoveNext()){rn.s=k.Get(rl.get_Current());rq=rm(rn);}else{rl.Dispose();rq=false;}rp=rq;}else{if(ro.MoveNext()){rn.c=ro.get_Current();rr=true;}else{rn.Dispose();rn.s=null;rr=rm(rn);}rp=rr;}return rp;};return y.New(null,null,rm,function(rs){var rt;rt=rs.s;!a.Equals(rt,null)?rt.Dispose():null;return!a.Equals(rl,null)?rl.Dispose():null;});});},countBy:function(ru,rv){var rw;rw=function(){var ry,rz,rA,rB,rC,rD,rE,rF,rH,rI;ry={};rz=k.Get(rv);try{rB=[];while(rz.MoveNext()){rC=ru(rz.get_Current());rD=a.Hash(rC);if(ry.hasOwnProperty(rD)){rE=void(ry[rD]=ry[rD]+1);}else{rB.push(rC);rE=void(ry[rD]=1);}}rF=function(rG){return[rG,ry[a.Hash(rG)]];};rH=rB.slice(0);rI=c.map(rF,rH);rA=rI;}finally{rz.Dispose!=undefined?rz.Dispose():null;}return rA;};return j.delay(rw);},delay:function(rJ){return W.Of(function(){return k.Get(rJ(null));});},distinct:function(rL){return j.distinctBy(function(rM){return rM;},rL);},distinctBy:function(rN,rO){var rP;rP=function(){var rR,rS,rT,r1,r3;rR=k.Get(rO);rS=d.prototype.constructor.apply(d,[]);rT=function(rU){var rV,rW,rX,rY,rZ,r0;rV=rN(rU);rW=a.Hash(rV);rX=rS[rW];if(a.Equals(rX,undefined)){rS[rW]=[rV];rY=true;}else{if(X.contains(rV,rX)){rZ=false;}else{r0=rX.push(rV);rZ=true;}rY=rZ;}return rY;};r1=function(){return rR.Dispose();};r3=function(r4){var r5,r6,r7,r8;if(rR.MoveNext()){r6=rR.get_Current();r7=rT(r6);while(!r7?rR.MoveNext():false){r6=rR.get_Current();r7=rT(r6);}if(r7){r4.c=r6;r8=true;}else{r8=false;}r5=r8;}else{r5=false;}return r5;};return y.New(null,null,r3,r1);};return W.Of(rP);},empty:function(){return[];},enumFinally:function(r9,r_){var r$;r$=function(){var sb,sc,sd,se,sg;try{sc=k.Get(r9);}catch(sd){r_(null);sc=b.Raise(sd);}sb=sc;se=function(){sb.Dispose();return r_(null);};sg=function(sh){var si;if(sb.MoveNext()){sh.c=sb.get_Current();si=true;}else{si=false;}return si;};return y.New(null,null,sg,se);};return W.Of(r$);},enumUsing:function(sj,sk){var sl;sl=function(){var sn,so,sp,sq,ss;try{so=k.Get(sk(sj));}catch(sp){sj.Dispose();so=b.Raise(sp);}sn=so;sq=function(){sn.Dispose();return sj.Dispose();};ss=function(st){var su;if(sn.MoveNext()){st.c=sn.get_Current();su=true;}else{su=false;}return su;};return y.New(null,null,ss,sq);};return W.Of(sl);},enumWhile:function(sv,sw){return W.Of(function(){var sy;sy=function(sz){var sA,sB,sC,sD;sA=sz.s;if(a.Equals(sA,null)){if(sv(null)){sz.s=k.Get(sw);sC=sy(sz);}else{sC=false;}sB=sC;}else{if(sA.MoveNext()){sz.c=sA.get_Current();sD=true;}else{sA.Dispose();sz.s=null;sD=sy(sz);}sB=sD;}return sB;};return y.New(null,null,sy,function(sE){var sF;sF=sE.s;return!a.Equals(sF,null)?sF.Dispose():null;});});},exists:function(sG,sH){var sI,sJ,sK;sI=k.Get(sH);try{sK=false;while(!sK?sI.MoveNext():false){sK=sG(sI.get_Current());}sJ=sK;}finally{sI.Dispose!=undefined?sI.Dispose():null;}return sJ;},exists2:function(sL,sM,sN){var sO,sP,sQ,sR,sS;sO=k.Get(sM);try{sQ=k.Get(sN);try{sS=false;while((!sS?sO.MoveNext():false)?sQ.MoveNext():false){sS=(sL(sO.get_Current()))(sQ.get_Current());}sR=sS;}finally{sQ.Dispose!=undefined?sQ.Dispose():null;}sP=sR;}finally{sO.Dispose!=undefined?sO.Dispose():null;}return sP;},filter:function(sT,sU){var sV;sV=function(){var sX,sY,s0;sX=k.Get(sU);sY=function(){return sX.Dispose();};s0=function(s1){var s2,s3,s4,s5;s2=sX.MoveNext();s3=sX.get_Current();s4=false;while(s2){if(sT(s3)){s1.c=s3;s4=true;s5=s2=false;}else{s5=sX.MoveNext()?s3=sX.get_Current():s2=false;}}return s4;};return y.New(null,null,s0,sY);};return W.Of(sV);},find:function(s6,s7){var s8,s9,s_;s8=j.tryFind(s6,s7);if(s8.$==0){s9=b.FailWith("KeyNotFoundException");}else{s_=s8.$0;s9=s_;}return s9;},findIndex:function(s$,ta){var tb,tc,td;tb=j.tryFindIndex(s$,ta);if(tb.$==0){tc=b.FailWith("KeyNotFoundException");}else{td=tb.$0;tc=td;}return tc;},fold:function(te,tf,tg){var th,ti,tj;th=tf;ti=k.Get(tg);try{while(ti.MoveNext()){th=(te(th))(ti.get_Current());}tj=th;}finally{ti.Dispose!=undefined?ti.Dispose():null;}return tj;},forall:function(tk,tl){return!j.exists(function(tm){return!tk(tm);},tl);},forall2:function(tn,to,tp){return!j.exists2(function(tq){return function(tr){return!(tn(tq))(tr);};},to,tp);},groupBy:function(ts,tt){return j.delay(function(){var tv,tw,tx,ty,tz,tA,tB,tC;tv={};tw={};tx=[];ty=k.Get(tt);try{while(ty.MoveNext()){tA=ty.get_Current();tB=ts(tA);tC=a.Hash(tB);!tv.hasOwnProperty(tC)?tx.push(tB):null;tw[tC]=tB;tv.hasOwnProperty(tC)?tv[tC].push(tA):void(tv[tC]=[tA]);}tz=c.map(function(tD){return[tD,tv[a.Hash(tD)]];},tx);}finally{ty.Dispose!=undefined?ty.Dispose():null;}return tz;});},head:function(tE){var tF,tG;tF=k.Get(tE);try{tG=tF.MoveNext()?tF.get_Current():j.insufficient();}finally{tF.Dispose!=undefined?tF.Dispose():null;}return tG;},init:function(tH,tI){return j.take(tH,j.initInfinite(tI));},initInfinite:function(tJ){var tK;tK=function(){var tM;tM=function(tN){tN.c=tJ(tN.s);tN.s=tN.s+1;return true;};return y.New(0,null,tM,function(){});};return W.Of(tK);},insufficient:function(){return b.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(tP){var tQ,tR;tQ=k.Get(tP);try{tR=!tQ.MoveNext();}finally{tQ.Dispose!=undefined?tQ.Dispose():null;}return tR;},iter:function(tS,tT){return j.iteri(function(){return function(tV){return tS(tV);};},tT);},iter2:function(tW,tX,tY){var tZ,t0,t1,t2;tZ=k.Get(tX);try{t1=k.Get(tY);try{while(tZ.MoveNext()?t1.MoveNext():false){(tW(tZ.get_Current()))(t1.get_Current());}}finally{t1.Dispose!=undefined?t1.Dispose():null;}t0=t2;}finally{tZ.Dispose!=undefined?tZ.Dispose():null;}return t0;},iteri:function(t3,t4){var t5,t6,t7;t5=0;t6=k.Get(t4);try{while(t6.MoveNext()){(t3(t5))(t6.get_Current());t5=t5+1;}}finally{t6.Dispose!=undefined?t6.Dispose():null;}return t7;},last:function(t8){var t9,t_,t$,ua;t9=k.Get(t8);try{t$=t9.MoveNext();if(!t$){ua=j.insufficient();}else{while(t9.MoveNext()){}ua=t9.get_Current();}t_=ua;}finally{t9.Dispose!=undefined?t9.Dispose():null;}return t_;},length:function(ub){var uc,ud,ue;uc=0;ud=k.Get(ub);try{while(ud.MoveNext()){uc=uc+1;}ue=uc;}finally{ud.Dispose!=undefined?ud.Dispose():null;}return ue;},map:function(uf,ug){var uh;uh=function(){var uj,uk,um;uj=k.Get(ug);uk=function(){return uj.Dispose();};um=function(un){var uo;if(uj.MoveNext()){un.c=uf(uj.get_Current());uo=true;}else{uo=false;}return uo;};return y.New(null,null,um,uk);};return W.Of(uh);},mapi:function(up,uq){return j.mapi2(up,j.initInfinite(function(ur){return ur;}),uq);},mapi2:function(us,ut,uu){var uv;uv=function(){var ux,uy,uz,uB;ux=k.Get(ut);uy=k.Get(uu);uz=function(){ux.Dispose();return uy.Dispose();};uB=function(uC){var uD;if(ux.MoveNext()?uy.MoveNext():false){uC.c=(us(ux.get_Current()))(uy.get_Current());uD=true;}else{uD=false;}return uD;};return y.New(null,null,uB,uz);};return W.Of(uv);},max:function(uE){return j.reduce(function(uF){return function(uG){return a.Compare(uF,uG)>=0?uF:uG;};},uE);},maxBy:function(uH,uI){return j.reduce(function(uJ){return function(uK){return a.Compare(uH(uJ),uH(uK))>=0?uJ:uK;};},uI);},min:function(uL){return j.reduce(function(uM){return function(uN){return a.Compare(uM,uN)<=0?uM:uN;};},uL);},minBy:function(uO,uP){return j.reduce(function(uQ){return function(uR){return a.Compare(uO(uQ),uO(uR))<=0?uQ:uR;};},uP);},nth:function(uS,uT){var uU,uV,uW;uS<0?b.FailWith("negative index requested"):null;uU=-1;uV=k.Get(uT);try{while(uU<uS){!uV.MoveNext()?j.insufficient():null;uU=uU+1;}uW=uV.get_Current();}finally{uV.Dispose!=undefined?uV.Dispose():null;}return uW;},pairwise:function(uX){var uY,u0;uY=function(uZ){return[c.get(uZ,0),c.get(uZ,1)];};u0=j.windowed(2,uX);return j.map(uY,u0);},pick:function(u1,u2){var u3,u4,u5;u3=j.tryPick(u1,u2);if(u3.$==0){u4=b.FailWith("KeyNotFoundException");}else{u5=u3.$0;u4=u5;}return u4;},readOnly:function(u6){return W.Of(function(){return k.Get(u6);});},reduce:function(u8,u9){var u_,u$,va;u_=k.Get(u9);try{!u_.MoveNext()?b.FailWith("The input sequence was empty"):null;va=u_.get_Current();while(u_.MoveNext()){va=(u8(va))(u_.get_Current());}u$=va;}finally{u_.Dispose!=undefined?u_.Dispose():null;}return u$;},scan:function(vb,vc,vd){var ve;ve=function(){var vg,vh,vj;vg=k.Get(vd);vh=function(){return vg.Dispose();};vj=function(vk){var vl,vm;if(vk.s){if(vg.MoveNext()){vk.c=(vb(vk.get_Current()))(vg.get_Current());vm=true;}else{vm=false;}vl=vm;}else{vk.c=vc;vk.s=true;vl=true;}return vl;};return y.New(false,null,vj,vh);};return W.Of(ve);},skip:function(vn,vo){return W.Of(function(){var vq,vr;vq=k.Get(vo);for(vr=1;vr<=vn;vr++){!vq.MoveNext()?j.insufficient():null;}return vq;});},skipWhile:function(vs,vt){return W.Of(function(){var vv,vw,vx;vv=k.Get(vt);vw=true;while(vv.MoveNext()?vs(vv.get_Current()):false){vw=false;}if(vw){vv.Dispose();vx=k.Get(j.empty());}else{vx=y.New(true,null,function(vy){var vz,vA;if(vy.s){vy.s=false;vy.c=vv.get_Current();vz=true;}else{vA=vv.MoveNext();vy.c=vv.get_Current();vz=vA;}return vz;},function(){return vv.Dispose();});}return vx;});},sort:function(vC){return j.sortBy(function(vD){return vD;},vC);},sortBy:function(vE,vF){return j.delay(function(){var vH;vH=c.ofSeq(vF);c.sortInPlaceBy(vE,vH);return vH;});},sum:function(vI){return j.fold(function(vJ){return function(vK){return vJ+vK;};},0,vI);},sumBy:function(vL,vM){return j.fold(function(vN){return function(vO){return vN+vL(vO);};},0,vM);},take:function(vP,vQ){vP<=0?b.FailWith("The input must be non-negative."):null;return W.Of(function(){var vS;vS=[k.Get(vQ)];return y.New(0,null,function(vT){var vU,vV,vW,vX,vY;vT.s=vT.s+1;if(vT.s>vP){vU=false;}else{vV=vS[0];if(a.Equals(vV,null)){vW=j.insufficient();}else{if(vV.MoveNext()){vT.c=vV.get_Current();if(vT.s===vP){vV.Dispose();vY=void(vS[0]=null);}else{vY=null;}vX=true;}else{vV.Dispose();vS[0]=null;vX=j.insufficient();}vW=vX;}vU=vW;}return vU;},function(){var v0;v0=vS[0];return!a.Equals(v0,null)?v0.Dispose():null;});});},takeWhile:function(v1,v2){return j.delay(function(){return j.enumUsing(k.Get(v2),function(v4){return j.enumWhile(function(){return v4.MoveNext()?v1(v4.get_Current()):false;},j.delay(function(){return[v4.get_Current()];}));});});},toArray:function(v7){var v8,v9,v_,v$;v8=[];v9=k.Get(v7);try{while(v9.MoveNext()){v$=v9.get_Current();v8.push(v$);}}finally{v9.Dispose!=undefined?v9.Dispose():null;}return v8.slice(0);},toList:function(wa){return L.ofSeq(wa);},truncate:function(wb,wc){return j.delay(function(){return j.enumUsing(k.Get(wc),function(we){var wf;wf=[0];return j.enumWhile(function(){return we.MoveNext()?wf[0]<wb:false;},j.delay(function(){Y.incr(wf);return[we.get_Current()];}));});});},tryFind:function(wi,wj){var wk,wl,wm,wn;wk=k.Get(wj);try{wm={$:0};while(wm.$==0?wk.MoveNext():false){wn=wk.get_Current();wi(wn)?wm={$:1,$0:wn}:null;}wl=wm;}finally{wk.Dispose!=undefined?wk.Dispose():null;}return wl;},tryFindIndex:function(wo,wp){var wq,wr,ws,wt,wu;wq=k.Get(wp);try{ws=true;wt=0;while(ws?wq.MoveNext():false){wu=wq.get_Current();wo(wu)?ws=false:wt=wt+1;}wr=ws?{$:0}:{$:1,$0:wt};}finally{wq.Dispose!=undefined?wq.Dispose():null;}return wr;},tryPick:function(wv,ww){var wx,wy,wz;wx=k.Get(ww);try{wz={$:0};while(a.Equals(wz,{$:0})?wx.MoveNext():false){wz=wv(wx.get_Current());}wy=wz;}finally{wx.Dispose!=undefined?wx.Dispose():null;}return wy;},unfold:function(wA,wB){var wC;wC=function(){var wE;wE=function(wF){var wG,wH,wI,wJ;wG=wA(wF.s);if(wG.$==0){wH=false;}else{wI=wG.$0[0];wJ=wG.$0[1];wF.c=wI;wF.s=wJ;wH=true;}return wH;};return y.New(wB,null,wE,function(){});};return W.Of(wC);},windowed:function(wL,wM){wL<=0?b.FailWith("The input must be non-negative."):null;return j.delay(function(){return j.enumUsing(k.Get(wM),function(wO){var wP;wP=[];return j.append(j.enumWhile(function(){return wP.length<wL?wO.MoveNext():false;},j.delay(function(){wP.push(wO.get_Current());return j.empty();})),j.delay(function(){return wP.length===wL?j.append([wP.slice(0)],j.delay(function(){return j.enumWhile(function(){return wO.MoveNext();},j.delay(function(){wP.shift();wP.push(wO.get_Current());return[wP.slice(0)];}));})):j.empty();}));});});},zip:function(wW,wX){return j.mapi2(function(wY){return function(wZ){return[wY,wZ];};},wW,wX);},zip3:function(w0,w1,w2){return j.mapi2(function(w3){return function(w4){var w5,w6;w5=w4[0];w6=w4[1];return[w3,w5,w6];};},w0,j.zip(w1,w2));}},Slice:{array:function(w7,w8,w9){var w_,w$,xa,xb,xc,xd,xe,xf;w_=[w8,w9];if(w_[0].$==0){if(w_[1].$==1){xb=w_[1].$0;xa=w7.slice(0,xb+1);}else{xa=[];}w$=xa;}else{if(w_[1].$==0){xd=w_[0].$0;xc=w7.slice(xd);}else{xe=w_[1].$0;xf=w_[0].$0;xc=w7.slice(xf,xe+1);}w$=xc;}return w$;},array2D:function(xg,xh,xi,xj,xk){var xl,xm,xn,xo,xp,xq,xr,xs,xt,xu,xv,xw,xx,xy;if(xh.$==1){xn=xh.$0;xm=xn;}else{xm=0;}xl=xm;if(xj.$==1){xq=xj.$0;xp=xq;}else{xp=0;}xo=xp;if(xi.$==1){xt=xi.$0;xs=xt;}else{xs=xg.length-1;}xr=xs;if(xk.$==1){xw=xk.$0;xv=xw;}else{xv=(xg.length?xg[0].length:0)-1;}xu=xv;xx=xr-xl+1;xy=xu-xo+1;return c.sub2D(xg,xl,xo,xx,xy);},array2Dfix1:function(xz,xA,xB,xC){var xD,xE,xF,xG,xH,xI,xJ,xK,xL;if(xB.$==1){xF=xB.$0;xE=xF;}else{xE=0;}xD=xE;if(xC.$==1){xI=xC.$0;xH=xI;}else{xH=(xz.length?xz[0].length:0)-1;}xG=xH;xJ=xG-xD+1;xK=d(xJ);for(xL=0;xL<=xJ-1;xL++){c.set(xK,xL,c.get2D(xz,xA,xD+xL));}return xK;},array2Dfix2:function(xM,xN,xO,xP){var xQ,xR,xS,xT,xU,xV,xW,xX,xY;if(xN.$==1){xS=xN.$0;xR=xS;}else{xR=0;}xQ=xR;if(xO.$==1){xV=xO.$0;xU=xV;}else{xU=xM.length-1;}xT=xU;xW=xT-xQ+1;xX=d(xW);for(xY=0;xY<=xW-1;xY++){c.set(xX,xY,c.get2D(xM,xQ+xY,xP));}return xX;},setArray:function(xZ,x0,x1,x2){var x3,x4,x5,x6,x7,x8;if(x0.$==1){x5=x0.$0;x4=x5;}else{x4=0;}x3=x4;if(x1.$==1){x8=x1.$0;x7=x8;}else{x7=xZ.length-1;}x6=x7;return c.setSub(xZ,x3,x6-x3+1,x2);},setArray2D:function(x9,x_,x$,ya,yb,yc){var yd,ye,yf,yg,yh,yi,yj,yk,yl,ym,yn,yo;if(x_.$==1){yf=x_.$0;ye=yf;}else{ye=0;}yd=ye;if(ya.$==1){yi=ya.$0;yh=yi;}else{yh=0;}yg=yh;if(x$.$==1){yl=x$.$0;yk=yl;}else{yk=x9.length-1;}yj=yk;if(yb.$==1){yo=yb.$0;yn=yo;}else{yn=(x9.length?x9[0].length:0)-1;}ym=yn;return c.setSub2D(x9,yd,yg,yj-yd+1,ym-yg+1,yc);},setArray2Dfix1:function(yp,yq,yr,ys,yt){var yu,yv,yw,yx,yy,yz,yA,yB;if(yr.$==1){yw=yr.$0;yv=yw;}else{yv=0;}yu=yv;if(ys.$==1){yz=ys.$0;yy=yz;}else{yy=(yp.length?yp[0].length:0)-1;}yx=yy;yA=yx-yu+1;for(yB=0;yB<=yA-1;yB++){c.set2D(yp,yq,yu+yB,c.get(yt,yB));}return;},setArray2Dfix2:function(yC,yD,yE,yF,yG){var yH,yI,yJ,yK,yL,yM,yN,yO;if(yD.$==1){yJ=yD.$0;yI=yJ;}else{yI=0;}yH=yI;if(yE.$==1){yM=yE.$0;yL=yM;}else{yL=yC.length-1;}yK=yL;yN=yK-yH+1;for(yO=0;yO<=yN-1;yO++){c.set2D(yC,yH+yO,yF,c.get(yG,yO));}return;},string:function(yP,yQ,yR){var yS,yT,yU,yV,yW,yX,yY,yZ;yS=[yQ,yR];if(yS[0].$==0){if(yS[1].$==1){yV=yS[1].$0;yU=yP.slice(0,yV+1);}else{yU="";}yT=yU;}else{if(yS[1].$==0){yX=yS[0].$0;yW=yP.slice(yX);}else{yY=yS[1].$0;yZ=yS[0].$0;yW=yP.slice(yZ,yY+1);}yT=yW;}return yT;}},Stack:{Clear:function(y0){return y0.splice(0,c.length(y0));},Contains:function(y1,y2){return j.exists(function(y3){return a.Equals(y2,y3);},y1);},CopyTo:function(y4,y5,y6){return c.blit(y5,0,y5,y6,c.length(y4));}},Strings:{Compare:function(y7,y8){return b.Compare(y7,y8);},CopyTo:function(y9,y_,y$,za,zb){return c.blit(P.ToCharArray(y9),y_,y$,za,zb);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(zc,zd){return P.PadLeftWith(zc,zd,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s:$s;},PadRight:function(ze,zf){return P.PadRightWith(ze,zf,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c)):$s;},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(zg,zh,zi){var zj;zj=function(zk){var zl,zm,zn,zo;zl=zk.indexOf(zh);if(zl!==-1){zn=P.ReplaceOnce(zk,zh,zi);zo=zl+zi.length;zm=P.Substring(zn,0,zl+zi.length)+zj(zn.substring(zo));}else{zm=zk;}return zm;};return zj(zg);},ReplaceChar:function(zp,zq,zr){return P.Replace(zp,Z.fromCharCode(zq),Z.fromCharCode(zr));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(zs,zt,zu){var zv;zv=P.SplitWith(zs,zt);return zu===1?c.filter(function(zw){return zw!=="";},zv):zv;},SplitChars:function(zx,zy,zz){var zA;zA="["+P.RegexEscape(Z.fromCharCode.apply(undefined,zy))+"]";return P.Split(zx,new _0(zA),zz);},SplitStrings:function(zB,zC,zD){var zE;zE=P.concat("|",c.map(function(zF){return P.RegexEscape(zF);},zC));return P.Split(zB,new _0(zE),zD);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(zG){return c.init(zG.length,function(zH){return zG.charCodeAt(zH);});},ToCharArrayRange:function(zI,zJ,zK){return c.init(zK,function(zL){return zI.charCodeAt(zJ+zL);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(zM,zN){return c.init(zN.length,function(zO){return zM(zN.charCodeAt(zO));}).join("");},concat:function(zP,zQ){return j.toArray(zQ).join(zP);},exists:function(zR,zS){return j.exists(zR,P.protect(zS));},forall:function(zT,zU){return j.forall(zT,P.protect(zU));},init:function(zV,zW){return c.init(zV,zW).join("");},iter:function(zX,zY){return j.iter(zX,P.protect(zY));},iteri:function(zZ,z0){return j.iteri(zZ,P.protect(z0));},length:function(z1){return P.protect(z1).length;},map:function(z2,z3){return P.collect(function(z4){return Z.fromCharCode(z2(z4));},P.protect(z3));},mapi:function(z5,z6){return j.toArray(j.mapi(function(z7){return function(z8){return Z.fromCharCode((z5(z7))(z8));};},z6)).join("");},protect:function(z9){return z9===null?"":z9;},replicate:function(z_,z$){return P.init(z_,function(){return z$;});}},Unchecked:{Compare:function(Ab,Ac){var Ad,An,Ao,Ap,Aq;Ad=function(Ae){return function(Af){var Ag;Ag=[0];H.ForEach(Ae,function(Ah){var Ai,Aj;if(!Ae.hasOwnProperty(Ah)){Ai=false;}else{if(!Af.hasOwnProperty(Ah)){Ag[0]=1;Aj=true;}else{Ag[0]=a.Compare(Ae[Ah],Af[Ah]);Aj=Ag[0]!==0;}Ai=Aj;}return Ai;});Ag[0]===0?H.ForEach(Af,function(Ak){var Al,Am;if(!Af.hasOwnProperty(Ak)){Al=false;}else{if(!Ae.hasOwnProperty(Ak)){Ag[0]=-1;Am=true;}else{Am=false;}Al=Am;}return Al;}):null;return Ag[0];};};if(Ab===Ac){An=0;}else{Ao=typeof Ab;if(Ao==="function"){Ap=b.FailWith("Cannot compare function values.");}else{if(Ao==="boolean"){Ap=Ab<Ac?-1:1;}else{if(Ao==="number"){Ap=Ab<Ac?-1:1;}else{if(Ao==="string"){Ap=Ab<Ac?-1:1;}else{if(Ao==="object"){Ap=Ab===null?-1:Ac===null?1:"CompareTo"in Ab?Ab.CompareTo(Ac):(Ab instanceof d?Ac instanceof d:false)?a.compareArrays(Ab,Ac):(Ab instanceof v?Ac instanceof v:false)?a.compareDates(Ab,Ac):(Ad(Ab))(Ac);}else{Aq=typeof Ac;Ap=Aq==="undefined"?0:-1;}}}}}An=Ap;}return An;},Equals:function(Ar,As){var At,Az,AA;At=function(Au){return function(Av){var Aw;Aw=[true];H.ForEach(Au,function(Ax){Aw[0]=!Au.hasOwnProperty(Ax)?true:Av.hasOwnProperty(Ax)?a.Equals(Au[Ax],Av[Ax]):false;return!Aw[0];});Aw[0]?H.ForEach(Av,function(Ay){Aw[0]=!Av.hasOwnProperty(Ay)?true:Au.hasOwnProperty(Ay);return!Aw[0];}):null;return Aw[0];};};if(Ar===As){Az=true;}else{AA=typeof Ar;Az=AA==="object"?(((Ar===null?true:Ar===undefined)?true:As===null)?true:As===undefined)?false:"Equals"in Ar?Ar.Equals(As):(Ar instanceof d?As instanceof d:false)?a.arrayEquals(Ar,As):(Ar instanceof v?As instanceof v:false)?a.dateEquals(Ar,As):(At(Ar))(As):false;}return Az;},Hash:function(AB){var AC;AC=typeof AB;return AC==="function"?0:AC==="boolean"?AB?1:0:AC==="number"?AB:AC==="string"?a.hashString(AB):AC==="object"?AB==null?0:AB instanceof d?a.hashArray(AB):a.hashObject(AB):0;},arrayEquals:function(AD,AE){var AF,AG,AH;if(c.length(AD)===c.length(AE)){AG=true;AH=0;while(AG?AH<c.length(AD):false){!a.Equals(c.get(AD,AH),c.get(AE,AH))?AG=false:null;AH=AH+1;}AF=AG;}else{AF=false;}return AF;},compareArrays:function(AI,AJ){var AK,AL,AM,AN;if(c.length(AI)<c.length(AJ)){AK=-1;}else{if(c.length(AI)>c.length(AJ)){AL=1;}else{AM=0;AN=0;while(AM===0?AN<c.length(AI):false){AM=a.Compare(c.get(AI,AN),c.get(AJ,AN));AN=AN+1;}AL=AM;}AK=AL;}return AK;},compareDates:function(AO,AP){return b.Compare(AO.getTime(),AP.getTime());},dateEquals:function(AQ,AR){return AQ.getTime()===AR.getTime();},hashArray:function(AS){var AT,AU;AT=-34948909;for(AU=0;AU<=c.length(AS)-1;AU++){AT=a.hashMix(AT,a.Hash(c.get(AS,AU)));}return AT;},hashMix:function(AV,AW){return(AV<<5)+AV+AW;},hashObject:function(AX){var AY,AZ,A2;if("GetHashCode"in AX){AY=AX.GetHashCode();}else{AZ=function(A0,A1){return a.hashMix(A0,A1);};A2=[0];H.ForEach(AX,function(A3){A2[0]=AZ(AZ(A2[0],a.hashString(A3)),a.Hash(AX[A3]));return false;});AY=A2[0];}return AY;},hashString:function(A4){var A5,A6,A7;if(A4===null){A5=0;}else{A6=5381;for(A7=0;A7<=A4.length-1;A7++){A6=a.hashMix(A6,A4.charCodeAt(A7)<<0);}A5=A6;}return A5;}},Util:{addListener:function(A8,A9){A8.Subscribe(s.observer(A9));},observer:function(A_){return{OnCompleted:function(){},OnError:function(){},OnNext:A_};},subscribeTo:function(Bb,Bc){return Bb.Subscribe(s.observer(Bc));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Operators);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.Array);e=$.Safe($$.WebSharper.AggregateException);f=$.Safe($$.WebSharper.Exception);g=$.Safe($$.WebSharper.ArgumentException);h=$.Safe($$.Number);i=$.Safe($$.WebSharper.IndexOutOfRangeException);j=$.Safe($$.WebSharper.Seq);k=$.Safe($$.WebSharper.Enumerator);l=$.Safe($$.WebSharper.Arrays2D);m=$.Safe($$.WebSharper.Concurrency);n=$.Safe($$.WebSharper.Option);o=$.Safe($$.clearTimeout);p=$.Safe($$.setTimeout);q=$.Safe($$.WebSharper.CancellationTokenSource);r=$.Safe($$.WebSharper.Char);s=$.Safe($$.WebSharper.Util);t=$.Safe($$.WebSharper.Lazy);u=$.Safe($$.WebSharper.OperationCanceledException);v=$.Safe($$.Date);w=$.Safe($$.console);x=$.Safe(m.Scheduler);y=$.Safe(k.T);z=$.Safe($$.WebSharper.Html);A=$.Safe(z.Client);B=$.Safe(A.Activator);C=$.Safe($$.document);D=$.Safe($$.jQuery);E=$.Safe($$.WebSharper.Json);F=$.Safe($$.JSON);G=$.Safe($$.WebSharper.JavaScript);H=$.Safe(G.JSModule);I=$.Safe(A.HtmlContentExtensions);J=$.Safe(I.SingleNode);K=$.Safe($$.WebSharper.InvalidOperationException);L=$.Safe($$.WebSharper.List);M=$.Safe(L.T);N=$.Safe($$.WebSharper.MatchFailureException);O=$.Safe($$.Math);P=$.Safe($$.WebSharper.Strings);Q=$.Safe($$.WebSharper.PrintfHelpers);R=$.Safe($$.WebSharper.Remoting);S=$.Safe(R.XhrProvider);T=$.Safe($$.WebSharper.AsyncProxy);U=$.Safe(R.AjaxRemotingProvider);V=$.Safe($$.window);W=$.Safe($$.WebSharper.Enumerable);X=$.Safe($$.Arrays);Y=$.Safe($$.WebSharper.Ref);Z=$.Safe($$.String);return _0=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(e,f);$.Inherit(g,f);$.Inherit(i,f);$.Inherit(K,f);$.Inherit(N,f);$.Inherit(u,f);R.EndPoint();R.AjaxProvider();B.Activate();m.scheduler();m.defCTS();m.GetCT();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{WebSharper:{Json:{Decode:{Array:function(s){return b.Array(s);},DateTime:function(){return function(){return function(u){return(new c(u)).getTime();};};},List:function(v){return function(){return function(x){var y;y=v(null);return d.init(e.length(x),function(z){return y(e.get(x,z));});};};},Record:function(A,B){return function(){return function(D){var E,F;E=A===undefined?{}:new A();F=function(G){var H,I,J;H=G[0];I=G[1];J=G[2];return f.Equals(J,0)?void(E[H]=(I(null))(D[H])):f.Equals(J,1)?void(E[H]=D.hasOwnProperty(H)?{$:1,$0:(I(null))(D[H])}:{$:0}):f.Equals(J,2)?D.hasOwnProperty(H)?void(E[H]=(I(null))(D[H])):null:g.FailWith("Invalid field option kind");};e.iter(F,B);return E;};};},Set:function(K){return function(){return function(M){var N;N=K(null);return i.New1(j.OfSeq(e.map(N,M)));};};},StringDictionary:function(O){return function(){return function(Q){var R;R=k.New12();O(null);m.ForEach(Q,function(S){R.set_Item(S,Q[S]);return false;});return R;};};},StringMap:function(T){return function(){return function(V){var W;W=[n.New1([])];T(null);m.ForEach(V,function(X){W[0]=W[0].Add(X,V[X]);return false;});return W[0];};};},Tuple:function(Y){return b.Tuple(Y);},Union:function(Z,_0,_1){return function(){return function(_3){var _4,_5,_6,_7,_8,_9,bb,be,bf,bg;if(typeof _3==="object"){_5=Z===undefined?{}:new Z();if(f.Equals(typeof _0,"string")){_8=_3[_0];_9=function(_){var ba;ba=_[0];_[1];return ba===_8;};_7=e.findINdex(_9,_1);}else{bb=[undefined];m.ForEach(_0,function(bc){var bd;if(_3.hasOwnProperty(bc)){bb[0]=_0[bc];bd=true;}else{bd=false;}return bd;});_7=bb[0];}_6=_7;_5.$=_6;be=e.get(_1,_6);bf=be[1];bg=function(bh){var bi,bj,bk;bi=bh[0];bj=bh[1];bk=bh[2];return bi===null?void(_5.$0=(bk(null))(_3)):void(_5[bi]=(bk(null))(_3[bj]));};e.iter(bg,bf);_4=_5;}else{_4=_3;}return _4;};};}},Encode:{Array:function(bk){return function(){return function(bm){var bn;bn=bk(null);return e.map(bn,bm);};};},DateTime:function(){return function(){return function(bp){return(new c(bp)).toISOString();};};},Id:function(){return function(bq){return bq;};},List:function(br){return function(){return function(bt){var bu,bv,bw;bu=[];bv=br(null);bw=function(bx){var by;by=bu.push(bv(bx));return;};o.iter(bw,bt);return bu;};};},Record:function(bz,bA){return function(){return function(bC){var bD,bE;bD={};bE=function(bF){var bG,bH,bI,bJ,bK,bL,bM;bG=bF[0];bH=bF[1];bI=bF[2];if(f.Equals(bI,0)){bJ=void(bD[bG]=(bH(null))(bC[bG]));}else{if(f.Equals(bI,1)){bK=bC[bG];if(bK.$==0){bL=null;}else{bM=bK.$0;bL=void(bD[bG]=(bH(null))(bM));}bJ=bL;}else{bJ=f.Equals(bI,2)?bC.hasOwnProperty(bG)?void(bD[bG]=(bH(null))(bC[bG])):null:g.FailWith("Invalid field option kind");}}return bJ;};e.iter(bE,bA);return bD;};};},Set:function(bN){return function(){return function(bP){var bQ,bR,bS;bQ=[];bR=bN(null);bS=function(bT){var bU;bU=bQ.push(bR(bT));return;};o.iter(bS,bP);return bQ;};};},StringDictionary:function(bV){return function(){return function(bX){var bY,bZ,b0,b1,b2,b3,b4,b5;bY={};bZ=bV(null);b0=p.Get(bX);try{while(b0.MoveNext()){b2=b0.get_Current();b3=g.KeyValue(b2);b4=b3[1];b5=b3[0];bY[b5]=bZ(b4);}}finally{b0.Dispose!=undefined?b0.Dispose():null;}return bY;};};},StringMap:function(b6){return function(){return function(b8){var b9,b_,b$;b9={};b_=b6(null);b$=function(ca){return function(cb){b9[ca]=b_(cb);};};q.Iterate(b$,b8);return b9;};};},Tuple:function(cc){return function(){return function(ce){return e.map2(function(cf){return function(cg){return(cf(null))(cg);};},cc,ce);};};},Union:function(ch,ci,cj){return function(){return function(cl){var cm,cn,co,cp,cq,cr,cs;if(typeof cl==="object"){cn={};co=cl.$;cp=e.get(cj,co);cq=cp[0];cr=cp[1];f.Equals(typeof ci,"string")?void(cn[ci]=cq):null;cs=function(ct){var cu,cv,cw,cx,cy;cu=ct[0];cv=ct[1];cw=ct[2];if(cu===null){cy=(cw(null))(cl.$0);cx=m.ForEach(cy,function(cz){cn[cz]=cy[cz];return false;});}else{cx=void(cn[cv]=(cw(null))(cl[cu]));}return cx;};e.iter(cs,cr);cm=cn;}else{cm=cl;}return cm;};};}}},Web:{InlineControl:$.Class({get_Body:function(){var cA;cA=e.fold(function(cB){return function(cC){return cB[cC];};},r,this.funcName);return cA.apply(null,this.args);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Json);b=$.Safe(a.Encode);c=$.Safe($$.Date);d=$.Safe($$.WebSharper.List);e=$.Safe($$.WebSharper.Arrays);f=$.Safe($$.WebSharper.Unchecked);g=$.Safe($$.WebSharper.Operators);h=$.Safe($$.WebSharper.Collections);i=$.Safe(h.FSharpSet);j=$.Safe(h.BalancedTree);k=$.Safe(h.Dictionary);l=$.Safe($$.WebSharper.JavaScript);m=$.Safe(l.JSModule);n=$.Safe(h.FSharpMap);o=$.Safe($$.WebSharper.Seq);p=$.Safe($$.WebSharper.Enumerator);q=$.Safe(h.MapModule);return r=$.Safe($$.window);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{WebSharper:{Html:{Client:{Attr:{Attr:$.Field(function(){return c.Attr();})},Attribute:$.Class({get_Body:function(){var u;u=this.HtmlProvider.CreateAttribute(this.Name);u.value=this.Value;return u;}},{New:function(v,w,x){var y;y=d.New1(v);y.Name=w;y.Value=x;return y;},New1:function(z){var A;A=$.New(this,e.New());A.HtmlProvider=z;return A;}}),AttributeBuilder:$.Class({NewAttr:function(B,C){var D;D=d.New(this.HtmlProvider,B,C);return D;}},{New:function(E){var F;F=$.New(this,{});F.HtmlProvider=E;return F;}}),Default:{OnLoad:function(G){return c.HtmlProvider().OnDocumentReady(G);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(H,I){var J;J=d.New(this.HtmlProvider,H,I);return J;}},{New:function(K){var L;L=$.New(this,{});L.HtmlProvider=K;return L;}}),DeprecatedTagBuilder:$.Class({NewTag:function(M,N){var O,P,Q,R;O=f.New(this.HtmlProvider,M);P=g.Get(N);try{while(P.MoveNext()){R=P.get_Current();O.AppendI(R);}}finally{P.Dispose!=undefined?P.Dispose():null;}return O;}},{New:function(S){var T;T=$.New(this,{});T.HtmlProvider=S;return T;}}),Element:$.Class({AppendI:function(U){var V,W,X,Y,Z,_0,_1,_2,_3;V=U.get_Body();if(V.nodeType===2){X=this["HtmlProvider@33"];Y=this.get_Body();W=X.AppendAttribute(Y,V);}else{Z=this["HtmlProvider@33"];_0=this.get_Body();_1=U.get_Body();W=Z.AppendNode(_0,_1);}if(this.IsRendered){_2=U.Render();}else{_3=this.RenderInternal;_2=void(this.RenderInternal=function(){_3(null);return U.Render();});}return _2;},AppendN:function(_5){var _6,_7;_6=this["HtmlProvider@33"];_7=this.get_Body();return _6.AppendNode(_7,_5);},OnLoad:function(_8){var _9,_;_9=this["HtmlProvider@33"];_=this.get_Body();return _9.OnLoad(_,_8);},Render:function(){var ba;if(!this.IsRendered){this.RenderInternal.call(null,null);ba=void(this.IsRendered=true);}else{ba=null;}return ba;},get_Body:function(){return this.Dom;},get_Html:function(){return this["HtmlProvider@33"].GetHtml(this.get_Body());},get_HtmlProvider:function(){return this["HtmlProvider@33"];},get_Id:function(){var ba,bb,bc,bd,be,bf,bg;ba=this["HtmlProvider@33"];bb=this.get_Body();bc=ba.GetProperty(bb,"id");if(bc===undefined?true:bc===""){be="id"+h.round(h.random()*100000000);bf=this["HtmlProvider@33"];bg=this.get_Body();bf.SetProperty(bg,"id",be);bd=be;}else{bd=bc;}return bd;},get_Item:function(bh){var bi,bj,bk,bl;bi=this["HtmlProvider@33"];bj=this.get_Body();bi.GetAttribute(bj,bh);bk=this["HtmlProvider@33"];bl=this.get_Body();return bk.GetAttribute(bl,bh);},get_Text:function(){return this["HtmlProvider@33"].GetText(this.get_Body());},get_Value:function(){return this["HtmlProvider@33"].GetValue(this.get_Body());},set_Html:function(bm){var bn,bo;bn=this["HtmlProvider@33"];bo=this.get_Body();return bn.SetHtml(bo,bm);},set_Item:function(bp,bq){var br,bs;br=this["HtmlProvider@33"];bs=this.get_Body();return br.SetAttribute(bs,bp,bq);},set_Text:function(bt){var bu,bv;bu=this["HtmlProvider@33"];bv=this.get_Body();return bu.SetText(bv,bt);},set_Value:function(bw){var bx,by;bx=this["HtmlProvider@33"];by=this.get_Body();return bx.SetValue(by,bw);}},{New:function(bz,bA){var bB,bC;bB=f.New1(bz);bC=i.createElement(bA);bB.RenderInternal=function(){};bB.Dom=bC;bB.IsRendered=false;return bB;},New1:function(bE){var bF;bF=$.New(this,e.New());bF["HtmlProvider@33"]=bE;return bF;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(bG,bH){return j(bH.get_Body()).bind("blur",function(bI){return(bG(bH))(bI);});},OnChange:function(bJ,bK){return j(bK.get_Body()).bind("change",function(bL){return(bJ(bK))(bL);});},OnClick:function(bM,bN){return this.OnMouse("click",bM,bN);},OnDoubleClick:function(bO,bP){return this.OnMouse("dblclick",bO,bP);},OnError:function(bQ,bR){return j(bR.get_Body()).bind("error",function(bS){return(bQ(bR))(bS);});},OnEvent:function(bT,bU,bV){return j(bV.get_Body()).bind(bT,function(bW){return(bU(bV))(bW);});},OnFocus:function(bX,bY){return j(bY.get_Body()).bind("focus",function(bZ){return(bX(bY))(bZ);});},OnKeyDown:function(b0,b1){return j(b1.get_Body()).bind("keydown",function(b2){return(b0(b1))({KeyCode:b2.keyCode,Event:b2});});},OnKeyPress:function(b3,b4){return j(b4.get_Body()).keypress(function(b5){return(b3(b4))({CharacterCode:b5.which,Event:b5});});},OnKeyUp:function(b6,b7){return j(b7.get_Body()).bind("keyup",function(b8){return(b6(b7))({KeyCode:b8.keyCode,Event:b8});});},OnLoad:function(b9,b_){return j(b_.get_Body()).bind("load",function(b$){return(b9(b_))(b$);});},OnMouse:function(ca,cb,cc){return j(cc.get_Body()).bind(ca,function(cd){return(cb(cc))({X:cd.pageX,Y:cd.pageY,Event:cd});});},OnMouseDown:function(ce,cf){return this.OnMouse("mousedown",ce,cf);},OnMouseEnter:function(cg,ch){return this.OnMouse("mouseenter",cg,ch);},OnMouseLeave:function(ci,cj){return this.OnMouse("mouseleave",ci,cj);},OnMouseMove:function(ck,cl){return this.OnMouse("mousemove",ck,cl);},OnMouseOut:function(cm,cn){return this.OnMouse("mouseout",cm,cn);},OnMouseUp:function(co,cp){return this.OnMouse("mouseup",co,cp);},OnResize:function(cq,cr){return j(cr.get_Body()).bind("resize",function(cs){return(cq(cr))(cs);});},OnScroll:function(ct,cu){return j(cu.get_Body()).bind("scroll",function(cv){return(ct(cu))(cv);});},OnSelect:function(cw,cx){return j(cx.get_Body()).bind("select",function(cy){return(cw(cx))(cy);});},OnSubmit:function(cz,cA){return j(cA.get_Body()).bind("submit",function(cB){return(cz(cA))(cB);});},OnUnLoad:function(cC,cD){return j(cD.get_Body()).bind("unload",function(cE){return(cC(cD))(cE);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return l.New();})},Implementation:{Attr:$.Field(function(){return m.New(c.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return n.New(c.HtmlProvider());}),HtmlProvider:$.Field(function(){return o.New();}),JQueryHtmlProvider:$.Class({AddClass:function(cF,cG){return j(cF).addClass(cG);},AppendAttribute:function(cH,cI){var cJ,cK;cJ=cI.nodeName;cK=cI.value;return this.SetAttribute(cH,cJ,cK);},AppendNode:function(cL,cM){return j(cL).append(j(cM));},Clear:function(cN){return j(cN).contents().detach();},CreateAttribute:function(cO){return i.createAttribute(cO);},CreateElement:function(cP){return i.createElement(cP);},CreateTextNode:function(cQ){return i.createTextNode(cQ);},GetAttribute:function(cR,cS){return j(cR).attr(cS);},GetHtml:function(cT){return j(cT).html();},GetProperty:function(cU,cV){var cW;cW=j(cU).prop(cV);return cW;},GetText:function(cX){return cX.textContent;},GetValue:function(cY){var cZ;cZ=j(cY).val();return cZ;},HasAttribute:function(c0,c1){return j(c0).attr(c1)!=null;},OnDocumentReady:function(c2){return j(i).ready(c2);},OnLoad:function(c3,c4){return j(c3).ready(c4);},Remove:function(c5){return j(c5).remove();},RemoveAttribute:function(c6,c7){return j(c6).removeAttr(c7);},RemoveClass:function(c8,c9){return j(c8).removeClass(c9);},SetAttribute:function(c_,c$,da){return j(c_).attr(c$,da);},SetCss:function(db,dc,dd){return j(db).css(dc,dd);},SetHtml:function(de,df){return j(de).html(df);},SetProperty:function(dg,dh,di){var dj;dj=j(dg).prop(dh,di);return dj;},SetStyle:function(dk,dl){return j(dk).attr("style",dl);},SetText:function(dm,dn){dm.textContent=dn;},SetValue:function(_do,dp){return j(_do).val(dp);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return p.New(c.HtmlProvider());})},Operators:{OnAfterRender:function(dq,dr){var ds;ds=dr.Render;dr.Render=function(){ds.apply(dr);return dq(dr);};return;},OnBeforeRender:function(du,dv){var dw;dw=dv.Render;dv.Render=function(){du(dv);return dw.apply(dv);};return;},add:function(dy,dz){var dA,dB,dC;dA=g.Get(dz);try{while(dA.MoveNext()){dC=dA.get_Current();dy.AppendI(dC);}}finally{dA.Dispose!=undefined?dA.Dispose():null;}return dy;}},Pagelet:$.Class({AppendTo:function(dD){var dE,dF;dE=i.getElementById(dD);dF=dE.appendChild(this.get_Body());return this.Render();},Render:function(){return null;},ReplaceInDom:function(dG){var dH;dH=dG.parentNode.replaceChild(this.get_Body(),dG);return this.Render();}},{New:function(){return $.New(this,{});}}),TagBuilder:$.Class({NewTag:function(dI,dJ){var dK,dL,dM,dN;dK=f.New(this.HtmlProvider,dI);dL=g.Get(dJ);try{while(dL.MoveNext()){dN=dL.get_Current();dK.AppendI(dN);}}finally{dL.Dispose!=undefined?dL.Dispose():null;}return dK;},text:function(dO){return q.New(dO);}},{New:function(dP){var dQ;dQ=$.New(this,{});dQ.HtmlProvider=dP;return dQ;}}),Tags:{Deprecated:$.Field(function(){return c.DeprecatedHtml();}),Tags:$.Field(function(){return c.Tags();})},Text:$.Class({get_Body:function(){return i.createTextNode(this.text);}},{New:function(dR){var dS;dS=$.New(this,e.New());dS.text=dR;return dS;}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Html);b=$.Safe(a.Client);c=$.Safe(b.Implementation);d=$.Safe(b.Attribute);e=$.Safe(b.Pagelet);f=$.Safe(b.Element);g=$.Safe($$.WebSharper.Enumerator);h=$.Safe($$.Math);i=$.Safe($$.document);j=$.Safe($$.jQuery);k=$.Safe(b.Events);l=$.Safe(k.JQueryEventSupport);m=$.Safe(b.AttributeBuilder);n=$.Safe(b.DeprecatedTagBuilder);o=$.Safe(c.JQueryHtmlProvider);p=$.Safe(b.TagBuilder);q=$.Safe(b.Text);r=$.Safe(b.Attr);s=$.Safe(b.EventsPervasives);return t=$.Safe(b.Tags);});$.OnLoad(function(){$.Inherit(d,e);$.Inherit(f,e);$.Inherit(q,e);t.Tags();t.Deprecated();c.Tags();c.HtmlProvider();c.DeprecatedHtml();c.Attr();s.Events();r.Attr();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;$.Define($$,{WebSharper:{Collections:{BalancedTree:{Add:function(C,D){return b.Put(function(){return function(F){return F;};},C,D);},Branch:function(G,H,I){return{Node:G,Left:H,Right:I,Height:1+c.Max(H==null?0:H.Height,I==null?0:I.Height),Count:1+(H==null?0:H.Count)+(I==null?0:I.Count)};},Build:function(J,K,L){var M,N,O,P,Q;M=L-K+1;if(M<=0){N=null;}else{O=(K+L)/2>>0;P=b.Build(J,K,O-1);Q=b.Build(J,O+1,L);N=b.Branch(d.get(J,O),P,Q);}return N;},Contains:function(R,S){return!((b.Lookup(R,S))[0]==null);},Enumerate:function(T,U){var V;V=function(W){var X,Y,Z,_0,_1,_2,_3;X=W[0];Y=W[1];if(X==null){if(Y.$==1){_1=Y.$0[0];_2=Y.$1;_3=Y.$0[1];_0={$:1,$0:[_1,[_3,_2]]};}else{_0={$:0};}Z=_0;}else{Z=T?V([X.Right,$.New(g,{$:1,$0:[X.Node,X.Left],$1:Y})]):V([X.Left,$.New(g,{$:1,$0:[X.Node,X.Right],$1:Y})]);}return Z;};return e.unfold(V,[U,$.New(g,{$:0})]);},Lookup:function(_4,_5){var _6,_7,_8,_9,_,ba;_6=[];_7=_5;_8=true;while(_8){if(_7==null){_9=_8=false;}else{_=c.Compare(_4,_7.Node);if(_===0){ba=_8=false;}else{if(_===1){_6.unshift([true,_7.Node,_7.Left]);ba=_7=_7.Right;}else{_6.unshift([false,_7.Node,_7.Right]);ba=_7=_7.Left;}}_9=ba;}}return[_7,_6];},OfSeq:function(ba){var bb;bb=d.sort(e.toArray(e.distinct(ba)));return b.Build(bb,0,bb.length-1);},Put:function(bc,bd,be){var bf,bg,bh;bf=b.Lookup(bd,be);bg=bf[0];bh=bf[1];return bg==null?b.Rebuild(bh,b.Branch(bd,null,null)):b.Rebuild(bh,b.Branch((bc(bg.Node))(bd),bg.Left,bg.Right));},Rebuild:function(bi,bj){var bk,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz;bk=function(bl){return bl==null?0:bl.Height;};bm=bj;for(bn=0;bn<=d.length(bi)-1;bn++){bo=d.get(bi,bn);if(bo[0]){bq=bo[1];br=bo[2];if(bk(bm)>bk(br)+1){if(bk(bm.Left)===bk(bm.Right)+1){bu=bm.Left;bt=b.Branch(bu.Node,b.Branch(bq,br,bu.Left),b.Branch(bm.Node,bu.Right,bm.Right));}else{bt=b.Branch(bm.Node,b.Branch(bq,br,bm.Left),bm.Right);}bs=bt;}else{bs=b.Branch(bq,br,bm);}bp=bs;}else{bv=bo[1];bw=bo[2];if(bk(bm)>bk(bw)+1){if(bk(bm.Right)===bk(bm.Left)+1){bz=bm.Right;by=b.Branch(bz.Node,b.Branch(bm.Node,bm.Left,bz.Left),b.Branch(bv,bz.Right,bw));}else{by=b.Branch(bm.Node,bm.Left,b.Branch(bv,bm.Right,bw));}bx=by;}else{bx=b.Branch(bv,bm,bw);}bp=bx;}bm=bp;}return bm;},Remove:function(bA,bB){var bC,bD,bE,bF,bG,bH,bI,bJ,bK;bC=b.Lookup(bA,bB);bD=bC[0];bE=bC[1];if(bD==null){bF=bB;}else{if(bD.Right==null){bG=b.Rebuild(bE,bD.Left);}else{if(bD.Left==null){bH=b.Rebuild(bE,bD.Right);}else{bI=e.append(b.Enumerate(false,bD.Left),b.Enumerate(false,bD.Right));bJ=e.toArray(bI);bK=b.Build(bJ,0,bJ.length-1);bH=b.Rebuild(bE,bK);}bG=bH;}bF=bG;}return bF;},TryFind:function(bL,bM){var bN;bN=(b.Lookup(bL,bM))[0];return bN==null?{$:0}:{$:1,$0:bN.Node};}},Dictionary:$.Class({Add:function(bO,bP){var bQ,bR;bQ=this.hash.call(null,bO);if(this.data.hasOwnProperty(bQ)){bR=c.FailWith("An item with the same key has already been added.");}else{this.data[bQ]={K:bO,V:bP};bR=void(this.count=this.count+1);}return bR;},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bS){return this.data.hasOwnProperty(this.hash.call(null,bS));},GetEnumerator:function(){var bT;bT=i.GetFieldValues(this.data);return j.Get(bT);},Remove:function(bU){var bV,bW;bV=this.hash.call(null,bU);if(this.data.hasOwnProperty(bV)){i.Delete(this.data,bV);this.count=this.count-1;bW=true;}else{bW=false;}return bW;},get_Item:function(bX){var bY,bZ,b0;bY=this.hash.call(null,bX);if(this.data.hasOwnProperty(bY)){b0=this.data[bY];bZ=b0.V;}else{bZ=k.notPresent();}return bZ;},set_Item:function(b1,b2){var b3;b3=this.hash.call(null,b1);!this.data.hasOwnProperty(b3)?void(this.count=this.count+1):null;this.data[b3]={K:b1,V:b2};return;}},{New:function(b4){return $.New(this,l.New4(b4,function(b5){return function(b6){return m.Equals(b5,b6);};},function(b7){return m.Hash(b7);}));},New1:function(b8,b9){return $.New(this,l.New4(b8,function(b_){return function(b$){return b9.Equals(b_,b$);};},function(ca){return b9.GetHashCode(ca);}));},New11:function(cb,cc){return $.New(this,l.New3(cc));},New12:function(){return $.New(this,l.New4([],function(cd){return function(ce){return m.Equals(cd,ce);};},function(cf){return m.Hash(cf);}));},New2:function(){return $.New(this,l.New12());},New3:function(ch){return $.New(this,l.New4([],function(ci){return function(cj){return ch.Equals(ci,cj);};},function(ck){return ch.GetHashCode(ck);}));},New4:function(cl,cm,cn){var co,cp,cq,cr,cs;co=$.New(this,{});co.hash=cn;co.count=0;co.data={};cp=j.Get(cl);try{while(cp.MoveNext()){cr=cp.get_Current();cs=cr.K;co.data[co.hash.call(null,cs)]=cr.V;}}finally{cp.Dispose!=undefined?cp.Dispose():null;}return co;}}),DictionaryUtil:{notPresent:function(){return c.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(ct,cu){var cv,cw;cv=this.tree;cw=$.New(o,{Key:ct,Value:cu});return n.New(b.Add(cw,cv));},CompareTo:function(cx){return e.compareWith(function(cy){return function(cz){return c.Compare(cy,cz);};},this,cx);},ContainsKey:function(cA){var cB,cC;cB=this.tree;cC=$.New(o,{Key:cA,Value:undefined});return b.Contains(cC,cB);},Equals:function(cD){return this.get_Count()===cD.get_Count()?e.forall2(function(cE){return function(cF){return m.Equals(cE,cF);};},this,cD):false;},GetEnumerator:function(){var cG,cI,cJ;cG=function(cH){return{K:cH.Key,V:cH.Value};};cI=b.Enumerate(false,this.tree);cJ=e.map(cG,cI);return j.Get(cJ);},GetHashCode:function(){return m.Hash(e.toArray(this));},Remove:function(cK){var cL,cM;cL=this.tree;cM=$.New(o,{Key:cK,Value:undefined});return n.New(b.Remove(cM,cL));},TryFind:function(cN){var cO,cP,cQ,cS;cO=this.tree;cP=$.New(o,{Key:cN,Value:undefined});cQ=function(cR){return cR.Value;};cS=b.TryFind(cP,cO);return p.map(cQ,cS);},get_Count:function(){var cT;cT=this.tree;return cT==null?0:cT.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cU){var cV,cW,cX;cV=this.TryFind(cU);if(cV.$==0){cW=c.FailWith("The given key was not present in the dictionary.");}else{cX=cV.$0;cW=cX;}return cW;},get_Tree:function(){return this.tree;}},{New:function(cY){var cZ;cZ=$.New(this,{});cZ.tree=cY;return cZ;},New1:function(c0){return $.New(this,n.New(q.fromSeq(c0)));}}),FSharpSet:$.Class({Add:function(c1){return r.New1(b.Add(c1,this.tree));},CompareTo:function(c2){return e.compareWith(function(c3){return function(c4){return c.Compare(c3,c4);};},this,c2);},Contains:function(c5){return b.Contains(c5,this.tree);},Equals:function(c6){return this.get_Count()===c6.get_Count()?e.forall2(function(c7){return function(c8){return m.Equals(c7,c8);};},this,c6):false;},GetEnumerator:function(){return j.Get(b.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+m.Hash(e.toArray(this));},IsProperSubsetOf:function(c9){return this.IsSubsetOf(c9)?this.get_Count()<c9.get_Count():false;},IsProperSupersetOf:function(c_){return this.IsSupersetOf(c_)?this.get_Count()>c_.get_Count():false;},IsSubsetOf:function(c$){return e.forall(function(da){return c$.Contains(da);},this);},IsSupersetOf:function(db){var dd=this;return e.forall(function(dc){return dd.Contains(dc);},db);},Remove:function(de){return r.New1(b.Remove(de,this.tree));},add:function(df){return r.New1(b.OfSeq(e.append(this,df)));},get_Count:function(){var dg;dg=this.tree;return dg==null?0:dg.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(b.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(b.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(dh){return s.Filter(function(di){return!dh.Contains(di);},this);}},{New:function(dj){return $.New(this,r.New1(t.ofSeq(dj)));},New1:function(dk){var dl;dl=$.New(this,{});dl.tree=dk;return dl;}}),HashSetProxy:$.Class({Add:function(dm){return this.add(dm);},Clear:function(){this.data=u.prototype.constructor.apply(u,[]);this.count=0;return;},Contains:function(dn){var _do;_do=this.data[this.hash.call(null,dn)];return _do==null?false:this.arrContains(dn,_do);},CopyTo:function(dp){var dq,dr,ds;dq=0;dr=v.concat(this.data);for(ds=0;ds<=dr.length-1;ds++){d.set(dp,ds,dr[ds]);}return;},ExceptWith:function(dt){var du,dv,dw,dx;du=j.Get(dt);try{while(du.MoveNext()){dw=du.get_Current();dx=this.Remove(dw);}}finally{du.Dispose!=undefined?du.Dispose():null;}return dv;},GetEnumerator:function(){return j.Get(v.concat(this.data));},IntersectWith:function(dy){var dz,dA,dB,dC,dD,dE,dF;dz=w.New3(dy,this.equals,this.hash);dA=v.concat(this.data);for(dB=0;dB<=dA.length-1;dB++){dC=dA[dB];dD=dz.Contains(dC);if(!dD){dF=this.Remove(dC);dE=void dF;}else{dE=null;}}return;},IsProperSubsetOf:function(dG){var dH;dH=d.ofSeq(dG);return this.count<d.length(dH)?this.IsSubsetOf(dH):false;},IsProperSupersetOf:function(dI){var dJ;dJ=d.ofSeq(dI);return this.count>d.length(dJ)?this.IsSupersetOf(dJ):false;},IsSubsetOf:function(dK){var dL,dM,dO;dL=w.New3(dK,this.equals,this.hash);dM=function(dN){return dL.Contains(dN);};dO=v.concat(this.data);return e.forall(dM,dO);},IsSupersetOf:function(dP){var dQ,dS=this;dQ=function(dR){return dS.Contains(dR);};return e.forall(dQ,dP);},Overlaps:function(dT){var dU,dW=this;dU=function(dV){return dW.Contains(dV);};return e.exists(dU,dT);},Remove:function(dX){var dY,dZ,d0,d1;dY=this.hash.call(null,dX);dZ=this.data[dY];if(dZ==null){d0=false;}else{if(this.arrRemove(dX,dZ)){this.count=this.count-1;d1=true;}else{d1=false;}d0=d1;}return d0;},RemoveWhere:function(d2){var d3,d4,d5,d6,d7;d3=v.concat(this.data);for(d4=0;d4<=d3.length-1;d4++){d5=d3[d4];if(d2(d5)){d7=this.Remove(d5);d6=void d7;}else{d6=null;}}return;},SetEquals:function(d8){var d9;d9=w.New3(d8,this.equals,this.hash);return this.get_Count()===d9.get_Count()?this.IsSupersetOf(d9):false;},SymmetricExceptWith:function(d_){var d$,ea,eb,ec,ed,ee;d$=j.Get(d_);try{while(d$.MoveNext()){eb=d$.get_Current();if(this.Contains(eb)){ed=this.Remove(eb);ec=void ed;}else{ee=this.Add(eb);ec=void ee;}}}finally{d$.Dispose!=undefined?d$.Dispose():null;}return ea;},UnionWith:function(ef){var eg,eh,ei,ej;eg=j.Get(ef);try{while(eg.MoveNext()){ei=eg.get_Current();ej=this.Add(ei);}}finally{eg.Dispose!=undefined?eg.Dispose():null;}return eh;},add:function(ek){var el,em,en,eo,ep;el=this.hash.call(null,ek);em=this.data[el];if(em==null){this.data[el]=[ek];this.count=this.count+1;en=true;}else{if(this.arrContains(ek,em)){eo=false;}else{ep=em.push(ek);this.count=this.count+1;eo=true;}en=eo;}return en;},arrContains:function(eq,er){var es,et,eu;es=true;et=0;eu=er.length;while(es?et<eu:false){(this.equals.call(null,er[et]))(eq)?es=false:et=et+1;}return!es;},arrRemove:function(ev,ew){var ex,ey,ez,eA,eB,eC,eD;ex=true;ey=0;ez=ew.length;while(ex?ey<ez:false){if((this.equals.call(null,ew[ey]))(ev)){eB=ey;eC=[];eD=ew.splice.apply(ew,[eB,1].concat(eC));eA=ex=false;}else{eA=ey=ey+1;}}return!ex;},get_Count:function(){return this.count;}},{New:function(eE){return $.New(this,w.New3(eE,function(eF){return function(eG){return m.Equals(eF,eG);};},function(eH){return m.Hash(eH);}));},New1:function(eI){return $.New(this,w.New3(e.empty(),function(eJ){return function(eK){return eI.Equals(eJ,eK);};},function(eL){return eI.GetHashCode(eL);}));},New11:function(){return $.New(this,w.New3(e.empty(),function(eM){return function(eN){return m.Equals(eM,eN);};},function(eO){return m.Hash(eO);}));},New2:function(eP,eQ){return $.New(this,w.New3(eP,function(eR){return function(eS){return eQ.Equals(eR,eS);};},function(eT){return eQ.GetHashCode(eT);}));},New3:function(eU,eV,eW){var eX,eY,eZ,e0,e1;eX=$.New(this,{});eX.equals=eV;eX.hash=eW;eX.data=u.prototype.constructor.apply(u,[]);eX.count=0;eY=j.Get(eU);try{while(eY.MoveNext()){e0=eY.get_Current();e1=eX.add(e0);}}finally{eY.Dispose!=undefined?eY.Dispose():null;}return eX;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}},LinkedList:{E:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!m.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(e2){var e3;e3=$.New(this,{});e3.c=e2;return e3;}}),T:$.Class({AddAfter:function(e4,e5){var e6,e7,e8;e6=e4.n;e7={p:e4,n:e6,v:e5};m.Equals(e4.n,null)?void(this.p=e7):null;e4.n=e7;if(!m.Equals(e6,null)){e6.p=e7;e8=e7;}else{e8=null;}this.c=this.c+1;return e7;},AddBefore:function(e9,e_){var e$,fa,fb;e$=e9.p;fa={p:e$,n:e9,v:e_};m.Equals(e9.p,null)?void(this.n=fa):null;e9.p=fa;if(!m.Equals(e$,null)){e$.n=fa;fb=fa;}else{fb=null;}this.c=this.c+1;return fa;},AddFirst:function(fc){var fd,fe;if(this.c===0){fe={p:null,n:null,v:fc};this.n=fe;this.p=this.n;this.c=1;fd=fe;}else{fd=this.AddBefore(this.n,fc);}return fd;},AddLast:function(ff){var fg,fh;if(this.c===0){fh={p:null,n:null,v:ff};this.n=fh;this.p=this.n;this.c=1;fg=fh;}else{fg=this.AddAfter(this.p,ff);}return fg;},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(fi){var fj,fk;fj=false;fk=this.n;while(!m.Equals(fk,null)?!fj:false){fk.v==fi?fj=true:fk=fk.n;}return fj;},Find:function(fl){var fm,fn;fm=this.n;fn=true;while(fn?!m.Equals(fm,null):false){fm.v==fl?fn=false:fm=fm.n;}return fn?null:fm;},FindLast:function(fo){var fp,fq;fp=this.p;fq=true;while(fq?!m.Equals(fp,null):false){fp.v==fo?fq=false:fp=fp.p;}return fq?null:fp;},GetEnumerator:function(){return y.New(this);},Remove:function(fr){var fs,ft,fu,fv;fs=fr.p;ft=fr.n;if(m.Equals(fs,null)){fu=void(this.n=ft);}else{fs.n=ft;fu=ft;}if(m.Equals(ft,null)){fv=void(this.p=fs);}else{ft.p=fs;fv=fs;}this.c=this.c-1;return;},Remove1:function(fw){var fx,fy;fx=this.Find(fw);if(m.Equals(fx,null)){fy=false;}else{this.Remove(fx);fy=true;}return fy;},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,z.New1(e.empty()));},New1:function(fz){var fA,fB,fC,fD;fA=$.New(this,{});fA.c=0;fA.n=null;fA.p=null;fB=j.Get(fz);if(fB.MoveNext()){fA.n={p:null,n:null,v:fB.get_Current()};fA.p=fA.n;fC=void(fA.c=1);}else{fC=null;}while(fB.MoveNext()){fD={p:fA.p,n:null,v:fB.get_Current()};fA.p.n=fD;fA.p=fD;fA.c=fA.c+1;}return fA;}})},MapModule:{Exists:function(fE,fF){var fG;fG=function(fH){return(fE(fH.K))(fH.V);};return e.exists(fG,fF);},Filter:function(fI,fJ){var fK,fM,fN,fO,fP;fK=function(fL){return(fI(fL.Key))(fL.Value);};fM=b.Enumerate(false,fJ.get_Tree());fN=e.filter(fK,fM);fO=e.toArray(fN);fP=b.Build(fO,0,fO.length-1);return n.New(fP);},FindKey:function(fQ,fR){var fS;fS=function(fT){return(fQ(fT.K))(fT.V)?{$:1,$0:fT.K}:{$:0};};return e.pick(fS,fR);},Fold:function(fU,fV,fW){var fX,f0;fX=function(fY){return function(fZ){return((fU(fY))(fZ.Key))(fZ.Value);};};f0=b.Enumerate(false,fW.get_Tree());return e.fold(fX,fV,f0);},FoldBack:function(f1,f2,f3){var f4,f7;f4=function(f5){return function(f6){return((f1(f6.Key))(f6.Value))(f5);};};f7=b.Enumerate(true,f2.get_Tree());return e.fold(f4,f3,f7);},ForAll:function(f8,f9){var f_;f_=function(f$){return(f8(f$.K))(f$.V);};return e.forall(f_,f9);},Iterate:function(ga,gb){var gc;gc=function(gd){return(ga(gd.K))(gd.V);};return e.iter(gc,gb);},Map:function(ge,gf){var gg,gi,gj,gk;gg=function(gh){return $.New(o,{Key:gh.Key,Value:(ge(gh.Key))(gh.Value)});};gi=b.Enumerate(false,gf.get_Tree());gj=e.map(gg,gi);gk=b.OfSeq(gj);return n.New(gk);},OfArray:function(gl){var gm,gq,gr;gm=function(gn){var go,gp;go=gn[0];gp=gn[1];return $.New(o,{Key:go,Value:gp});};gq=e.map(gm,gl);gr=b.OfSeq(gq);return n.New(gr);},Partition:function(gs,gt){var gu,gw,gx,gy,gz;gu=function(gv){return(gs(gv.Key))(gv.Value);};gw=e.toArray(b.Enumerate(false,gt.get_Tree()));gx=d.partition(gu,gw);gy=gx[1];gz=gx[0];return[n.New(b.Build(gz,0,gz.length-1)),n.New(b.Build(gy,0,gy.length-1))];},Pick:function(gA,gB){var gC;gC=function(gD){return(gA(gD.K))(gD.V);};return e.pick(gC,gB);},ToSeq:function(gE){var gF,gH;gF=function(gG){return[gG.Key,gG.Value];};gH=b.Enumerate(false,gE.get_Tree());return e.map(gF,gH);},TryFind:function(gI,gJ){return gJ.TryFind(gI);},TryFindKey:function(gK,gL){var gM;gM=function(gN){return(gK(gN.K))(gN.V)?{$:1,$0:gN.K}:{$:0};};return e.tryPick(gM,gL);},TryPick:function(gO,gP){var gQ;gQ=function(gR){return(gO(gR.K))(gR.V);};return e.tryPick(gQ,gP);}},MapUtil:{fromSeq:function(gS){var gT;gT=e.toArray(e.delay(function(){return e.collect(function(gV){var gW,gX;gW=gV[1];gX=gV[0];return[$.New(o,{Key:gX,Value:gW})];},e.distinctBy(function(gY){return gY[0];},gS));}));d.sortInPlace(gT);return b.Build(gT,0,gT.length-1);}},Pair:$.Class({CompareTo:function(gZ){return c.Compare(this.Key,gZ.Key);},Equals:function(g0){return m.Equals(this.Key,g0.Key);},GetHashCode:function(){return m.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(g1){return this.arr.push(g1);},AddRange:function(g2){var g4=this;return e.iter(function(g3){return g4.Add(g3);},g2);},Clear:function(){var g5;g5=A.splice(this.arr,0,d.length(this.arr),[]);return;},CopyTo:function(g6){return this.CopyTo1(g6,0);},CopyTo1:function(g7,g8){return this.CopyTo2(0,g7,g8,this.get_Count());},CopyTo2:function(g9,g_,g$,ha){return d.blit(this.arr,g9,g_,g$,ha);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(hb,hc){return B.New11(d.sub(this.arr,hb,hc));},Insert:function(hd,he){var hf;hf=A.splice(this.arr,hd,0,[he]);return;},InsertRange:function(hg,hh){var hi;hi=A.splice(this.arr,hg,0,e.toArray(hh));return;},RemoveAt:function(hj){var hk;hk=A.splice(this.arr,hj,1,[]);return;},RemoveRange:function(hl,hm){var hn;hn=A.splice(this.arr,hl,hm,[]);return;},Reverse:function(){return this.arr.reverse();},Reverse1:function(ho,hp){return d.reverse(this.arr,ho,hp);},ToArray:function(){return this.arr.slice();},get_Count:function(){return d.length(this.arr);},get_Item:function(hq){return d.get(this.arr,hq);},set_Item:function(hr,hs){return d.set(this.arr,hr,hs);}},{New:function(ht){return $.New(this,B.New11(e.toArray(ht)));},New1:function(){return $.New(this,B.New11([]));},New11:function(hv){var hw;hw=$.New(this,{});hw.arr=hv;return hw;},New2:function(){return $.New(this,B.New11([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(hx,hy){var hz;hz=e.toArray(e.filter(hx,hy));return r.New1(b.Build(hz,0,hz.length-1));},FoldBack:function(hA,hB,hC){return e.fold(function(hD){return function(hE){return(hA(hE))(hD);};},hC,b.Enumerate(true,hB.get_Tree()));},Partition:function(hF,hG){var hH,hI,hJ;hH=d.partition(hF,e.toArray(hG));hI=hH[1];hJ=hH[0];return[r.New1(b.OfSeq(hJ)),r.New1(b.OfSeq(hI))];}},SetUtil:{ofSeq:function(hK){var hL;hL=e.toArray(hK);d.sortInPlace(hL);return b.Build(hL,0,hL.length-1);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Collections);b=$.Safe(a.BalancedTree);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.WebSharper.Arrays);e=$.Safe($$.WebSharper.Seq);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe($$.WebSharper.JavaScript);i=$.Safe(h.JSModule);j=$.Safe($$.WebSharper.Enumerator);k=$.Safe(a.DictionaryUtil);l=$.Safe(a.Dictionary);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(a.FSharpMap);o=$.Safe(a.Pair);p=$.Safe($$.WebSharper.Option);q=$.Safe(a.MapUtil);r=$.Safe(a.FSharpSet);s=$.Safe(a.SetModule);t=$.Safe(a.SetUtil);u=$.Safe($$.Array);v=$.Safe(a.HashSetUtil);w=$.Safe(a.HashSetProxy);x=$.Safe(a.LinkedList);y=$.Safe(x.E);z=$.Safe(x.T);A=$.Safe(a.ResizeArray);return B=$.Safe(A.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Array:{MapReduce:function(bo,bp,bq,br){var bs;bs=function(bt,bu){var bv,bw,bx,by,bz,bA;if(bu<=0){return bp;}else{if(bu===1){if(bt>=0?bt<a.length(br):false){return bo(a.get(br,bt));}else{bv=bu/2>>0;bw=bs(bt,bv);bx=bs(bt+bv,bu-bv);return(bq(bw))(bx);}}else{by=bu/2>>0;bz=bs(bt,by);bA=bs(bt+by,bu-by);return(bq(bz))(bA);}}};return bs(0,a.length(br));}},Async:{Schedule:function(bA){return b.Start(b.Delay(function(){return b.Return(bA(null));}),{$:0});},StartTo:function(bC,bD){return b.StartWithContinuations(bC,bD,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bG){var bH;bH=c(bG.count);d.iteri(function(bI){return function(bJ){return a.set(bH,bI,bJ.K);};},bG);return bH;},ToValueArray:function(bK){var bL;bL=c(bK.count);d.iteri(function(bM){return function(bN){return a.set(bL,bM,bN.V);};},bK);return bL;}},Fresh:{Id:function(){var bO;bO=h.counter()+1;h.counter=function(){return bO;};return"uid"+$$.String(h.counter());},Int:function(){var bP;bP=h.counter()+1;h.counter=function(){return bP;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bQ,bR){var bS;bS=j.New(k.ToArray(bR));bS.ExceptWith(k.ToArray(bQ));return bS;},Filter:function(bT,bU){return j.New(a.filter(bT,k.ToArray(bU)));},Intersect:function(bV,bW){var bX;bX=j.New(k.ToArray(bV));bX.IntersectWith(k.ToArray(bW));return bX;},ToArray:function(bY){var bZ;bZ=c(bY.get_Count());bY.CopyTo(bZ);return bZ;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(b0){return b0.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(b1,b2){return a.iter(b1,l.ToArray(b2));},ToArray:function(b3){return b3.slice();}},Mailbox:{StartProcessor:function(b4){var b5,b6,b7;b5=[];b6=[false];b7=b.Delay(function(){return b.Combine(b.While(function(){return l.Count(b5)>0;},b.Delay(function(){return b.Bind(b4(l.Dequeue(b5)),function(){return b.Return(null);});})),b.Delay(function(){return b.Return(void(b6[0]=false));}));});return function(cb){l.Add(cb,b5);if(!b6[0]){b6[0]=true;return b.Start(b7,{$:0});}else{return null;}};}},Slot1:$.Class({Equals:function(cc){return m.Equals(this.key.call(null,this.value),this.key.call(null,cc.get_Value()));},GetHashCode:function(){return m.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(cd,ce){return n.New(cd,ce);},New:function(cf,cg){var ch;ch=$.New(this,{});ch.key=cf;ch.value=cg;return ch;}}),U:function(){return;}},An:$.Class({},{Append:function(ci,cj){return $.New(o,{$:0,$0:p.Append(ci.$0,cj.$0)});},Concat:function(ck){return $.New(o,{$:0,$0:p.Concat(d.map(function(cl){return q.List(cl);},ck))});},Const:function(cm){return q.Const(cm);},Delayed:function(cn,co,cp,cq,cr,cs){return{Compute:function(ct){return ct<=cq?cr:cn.Interpolate(co.TransformTime.call(null,(ct-cq)/cp),cr,cs);},Duration:cp+cq};},Map:function(cu,cv){var cw;cw=cv.Compute;return q.Def(cv.Duration,function(cx){return cu(cw(cx));});},Pack:function(cy){return $.New(o,{$:0,$0:p.Single({$:1,$0:cy})});},Play:function(cz){return b.Delay(function(){return b.Bind(o.Run(function(){},q.Actions(cz)),function(){return b.Return(q.Finalize(cz));});});},Run:function(cD,cE){var cF;cF=cE.Duration;return b.FromContinuations(function(cG){var cH,cI,cJ;cH=cG[0];cI=function(){r.requestAnimationFrame(function(cL){return cJ(cL,cL);});};cJ=function(cM,cN){var cO;cO=cN-cM;cD(cE.Compute.call(null,cO));return cO<=cF?void r.requestAnimationFrame(function(cP){return cJ(cM,cP);}):cH(null);};return cI(null);});},Simple:function(cQ,cR,cS,cT,cU){return{Compute:function(cV){return cQ.Interpolate(cR.TransformTime.call(null,cV/cS),cT,cU);},Duration:cS};},WhenDone:function(cW,cX){return o.Append($.New(o,{$:0,$0:p.Single({$:0,$0:cW})}),cX);},get_Empty:function(){return $.New(o,{$:0,$0:p.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(cY){var cZ,c1=this;cZ=[this.visible,this.logical];return o.WhenDone(function(){return c1.sync(cY);},cZ[0].$==1?cZ[1].$==1?c1.dirty?o.Pack(o.Map(function(c2){return c1.pushVisible(cY,c2);},s.AnimateChange(c1.tr,cZ[0].$0,cZ[1].$0))):o.get_Empty():o.get_Empty():o.get_Empty());},GetEnterAnim:function(c3){var c4,c6=this;c4=[this.visible,this.logical];return o.WhenDone(function(){return c6.sync(c3);},c4[0].$==1?c4[1].$==1?c6.dirty?o.Pack(o.Map(function(c7){return c6.pushVisible(c3,c7);},s.AnimateChange(c6.tr,c4[0].$0,c4[1].$0))):c4[0].$==0?c4[1].$==1?o.Pack(o.Map(function(c8){return c6.pushVisible(c3,c8);},s.AnimateEnter(c6.tr,c4[1].$0))):o.get_Empty():o.get_Empty():c4[0].$==0?c4[1].$==1?o.Pack(o.Map(function(c9){return c6.pushVisible(c3,c9);},s.AnimateEnter(c6.tr,c4[1].$0))):o.get_Empty():o.get_Empty():c4[0].$==0?c4[1].$==1?o.Pack(o.Map(function(c_){return c6.pushVisible(c3,c_);},s.AnimateEnter(c6.tr,c4[1].$0))):o.get_Empty():o.get_Empty());},GetExitAnim:function(c$){var da,dc=this;da=this.visible;return o.WhenDone(function(){dc.dirty=true;dc.visible={$:0};return;},da.$==1?o.Pack(o.Map(function(dd){return dc.pushVisible(c$,dd);},s.AnimateExit(dc.tr,da.$0))):o.get_Empty());},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(df,dg){this.visible={$:1,$0:dg};this.dirty=true;return(this.push.call(null,df))(dg);},sync:function(dh){if(this.dirty){t.iter(this.push.call(null,dh),this.logical);this.visible=this.logical;this.dirty=false;return;}else{return null;}}},{New:function(di,dj,dk){var dl;dl=$.New(this,{});dl.tr=di;dl.push=dk;dl.logical={$:0};dl.visible={$:0};dl.dirty=true;dl.updates=u.Map(function(dm){dl.logical={$:1,$0:dm};dl.dirty=true;return;},dj);return dl;}}),Anims:{Actions:function(dn){return q.ConcatActions(a.choose(function(_do){return _do.$==1?{$:1,$0:_do.$0}:{$:0};},p.ToArray(dn.$0)));},ConcatActions:function(dp){var dq,dr,ds,du;dq=d.toArray(dp);dr=a.length(dq);if(dr===0){return q.Const(null);}else{if(dr===1){return a.get(dq,0);}else{ds=d.max(d.map(function(dt){return dt.Duration;},dq));du=a.map(function(dv){return q.Prolong(ds,dv);},dq);return q.Def(ds,function(dw){return a.iter(function(dx){return dx.Compute.call(null,dw);},du);});}}},Const:function(dy){return q.Def(0,function(){return dy;});},Def:function(dA,dB){return{Compute:dB,Duration:dA};},Finalize:function(dC){return a.iter(function(dD){return dD.$==0?dD.$0.call(null,null):null;},p.ToArray(dC.$0));},List:function(dE){return dE.$0;},Prolong:function(dF,dG){var dH,dI,dJ;dH=dG.Compute;dI=dG.Duration;dJ=v.Create(function(){return dG.Compute.call(null,dG.Duration);});return{Compute:function(dL){return dL>=dI?dJ.eval():dH(dL);},Duration:dF};}},AppendList1:{Append:function(dM,dN){var dO;dO=[dM,dN];return dO[0].$==0?dO[1]:dO[1].$==0?dO[0]:{$:2,$0:dM,$1:dN};},Concat:function(dP){var dQ;dQ=d.toArray(dP);return w.MapReduce(function(dR){return dR;},p.Empty(),function(dS){return function(dT){return p.Append(dS,dT);};},dQ);},Empty:function(){return{$:0};},FromArray:function(dU){var dV;dV=dU.length;return dV===0?{$:0}:dV===1?{$:1,$0:a.get(dU,0)}:{$:3,$0:dU.slice()};},Single:function(dW){return{$:1,$0:dW};},ToArray:function(dX){var dY,dZ;dY=[];dZ=function(d0){var d1;if(d0.$==1){return l.Add(d0.$0,dY);}else{if(d0.$==2){d1=d0.$1;dZ(d0.$0);return dZ(d1);}else{return d0.$==3?a.iter(function(d2){return l.Add(d2,dY);},d0.$0):null;}}};dZ(dX);return l.ToArray(dY);}},Attr:$.Class({},{Animated:function(d3,d4,d5,d6){return x.Animated(d4,d5,function(d7){return function(d8){return y.SetAttr(d7,d3,d6(d8));};});},AnimatedStyle:function(d9,d_,d$,ea){return x.Animated(d_,d$,function(eb){return function(ec){return y.SetStyle(eb,d9,ea(ec));};});},Append:function(ed,ee){return x.Mk(ed.Flags|ee.Flags,x.AppendTree(ed.Tree,ee.Tree));},Class:function(ef){return x.Static(function(eg){return y.AddClass(eg,ef);});},Concat:function(eh){var ei,ek,en;ei=function(ej){return ej;};ek=function(el){return function(em){return z.Append(el,em);};};en=d.toArray(eh);return w.MapReduce(ei,x.EmptyAttr(),ek,en);},Create:function(eo,ep){return x.Static(function(eq){return y.SetAttr(eq,eo,ep);});},Dynamic:function(er,es){return x.Dynamic(es,function(et){return function(eu){return y.SetAttr(et,er,eu);};});},DynamicClass:function(ev,ew,ex){return x.Dynamic(ew,function(ey){return function(ez){return ex(ez)?y.AddClass(ey,ev):y.RemoveClass(ey,ev);};});},DynamicCustom:function(eA,eB){return x.Dynamic(eB,eA);},DynamicPred:function(eC,eD,eE){var eF;eF=function(eG){return function(eH){var eI;eI=eH[1];return eH[0]?y.SetAttr(eG,eC,eI):y.RemoveAttr(eG,eC);};};return x.Dynamic(u.Map2(function(eJ){return function(eK){return[eJ,eK];};},eD,eE),eF);},DynamicProp:function(eL,eM){return x.Dynamic(eM,function(eN){return function(eO){eN[eL]=eO;};});},DynamicStyle:function(eP,eQ){return x.Dynamic(eQ,function(eR){return function(eS){return y.SetStyle(eR,eP,eS);};});},Handler:function(eT,eU){return x.Static(function(eV){return eV.addEventListener(eT,eU,false);});},Style:function(eW,eX){return x.Static(function(eY){return y.SetStyle(eY,eW,eX);});},Value:function(eZ){var e0;e0=function(e1){return!m.Equals(e1.currentTarget.value,eZ.get_Value())?A.Set(eZ,e1.currentTarget.value):null;};return z.Concat(B.ofArray([z.Handler("change",e0),z.Handler("input",e0),x.Dynamic(eZ.get_View(),function(e2){return function(e3){return!m.Equals(e3,e2.value)?void(e2.value=e3):null;};})]));},get_Empty:function(){return x.EmptyAttr();}}),Attrs:{Animated:function(e4,e5,e6){var e7,e8;e7=C.New(e4,e5,e6);e8=4;if(s.CanAnimateEnter(e4)){e8=e8|1;}if(s.CanAnimateExit(e4)){e8=e8|2;}return x.Mk(e8,{$:1,$0:e7});},AppendTree:function(e9,e_){var e$;e$=[e9,e_];return e$[0].$==0?e$[1]:e$[1].$==0?e$[0]:{$:2,$0:e9,$1:e_};},Dynamic:function(fa,fb){return x.Mk(0,{$:1,$0:D.New(fa,fb)});},EmptyAttr:$.Field(function(){return x.Mk(0,{$:0});}),GetAnim:function(fc,fd){return o.Concat(a.map(function(fe){return(fd(fe))(fc.DynElem);},fc.DynNodes));},GetChangeAnim:function(ff){return x.GetAnim(ff,function(fg){return function(fh){return fg.GetChangeAnim(fh);};});},GetEnterAnim:function(fi){return x.GetAnim(fi,function(fj){return function(fk){return fj.GetEnterAnim(fk);};});},GetExitAnim:function(fl){return x.GetAnim(fl,function(fm){return function(fn){return fm.GetExitAnim(fn);};});},HasChangeAnim:function(fo){return(fo.DynFlags&4)!==0;},HasEnterAnim:function(fp){return(fp.DynFlags&1)!==0;},HasExitAnim:function(fq){return(fq.DynFlags&2)!==0;},Insert:function(fr,fs){var ft,fu;ft=[];fu=function(fv){var fw;if(fv.$==1){return l.Add(fv.$0,ft);}else{if(fv.$==2){fw=fv.$1;fu(fv.$0);return fu(fw);}else{return fv.$==3?fv.$0.call(null,fr):null;}}};fu(fs.Tree);return{DynElem:fr,DynFlags:fs.Flags,DynNodes:l.ToArray(ft)};},Mk:function(fx,fy){return $.New(z,{Flags:fx,Tree:fy});},Static:function(fz){return x.Mk(0,{$:3,$0:fz});},Sync:function(fA,fB){return a.iter(function(fC){return fC.Sync(fA);},fB.DynNodes);},Updates:function(fD){var fE,fJ;fE=function(fF){return function(fG){return u.Map2(function(){return function(){return null;};},fF,fG);};};fJ=fD.DynNodes;return w.MapReduce(function(fK){return fK.get_Changed();},u.Const(null),fE,fJ);}},Doc:$.Class({ReplaceInDom:function(fL){var fM,fN,fO;fM=E.createTextNode("");fN=E.createTextNode("");fO=fL.parentNode;fO.replaceChild(fN,fL);fO.insertBefore(fM,fN);return F.RunBetween(fM,fN,this);}},{Append:function(fP,fQ){var fR;fR=u.Map2(function(){return function(){return null;};},fP.Updates,fQ.Updates);return F.Mk({$:0,$0:fP.DocNode,$1:fQ.DocNode},fR);},AsPagelet:function(fU){return G.New(fU);},Button:function(fV,fW,fX){var fY;fY=z.Concat(fW);return F.Elem(F.Clickable("button",fX),fY,F.TextNode(fV));},CheckBox:function(fZ,f0){var f1;f1=y.CreateElement("input");f1.addEventListener("click",function(){return A.Set(f0,f1.checked);},false);return F.Elem(f1,z.Concat(d.toList(d.delay(function(){return d.append(fZ,d.delay(function(){return d.append([z.Create("type","checkbox")],d.delay(function(){return[z.DynamicProp("checked",f0.get_View())];}));}));}))),F.get_Empty());},CheckBoxGroup:function(f6,f7,f8){var f9,f_,ga,gc,gd;f9=u.FromVar(f8);f_=function(f$){return m.Equals(f$,f7);};ga=u.Map(function(gb){return d.exists(f_,gb);},f9);gc=z.Concat(B.append(B.ofArray([z.Create("type","checkbox"),z.Create("name",$$.String(H.GetId(f8))),z.Create("value",h.Id()),z.DynamicProp("checked",ga)]),B.ofSeq(f6)));gd=y.CreateElement("input");gd.addEventListener("click",function(){var gf;gf=gd.checked;return H.Update(f8,function(gg){return d.toList(d.distinct(gf?B.append(gg,B.ofArray([f7])):B.filter(function(gh){return!m.Equals(gh,f7);},gg)));});},false);return F.Elem(gd,gc,F.get_Empty());},Clickable:function(gi,gj){var gk;gk=y.CreateElement(gi);gk.addEventListener("click",function(gl){gl.preventDefault();return gj(null);},false);return gk;},Concat:function(gm){var gn;gn=d.toArray(gm);return w.MapReduce(function(go){return go;},F.get_Empty(),function(gp){return function(gq){return F.Append(gp,gq);};},gn);},Convert:function(gr,gs){return F.Flatten(u.Convert(gr,gs));},ConvertBy:function(gt,gu,gv){return F.Flatten(u.ConvertBy(gt,gu,gv));},ConvertSeq:function(gw,gx){return F.Flatten(u.ConvertSeq(gw,gx));},ConvertSeqBy:function(gy,gz,gA){return F.Flatten(u.ConvertSeqBy(gy,gz,gA));},Elem:function(gB,gC,gD){var gE,gF,gG;gE=I.CreateElemNode(gB,gC,gD.DocNode);gF=gD.Updates;gG=u.Map2(function(){return function(){return null;};},x.Updates(gE.Attr),gF);return F.Mk({$:1,$0:gE},gG);},Element:function(gJ,gK,gL){var gM,gN;gM=z.Concat(gK);gN=F.Concat(gL);return F.Elem(y.CreateElement(gJ),gM,gN);},EmbedView:function(gO){var gP,gQ;gP=I.CreateEmbedNode();gQ=u.Map(function(){},u.Bind(function(gS){I.UpdateEmbedNode(gP,gS.DocNode);return gS.Updates;},gO));return F.Mk({$:2,$0:gP},gQ);},Flatten:function(gT){return F.EmbedView(u.Map(function(gU){return F.Concat(gU);},gT));},FloatInput:function(gV,gW){return F.InputInternal(gV,gW,{$:1,$0:"number"});},Input:function(gX,gY){return F.InputInternal(gX,gY,{$:0});},InputArea:function(gZ,g0){return F.InputInternal(gZ,g0,{$:2});},InputInternal:function(g1,g2,g3){var g4,g5;g4=g3.$==1?[z.Append(z.Create("type",g3.$0),z.Concat(g1)),"input"]:g3.$==2?[z.Concat(g1),"textarea"]:[z.Concat(g1),"input"];g5=g4[0];return F.Elem(y.CreateElement(g4[1]),z.Append(g5,z.Value(g2)),F.get_Empty());},IntInput:function(g6,g7){return F.InputInternal(g6,g7,{$:1,$0:"number"});},Link:function(g8,g9,g_){var g$,ha;g$=z.Concat(g9);ha=z.Append(z.Create("href","#"),g$);return F.Elem(F.Clickable("a",g_),ha,F.TextNode(g8));},Mk:function(hb,hc){return $.New(F,{DocNode:hb,Updates:hc});},PasswordBox:function(hd,he){return F.InputInternal(hd,he,{$:1,$0:"password"});},Radio:function(hf,hg,hh){var hi,hk,hm;hi=y.CreateElement("input");hi.addEventListener("click",function(){return A.Set(hh,hg);},false);hk=z.DynamicProp("checked",u.Map(function(hl){return m.Equals(hl,hg);},hh.get_View()));hm=function(hn,ho){return z.Create(hn,ho);};return F.Elem(hi,z.Concat(B.append(B.ofArray([hm("type","radio"),hm("name",$$.String(H.GetId(hh))),hk]),B.ofSeq(hf))),F.get_Empty());},Run:function(hp,hq){var hr,hs,ht;hr=hq.DocNode;I.LinkElement(hp,hr);hs=I.CreateRunState(hp,hr);ht=hq.Updates;return u.Sink(J.StartProcessor(function(){return I.PerformAnimatedUpdate(hs,hr);}),ht);},RunBetween:function(hv,hw,hx){var hy,hz,hA;hy=hx.DocNode;I.LinkPrevElement(hw,hy);hz=I.CreateDelimitedRunState(hv,hw,hy);hA=hx.Updates;return u.Sink(J.StartProcessor(function(){return I.PerformAnimatedUpdate(hz,hy);}),hA);},RunById:function(hC,hD){var hE;hE=y.Doc().getElementById(hC);return m.Equals(hE,null)?K.FailWith("invalid id: "+hC):F.Run(hE,hD);},Select:function(hF,hG,hH,hI){var hJ,hN,hO,hP,hR;hJ=function(hK){return function(hL){hK.selectedIndex=d.findIndex(function(hM){return m.Equals(hL,hM);},hH);};};hN=y.CreateElement("select");hO=u.FromVar(hI);hP=z.DynamicCustom(hJ,hO);hN.addEventListener("change",function(){return A.Set(hI,hH.get_Item(hN.selectedIndex));},false);hR=F.Concat(B.mapi(function(hS){return function(hT){var hU;hU=F.TextNode(hG(hT));return F.Element("option",B.ofArray([z.Create("value",$$.String(hS))]),B.ofArray([hU]));};},hH));return F.Elem(hN,z.Append(hP,z.Concat(hF)),hR);},Static:function(hV){return F.Elem(hV,z.get_Empty(),F.get_Empty());},SvgElement:function(hW,hX,hY){var hZ,h0;hZ=z.Concat(hX);h0=F.Concat(hY);return F.Elem(y.CreateSvgElement(hW),hZ,h0);},TextNode:function(h1){return F.TextView(u.Const(h1));},TextView:function(h2){var h3,h4;h3=I.CreateTextNode();h4=u.Map(function(h5){return I.UpdateTextNode(h3,h5);},h2);return F.Mk({$:4,$0:h3},h4);},get_Empty:function(){return F.Mk({$:3},u.Const(null));}}),DocElemNode:$.Class({Equals:function(h6){return this.ElKey===h6.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(h7,h8){var h9,h$;h9=function(h_){return x.HasChangeAnim(h_.Attr);};h$=function(ia){return L.Filter(h9,ia);};return o.Concat(a.map(function(ib){return x.GetChangeAnim(ib.Attr);},L.ToArray(L.Intersect(h$(h7.PreviousNodes),h$(h8)))));},ComputeEnterAnim:function(ic,id){return o.Concat(a.map(function(ie){return x.GetEnterAnim(ie.Attr);},L.ToArray(L.Except(ic.PreviousNodes,L.Filter(function(_if){return x.HasEnterAnim(_if.Attr);},id)))));},ComputeExitAnim:function(ig,ih){return o.Concat(a.map(function(ii){return x.GetExitAnim(ii.Attr);},L.ToArray(L.Except(ih,L.Filter(function(ij){return x.HasExitAnim(ij.Attr);},ig.PreviousNodes)))));},CreateDelimitedElemNode:function(ik,il,im,_in){var io;io=ik.parentNode;I.LinkPrevElement(il,_in);return $.New(M,{Attr:x.Insert(io,im),Children:_in,Delimiters:[ik,il],El:io,ElKey:h.Int()});},CreateDelimitedRunState:function(ip,iq,ir){return{PreviousNodes:L.get_Empty(),Top:I.CreateDelimitedElemNode(ip,iq,z.get_Empty(),ir)};},CreateElemNode:function(is,it,iu){I.LinkElement(is,iu);return $.New(M,{Attr:x.Insert(is,it),Children:iu,El:is,ElKey:h.Int()});},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(iv,iw){return{PreviousNodes:L.get_Empty(),Top:I.CreateElemNode(iv,z.get_Empty(),iw)};},CreateTextNode:function(){return{Text:y.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(ix){var iy,iz,iD,iF;iy=ix.El;iz=function(iA,iB){var iC;if(iA.$==1){return{$:1,$0:iA.$0.El};}else{if(iA.$==2){iC=iA.$0;if(iC.Dirty){iC.Dirty=false;return I.InsertDoc(iy,iC.Current,iB);}else{return iz(iC.Current,iB);}}else{return iA.$==3?iB:iA.$==4?{$:1,$0:iA.$0.Text}:iz(iA.$0,iz(iA.$1,iB));}}};iD=ix.El;N.Iter(function(iE){return y.RemoveNode(iD,iE);},N.Except(N.DocChildren(ix),N.Children(ix.El,$.GetOptional(ix.Delimiters))));iF=$.GetOptional(ix.Delimiters);iz(ix.Children,iF.$==1?{$:1,$0:iF.$0[1]}:{$:0});return;},DomNodes:$.Class({},{Children:function(iG,iH){var iI,iJ,iK,iL,iM;if(iH.$==1){iI=iH.$0[1];iJ=iH.$0[0];iK=c.prototype.constructor.apply(c,[]);iL=iJ.nextSibling;while(iL!==iI){iK.push(iL);iL=iL.nextSibling;}return $.New(N,{$:0,$0:iK});}else{iM=iG.childNodes;return $.New(N,{$:0,$0:a.init(iG.childNodes.length,function(iN){return iM[iN];})});}},DocChildren:function(iO){var iP,iQ;iP=[];iQ=function(iR){var iS;if(iR.$==2){return iQ(iR.$0.Current);}else{if(iR.$==1){return l.Add(iR.$0.El,iP);}else{if(iR.$==3){return null;}else{if(iR.$==4){return l.Add(iR.$0.Text,iP);}else{iS=iR.$1;iQ(iR.$0);return iQ(iS);}}}}};iQ(iO.Children);return $.New(N,{$:0,$0:l.ToArray(iP)});},Except:function(iT,iU){var iV;iV=iT.$0;return $.New(N,{$:0,$0:a.filter(function(iW){return d.forall(function(iX){return!(iW===iX);},iV);},iU.$0)});},FoldBack:function(iY,iZ,i0){return a.foldBack(iY,iZ.$0,i0);},Iter:function(i1,i2){return a.iter(i1,i2.$0);}}),InsertDoc:function(i3,i4,i5){var i6;if(i4.$==1){return I.InsertNode(i3,i4.$0.El,i5);}else{if(i4.$==2){i6=i4.$0;i6.Dirty=false;return I.InsertDoc(i3,i6.Current,i5);}else{return i4.$==3?i5:i4.$==4?I.InsertNode(i3,i4.$0.Text,i5):I.InsertDoc(i3,i4.$0,I.InsertDoc(i3,i4.$1,i5));}}},InsertNode:function(i7,i8,i9){y.InsertAt(i7,i9,i8);return{$:1,$0:i8};},LinkElement:function(i_,i$){I.InsertDoc(i_,i$,{$:0});},LinkPrevElement:function(ja,jb){I.InsertDoc(ja.parentNode,jb,{$:1,$0:ja});},NodeSet:$.Class({},{Except:function(jc,jd){return $.New(L,{$:0,$0:k.Except(jc.$0,jd.$0)});},Filter:function(je,jf){return $.New(L,{$:0,$0:k.Filter(je,jf.$0)});},FindAll:function(jg){var jh,ji;jh=[];ji=function(jj){var jk,jl;if(jj.$==0){jk=jj.$1;ji(jj.$0);return ji(jk);}else{if(jj.$==1){jl=jj.$0;l.Add(jl,jh);return ji(jl.Children);}else{return jj.$==2?ji(jj.$0.Current):null;}}};ji(jg);return $.New(L,{$:0,$0:j.New(l.ToArray(jh))});},Intersect:function(jm,jn){return $.New(L,{$:0,$0:k.Intersect(jm.$0,jn.$0)});},IsEmpty:function(jo){return jo.$0.get_Count()===0;},ToArray:function(jp){return k.ToArray(jp.$0);},get_Empty:function(){return $.New(L,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(jq,jr){return b.Delay(function(){var jt,ju,jv;jt=L.FindAll(jr);ju=I.ComputeChangeAnim(jq,jt);jv=I.ComputeEnterAnim(jq,jt);return b.Bind(o.Play(o.Append(ju,I.ComputeExitAnim(jq,jt))),function(){I.SyncElemNode(jq.Top);return b.Bind(o.Play(jv),function(){return b.Return(void(jq.PreviousNodes=jt));});});});},Sync:function(jy){var jz;jz=function(jA){var jB,jC,jD;if(jA.$==1){jB=jA.$0;I.SyncElement(jB);return jz(jB.Children);}else{if(jA.$==2){return jz(jA.$0.Current);}else{if(jA.$==3){return null;}else{if(jA.$==4){jC=jA.$0;if(jC.Dirty){jC.Text.nodeValue=jC.Value;jC.Dirty=false;return;}else{return null;}}else{jD=jA.$1;jz(jA.$0);return jz(jD);}}}}};return jz(jy);},SyncElemNode:function(jE){I.SyncElement(jE);return I.Sync(jE.Children);},SyncElement:function(jF){var jG;x.Sync(jF.El,jF.Attr);jG=function(jH){var jI,jJ;if(jH.$==0){jI=jH.$1;return jG(jH.$0)?true:jG(jI);}else{if(jH.$==2){jJ=jH.$0;return jJ.Dirty?true:jG(jJ.Current);}else{return false;}}};return jG(jF.Children)?I.DoSyncElement(jF):null;},UpdateEmbedNode:function(jK,jL){jK.Current=jL;jK.Dirty=true;return;},UpdateTextNode:function(jM,jN){jM.Value=jN;jM.Dirty=true;return;}},DomUtility:{AddClass:function(jO,jP){O(jO).addClass(jP);},AppendTo:function(jQ,jR){jQ.appendChild(jR);},Clear:function(jS){while(jS.hasChildNodes()){jS.removeChild(jS.firstChild);}return;},ClearAttrs:function(jT){while(jT.hasAttributes()){jT.removeAttributeNode(jT.attributes.item(0));}return;},CreateAttr:function(jU,jV){var jW;jW=y.Doc().createAttribute(jU);jW.value=jV;return jW;},CreateElement:function(jX){return y.Doc().createElement(jX);},CreateSvgElement:function(jY){return y.Doc().createElementNS("http://www.w3.org/2000/svg",jY);},CreateText:function(jZ){return y.Doc().createTextNode(jZ);},Doc:$.Field(function(){return E;}),InsertAt:function(j0,j1,j2){var j3,j4,j5;if(j2.parentNode===j0){j4=j2.nextSibling;j5=[j1,m.Equals(j4,null)?{$:0}:{$:1,$0:j4}];j3=j5[0].$==1?j5[1].$==1?j5[0].$0===j5[1].$0:false:j5[1].$==0?true:false;}else{j3=false;}return!j3?j1.$==1?void j0.insertBefore(j2,j1.$0):void j0.appendChild(j2):null;},RemoveAttr:function(j6,j7){return j6.removeAttribute(j7);},RemoveClass:function(j8,j9){O(j8).removeClass(j9);},RemoveNode:function(j_,j$){return j$.parentNode===j_?void j_.removeChild(j$):null;},SetAttr:function(ka,kb,kc){return ka.setAttribute(kb,kc);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(kd,ke,kf){return y.SetProperty(kd.style,ke,kf);}},DoubleInterpolation:$.Class({Interpolate:function(kg,kh,ki){return kh+kg*(ki-kh);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return o.get_Empty();},GetEnterAnim:function(){return o.get_Empty();},GetExitAnim:function(){return o.get_Empty();},Sync:function(km){if(this.dirty){(this.push.call(null,km))(this.value);this.dirty=false;return;}else{return null;}},get_Changed:function(){return this.updates;}},{New:function(kn,ko){var kp;kp=$.New(this,{});kp.push=ko;kp.value=g.U();kp.dirty=true;kp.updates=u.Map(function(kq){kp.value=kq;kp.dirty=true;return;},kn);return kp;}}),Easing:$.Class({},{Custom:function(kr){return $.New(P,{TransformTime:kr});},get_CubicInOut:function(){return Q.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){return $.New(P,{TransformTime:function(ks){var kt;kt=ks*ks;return 3*kt-2*(kt*ks);}});})},Flow:$.Class({},{Bind:function(ku,kv){return{Render:function(kw){return function(kx){return(ku.Render.call(null,kw))(function(ky){return(kv(ky).Render.call(null,kw))(kx);});};}};},Map:function(kz,kA){return{Render:function(kB){return function(kC){return(kA.Render.call(null,kB))(function(kD){return kC(kz(kD));});};}};},Return:function(kE){return{Render:function(){return function(kG){return kG(kE);};}};},get_Do:function(){return R.New();}}),Flow1:$.Class({},{Define:function(kH){return{Render:function(kI){return function(kJ){return A.Set(kI,kH(kJ));};}};},Embed:function(kK){var kL;kL=A.Create(F.get_Empty());(kK.Render.call(null,kL))(function(){});return F.EmbedView(kL.get_View());},Static:function(kN){return{Render:function(kO){return function(kP){A.Set(kO,kN);return kP(null);};}};}}),FlowBuilder:$.Class({Bind:function(kQ,kR){return S.Bind(kQ,kR);},Return:function(kS){return S.Return(kS);},ReturnFrom:function(kT){return kT;}},{New:function(){return $.New(this,{});}}),Html:{A:function(kU,kV){return F.Element("a",kU,kV);},A0:function(kW){return F.Element("a",$.New(T,{$:0}),kW);},Abbr:function(kX,kY){return F.Element("abbr",kX,kY);},Abbr0:function(kZ){return F.Element("abbr",$.New(T,{$:0}),kZ);},Accept:$.Field(function(){return"accept";}),AcceptCharSet:$.Field(function(){return"accept-charset";}),AccessKey:$.Field(function(){return"accesskey";}),Address:function(k0,k1){return F.Element("address",k0,k1);},Address0:function(k2){return F.Element("address",$.New(T,{$:0}),k2);},Align:$.Field(function(){return"align";}),Alt:$.Field(function(){return"alt";}),AltCode:$.Field(function(){return"altcode";}),Archive:$.Field(function(){return"archive";}),Area:function(k3,k4){return F.Element("area",k3,k4);},Area0:function(k5){return F.Element("area",$.New(T,{$:0}),k5);},Article:function(k6,k7){return F.Element("article",k6,k7);},Article0:function(k8){return F.Element("article",$.New(T,{$:0}),k8);},Aside:function(k9,k_){return F.Element("aside",k9,k_);},Aside0:function(k$){return F.Element("aside",$.New(T,{$:0}),k$);},Attributes:{Action:$.Field(function(){return"action";}),Alink:$.Field(function(){return"alink";}),Async:$.Field(function(){return"async";}),Background:$.Field(function(){return"background";}),BgColor:$.Field(function(){return"bgcolor";}),Cite:$.Field(function(){return"cite";}),Clear:$.Field(function(){return"clear";}),Code:$.Field(function(){return"code";}),Color:$.Field(function(){return"color";}),Compact:$.Field(function(){return"compact";}),Content:$.Field(function(){return"content";}),Controls:$.Field(function(){return"controls";}),Data:$.Field(function(){return"data";}),DateTime:$.Field(function(){return"datetime";}),Dir:$.Field(function(){return"dir";}),Face:$.Field(function(){return"face";}),Form:$.Field(function(){return"form";}),Frame:$.Field(function(){return"frame";}),HSpace:$.Field(function(){return"hspace";}),KeyType:$.Field(function(){return"keytype";}),Kind:$.Field(function(){return"kind";}),Label:$.Field(function(){return"label";}),Language:$.Field(function(){return"language";}),Link:$.Field(function(){return"link";}),List:$.Field(function(){return"list";}),Max:$.Field(function(){return"max";}),Min:$.Field(function(){return"min";}),NoShade:$.Field(function(){return"noshade";}),NoWrap:$.Field(function(){return"nowrap";}),Object:$.Field(function(){return"object";}),Open:$.Field(function(){return"open";}),Optimum:$.Field(function(){return"optimum";}),Prompt:$.Field(function(){return"prompt";}),Span:$.Field(function(){return"span";}),Start:$.Field(function(){return"start";}),Summary:$.Field(function(){return"summary";}),Text:$.Field(function(){return"text";}),VLink:$.Field(function(){return"vlink";}),VSpace:$.Field(function(){return"vspace";}),Version:$.Field(function(){return"version";})},Audio:function(la,lb){return F.Element("audio",la,lb);},Audio0:function(lc){return F.Element("audio",$.New(T,{$:0}),lc);},AutoComplete:$.Field(function(){return"autocomplete";}),AutoFocus:$.Field(function(){return"autofocus";}),AutoPlay:$.Field(function(){return"autoplay";}),AutoSave:$.Field(function(){return"autosave";}),Axis:$.Field(function(){return"axis";}),B:function(ld,le){return F.Element("b",ld,le);},B0:function(lf){return F.Element("b",$.New(T,{$:0}),lf);},BDI:function(lg,lh){return F.Element("bdi",lg,lh);},BDI0:function(li){return F.Element("bdi",$.New(T,{$:0}),li);},BDO:function(lj,lk){return F.Element("bdo",lj,lk);},BDO0:function(ll){return F.Element("bdo",$.New(T,{$:0}),ll);},Base:function(lm,ln){return F.Element("base",lm,ln);},Base0:function(lo){return F.Element("base",$.New(T,{$:0}),lo);},BlockQuote:function(lp,lq){return F.Element("blockquote",lp,lq);},BlockQuote0:function(lr){return F.Element("blockquote",$.New(T,{$:0}),lr);},Body:function(ls,lt){return F.Element("body",ls,lt);},Body0:function(lu){return F.Element("body",$.New(T,{$:0}),lu);},Border:$.Field(function(){return"border";}),BorderColor:$.Field(function(){return"bordercolor";}),Br:function(lv,lw){return F.Element("br",lv,lw);},Br0:function(lx){return F.Element("br",$.New(T,{$:0}),lx);},Buffered:$.Field(function(){return"buffered";}),Button:function(ly,lz){return F.Element("button",ly,lz);},Button0:function(lA){return F.Element("button",$.New(T,{$:0}),lA);},Canvas:function(lB,lC){return F.Element("canvas",lB,lC);},Canvas0:function(lD){return F.Element("canvas",$.New(T,{$:0}),lD);},Caption:function(lE,lF){return F.Element("caption",lE,lF);},Caption0:function(lG){return F.Element("caption",$.New(T,{$:0}),lG);},CellPadding:$.Field(function(){return"cellpadding";}),CellSpacing:$.Field(function(){return"cellspacing";}),Challenge:$.Field(function(){return"challenge";}),Char:$.Field(function(){return"char";}),CharOff:$.Field(function(){return"charoff";}),CharSet:$.Field(function(){return"charset";}),Checked:$.Field(function(){return"checked";}),Cite:function(lH,lI){return F.Element("cite",lH,lI);},Cite0:function(lJ){return F.Element("cite",$.New(T,{$:0}),lJ);},Class:$.Field(function(){return"class";}),ClassId:$.Field(function(){return"classid";}),Code:function(lK,lL){return F.Element("code",lK,lL);},Code0:function(lM){return F.Element("code",$.New(T,{$:0}),lM);},CodeBase:$.Field(function(){return"codebase";}),CodeType:$.Field(function(){return"codetype";}),Col:function(lN,lO){return F.Element("col",lN,lO);},Col0:function(lP){return F.Element("col",$.New(T,{$:0}),lP);},ColGroup:function(lQ,lR){return F.Element("colgroup",lQ,lR);},ColGroup0:function(lS){return F.Element("colgroup",$.New(T,{$:0}),lS);},ColSpan:$.Field(function(){return"colspan";}),Cols:$.Field(function(){return"cols";}),Command:function(lT,lU){return F.Element("command",lT,lU);},Command0:function(lV){return F.Element("command",$.New(T,{$:0}),lV);},ContentEditable:$.Field(function(){return"contenteditable";}),ContextMenu:$.Field(function(){return"contextmenu";}),Coords:$.Field(function(){return"coords";}),DD:function(lW,lX){return F.Element("dd",lW,lX);},DD0:function(lY){return F.Element("dd",$.New(T,{$:0}),lY);},DL:function(lZ,l0){return F.Element("dl",lZ,l0);},DL0:function(l1){return F.Element("dl",$.New(T,{$:0}),l1);},DT:function(l2,l3){return F.Element("dt",l2,l3);},DT0:function(l4){return F.Element("dt",$.New(T,{$:0}),l4);},DataList:function(l5,l6){return F.Element("datalist",l5,l6);},DataList0:function(l7){return F.Element("datalist",$.New(T,{$:0}),l7);},Declare:$.Field(function(){return"declare";}),Default:$.Field(function(){return"default";}),Defer:$.Field(function(){return"defer";}),Del:function(l8,l9){return F.Element("del",l8,l9);},Del0:function(l_){return F.Element("del",$.New(T,{$:0}),l_);},Details:function(l$,ma){return F.Element("details",l$,ma);},Details0:function(mb){return F.Element("details",$.New(T,{$:0}),mb);},Dfn:function(mc,md){return F.Element("dfn",mc,md);},Dfn0:function(me){return F.Element("dfn",$.New(T,{$:0}),me);},Disabled:$.Field(function(){return"disabled";}),Div:function(mf,mg){return F.Element("div",mf,mg);},Div0:function(mh){return F.Element("div",$.New(T,{$:0}),mh);},Download:$.Field(function(){return"download";}),Draggable:$.Field(function(){return"draggable";}),DropZone:$.Field(function(){return"dropzone";}),Em:function(mi,mj){return F.Element("em",mi,mj);},Em0:function(mk){return F.Element("em",$.New(T,{$:0}),mk);},Embed:function(ml,mm){return F.Element("embed",ml,mm);},Embed0:function(mn){return F.Element("embed",$.New(T,{$:0}),mn);},EncType:$.Field(function(){return"enctype";}),FieldSet:function(mo,mp){return F.Element("fieldset",mo,mp);},FieldSet0:function(mq){return F.Element("fieldset",$.New(T,{$:0}),mq);},FigCaption:function(mr,ms){return F.Element("figcaption",mr,ms);},FigCaption0:function(mt){return F.Element("figcaption",$.New(T,{$:0}),mt);},Figure:function(mu,mv){return F.Element("figure",mu,mv);},Figure0:function(mw){return F.Element("figure",$.New(T,{$:0}),mw);},Footer:function(mx,my){return F.Element("footer",mx,my);},Footer0:function(mz){return F.Element("footer",$.New(T,{$:0}),mz);},For:$.Field(function(){return"for";}),Form:function(mA,mB){return F.Element("form",mA,mB);},Form0:function(mC){return F.Element("form",$.New(T,{$:0}),mC);},FormAction:$.Field(function(){return"formaction";}),FormEncType:$.Field(function(){return"formenctype";}),FormMethod:$.Field(function(){return"formmethod";}),FormNoValidate:$.Field(function(){return"formnovalidate";}),FormTarget:$.Field(function(){return"formtarget";}),FrameBorder:$.Field(function(){return"frameborder";}),H1:function(mD,mE){return F.Element("h1",mD,mE);},H10:function(mF){return F.Element("h1",$.New(T,{$:0}),mF);},H2:function(mG,mH){return F.Element("h2",mG,mH);},H20:function(mI){return F.Element("h2",$.New(T,{$:0}),mI);},H3:function(mJ,mK){return F.Element("h3",mJ,mK);},H30:function(mL){return F.Element("h3",$.New(T,{$:0}),mL);},H4:function(mM,mN){return F.Element("h4",mM,mN);},H40:function(mO){return F.Element("h4",$.New(T,{$:0}),mO);},H5:function(mP,mQ){return F.Element("h5",mP,mQ);},H50:function(mR){return F.Element("h5",$.New(T,{$:0}),mR);},H6:function(mS,mT){return F.Element("h6",mS,mT);},H60:function(mU){return F.Element("h6",$.New(T,{$:0}),mU);},HGroup:function(mV,mW){return F.Element("hgroup",mV,mW);},HGroup0:function(mX){return F.Element("hgroup",$.New(T,{$:0}),mX);},HR:function(mY,mZ){return F.Element("hr",mY,mZ);},HR0:function(m0){return F.Element("hr",$.New(T,{$:0}),m0);},HRef:$.Field(function(){return"href";}),HRefLang:$.Field(function(){return"hreflang";}),HTML:function(m1,m2){return F.Element("html",m1,m2);},HTML0:function(m3){return F.Element("html",$.New(T,{$:0}),m3);},Head:function(m4,m5){return F.Element("head",m4,m5);},Head0:function(m6){return F.Element("head",$.New(T,{$:0}),m6);},Header:function(m7,m8){return F.Element("header",m7,m8);},Header0:function(m9){return F.Element("header",$.New(T,{$:0}),m9);},Headers:$.Field(function(){return"headers";}),Height:$.Field(function(){return"height";}),Hidden:$.Field(function(){return"hidden";}),High:$.Field(function(){return"high";}),HttpEquiv:$.Field(function(){return"http";}),I:function(m_,m$){return F.Element("i",m_,m$);},I0:function(na){return F.Element("i",$.New(T,{$:0}),na);},IFrame:function(nb,nc){return F.Element("iframe",nb,nc);},IFrame0:function(nd){return F.Element("iframe",$.New(T,{$:0}),nd);},Icon:$.Field(function(){return"icon";}),Id:$.Field(function(){return"id";}),Img:function(ne,nf){return F.Element("img",ne,nf);},Img0:function(ng){return F.Element("img",$.New(T,{$:0}),ng);},Input:function(nh,ni){return F.Element("input",nh,ni);},Input0:function(nj){return F.Element("input",$.New(T,{$:0}),nj);},Ins:function(nk,nl){return F.Element("ins",nk,nl);},Ins0:function(nm){return F.Element("ins",$.New(T,{$:0}),nm);},IsMap:$.Field(function(){return"ismap";}),ItemProp:$.Field(function(){return"itemprop";}),Kbd:function(nn,no){return F.Element("kbd",nn,no);},Kbd0:function(np){return F.Element("kbd",$.New(T,{$:0}),np);},KeyGen:function(nq,nr){return F.Element("keygen",nq,nr);},KeyGen0:function(ns){return F.Element("keygen",$.New(T,{$:0}),ns);},LI:function(nt,nu){return F.Element("li",nt,nu);},LI0:function(nv){return F.Element("li",$.New(T,{$:0}),nv);},Label:function(nw,nx){return F.Element("label",nw,nx);},Label0:function(ny){return F.Element("label",$.New(T,{$:0}),ny);},Lang:$.Field(function(){return"lang";}),Legend:function(nz,nA){return F.Element("legend",nz,nA);},Legend0:function(nB){return F.Element("legend",$.New(T,{$:0}),nB);},Link:function(nC,nD){return F.Element("link",nC,nD);},Link0:function(nE){return F.Element("link",$.New(T,{$:0}),nE);},LongDesc:$.Field(function(){return"longdesc";}),Loop:$.Field(function(){return"loop";}),Low:$.Field(function(){return"low";}),Manifest:$.Field(function(){return"manifest";}),MarginHeight:$.Field(function(){return"marginheight";}),MarginWidth:$.Field(function(){return"marginwidth";}),Mark:function(nF,nG){return F.Element("mark",nF,nG);},Mark0:function(nH){return F.Element("mark",$.New(T,{$:0}),nH);},MaxLength:$.Field(function(){return"maxlength";}),Media:$.Field(function(){return"media";}),Meta:function(nI,nJ){return F.Element("meta",nI,nJ);},Meta0:function(nK){return F.Element("meta",$.New(T,{$:0}),nK);},Meter:function(nL,nM){return F.Element("meter",nL,nM);},Meter0:function(nN){return F.Element("meter",$.New(T,{$:0}),nN);},Method:$.Field(function(){return"method";}),Multiple:$.Field(function(){return"multiple";}),Name:$.Field(function(){return"name";}),Nav:function(nO,nP){return F.Element("nav",nO,nP);},Nav0:function(nQ){return F.Element("nav",$.New(T,{$:0}),nQ);},NoFrames:function(nR,nS){return F.Element("noframes",nR,nS);},NoFrames0:function(nT){return F.Element("noframes",$.New(T,{$:0}),nT);},NoHRef:$.Field(function(){return"nohref";}),NoResize:$.Field(function(){return"noresize";}),NoScript:function(nU,nV){return F.Element("noscript",nU,nV);},NoScript0:function(nW){return F.Element("noscript",$.New(T,{$:0}),nW);},NoValidate:$.Field(function(){return"novalidate";}),OL:function(nX,nY){return F.Element("ol",nX,nY);},OL0:function(nZ){return F.Element("ol",$.New(T,{$:0}),nZ);},OptGroup:function(n0,n1){return F.Element("optgroup",n0,n1);},OptGroup0:function(n2){return F.Element("optgroup",$.New(T,{$:0}),n2);},Output:function(n3,n4){return F.Element("output",n3,n4);},Output0:function(n5){return F.Element("output",$.New(T,{$:0}),n5);},P:function(n6,n7){return F.Element("p",n6,n7);},P0:function(n8){return F.Element("p",$.New(T,{$:0}),n8);},Param:function(n9,n_){return F.Element("param",n9,n_);},Param0:function(n$){return F.Element("param",$.New(T,{$:0}),n$);},Pattern:$.Field(function(){return"pattern";}),Picture:function(oa,ob){return F.Element("picture",oa,ob);},Picture0:function(oc){return F.Element("picture",$.New(T,{$:0}),oc);},Ping:$.Field(function(){return"ping";}),PlaceHolder:$.Field(function(){return"placeholder";}),Poster:$.Field(function(){return"poster";}),Pre:function(od,oe){return F.Element("pre",od,oe);},Pre0:function(of){return F.Element("pre",$.New(T,{$:0}),of);},Preload:$.Field(function(){return"preload";}),Profile:$.Field(function(){return"profile";}),Progress:function(og,oh){return F.Element("progress",og,oh);},Progress0:function(oi){return F.Element("progress",$.New(T,{$:0}),oi);},PubDate:$.Field(function(){return"pubdate";}),Q:function(oj,ok){return F.Element("q",oj,ok);},Q0:function(ol){return F.Element("q",$.New(T,{$:0}),ol);},RP:function(om,on){return F.Element("rp",om,on);},RP0:function(oo){return F.Element("rp",$.New(T,{$:0}),oo);},RT:function(op,oq){return F.Element("rt",op,oq);},RT0:function(or){return F.Element("rt",$.New(T,{$:0}),or);},RTC:function(os,ot){return F.Element("rtc",os,ot);},RTC0:function(ou){return F.Element("rtc",$.New(T,{$:0}),ou);},RadioGroup:$.Field(function(){return"radiogroup";}),ReadOnly:$.Field(function(){return"readonly";}),Rel:$.Field(function(){return"rel";}),Required:$.Field(function(){return"required";}),Rev:$.Field(function(){return"rev";}),Reversed:$.Field(function(){return"reversed";}),RowSpan:$.Field(function(){return"rowspan";}),Rows:$.Field(function(){return"rows";}),Ruby:function(ov,ow){return F.Element("ruby",ov,ow);},Ruby0:function(ox){return F.Element("ruby",$.New(T,{$:0}),ox);},Rules:$.Field(function(){return"rules";}),Samp:function(oy,oz){return F.Element("samp",oy,oz);},Samp0:function(oA){return F.Element("samp",$.New(T,{$:0}),oA);},Sandbox:$.Field(function(){return"sandbox";}),Scheme:$.Field(function(){return"scheme";}),Scope:$.Field(function(){return"scope";}),Scoped:$.Field(function(){return"scoped";}),Script:function(oB,oC){return F.Element("script",oB,oC);},Script0:function(oD){return F.Element("script",$.New(T,{$:0}),oD);},Scrolling:$.Field(function(){return"scrolling";}),Seamless:$.Field(function(){return"seamless";}),Section:function(oE,oF){return F.Element("section",oE,oF);},Section0:function(oG){return F.Element("section",$.New(T,{$:0}),oG);},Select:function(oH,oI){return F.Element("select",oH,oI);},Select0:function(oJ){return F.Element("select",$.New(T,{$:0}),oJ);},Selected:$.Field(function(){return"selected";}),Shadow:function(oK,oL){return F.Element("shadow",oK,oL);},Shadow0:function(oM){return F.Element("shadow",$.New(T,{$:0}),oM);},Shape:$.Field(function(){return"shape";}),Size:$.Field(function(){return"size";}),Sizes:$.Field(function(){return"sizes";}),Small:function(oN,oO){return F.Element("small",oN,oO);},Small0:function(oP){return F.Element("small",$.New(T,{$:0}),oP);},Source:function(oQ,oR){return F.Element("source",oQ,oR);},Source0:function(oS){return F.Element("source",$.New(T,{$:0}),oS);},Span:function(oT,oU){return F.Element("span",oT,oU);},Span0:function(oV){return F.Element("span",$.New(T,{$:0}),oV);},SpellCheck:$.Field(function(){return"spellcheck";}),Src:$.Field(function(){return"src";}),SrcDoc:$.Field(function(){return"srcdoc";}),SrcLang:$.Field(function(){return"srclang";}),StandBy:$.Field(function(){return"standby";}),Step:$.Field(function(){return"step";}),Strong:function(oW,oX){return F.Element("strong",oW,oX);},Strong0:function(oY){return F.Element("strong",$.New(T,{$:0}),oY);},Style:$.Field(function(){return"style";}),Sub:function(oZ,o0){return F.Element("sub",oZ,o0);},Sub0:function(o1){return F.Element("sub",$.New(T,{$:0}),o1);},Subject:$.Field(function(){return"subject";}),Summary:function(o2,o3){return F.Element("summary",o2,o3);},Summary0:function(o4){return F.Element("summary",$.New(T,{$:0}),o4);},Sup:function(o5,o6){return F.Element("sup",o5,o6);},Sup0:function(o7){return F.Element("sup",$.New(T,{$:0}),o7);},SvgAttributes:{AccentHeight:$.Field(function(){return"accent-height";}),Accumulate:$.Field(function(){return"accumulate";}),Additive:$.Field(function(){return"additive";}),AlignmentBaseline:$.Field(function(){return"alignment-baseline";}),Ascent:$.Field(function(){return"ascent";}),AttributeName:$.Field(function(){return"attributeName";}),AttributeType:$.Field(function(){return"attributeType";}),Azimuth:$.Field(function(){return"azimuth";}),BaseFrequency:$.Field(function(){return"baseFrequency";}),BaselineShift:$.Field(function(){return"baseline-shift";}),Begin:$.Field(function(){return"begin";}),Bias:$.Field(function(){return"bias";}),CX:$.Field(function(){return"cx";}),CY:$.Field(function(){return"cy";}),CalcMode:$.Field(function(){return"calcMode";}),Class:$.Field(function(){return"class";}),Clip:$.Field(function(){return"clip";}),ClipPath:$.Field(function(){return"clip-path";}),ClipPathUnits:$.Field(function(){return"clipPathUnits";}),ClipRule:$.Field(function(){return"clip-rule";}),Color:$.Field(function(){return"color";}),ColorInterpolation:$.Field(function(){return"color-interpolation";}),ColorInterpolationFilters:$.Field(function(){return"color-interpolation-filters";}),ColorProfile:$.Field(function(){return"color-profile";}),ColorRendering:$.Field(function(){return"color-rendering";}),ContentScriptType:$.Field(function(){return"contentScriptType";}),ContentStyleType:$.Field(function(){return"contentStyleType";}),Cursor:$.Field(function(){return"cursor";}),D:$.Field(function(){return"d";}),DX:$.Field(function(){return"dx";}),DY:$.Field(function(){return"dy";}),DiffuseConstant:$.Field(function(){return"diffuseConstant";}),Direction:$.Field(function(){return"direction";}),Display:$.Field(function(){return"display";}),Divisor:$.Field(function(){return"divisor";}),DominantBaseline:$.Field(function(){return"dominant-baseline";}),Dur:$.Field(function(){return"dur";}),EdgeMode:$.Field(function(){return"edgeMode";}),Elevation:$.Field(function(){return"elevation";}),End:$.Field(function(){return"end";}),ExternalResourcesRequired:$.Field(function(){return"externalResourcesRequired";}),Fill:$.Field(function(){return"fill";}),FillOpacity:$.Field(function(){return"fill-opacity";}),FillRule:$.Field(function(){return"fill-rule";}),Filter:$.Field(function(){return"filter";}),FilterRes:$.Field(function(){return"filterRes";}),FilterUnits:$.Field(function(){return"filterUnits";}),FloodColor:$.Field(function(){return"flood-color";}),FloodOpacity:$.Field(function(){return"flood-opacity";}),FontFamily:$.Field(function(){return"font-family";}),FontSize:$.Field(function(){return"font-size";}),FontSizeAdjust:$.Field(function(){return"font-size-adjust";}),FontStretch:$.Field(function(){return"font-stretch";}),FontStyle:$.Field(function(){return"font-style";}),FontVariant:$.Field(function(){return"font-variant";}),FontWeight:$.Field(function(){return"font-weight";}),From:$.Field(function(){return"from";}),GradientTransform:$.Field(function(){return"gradientTransform";}),GradientUnits:$.Field(function(){return"gradientUnits";}),Height:$.Field(function(){return"height";}),IN:$.Field(function(){return"in";}),ImageRendering:$.Field(function(){return"image-rendering";}),In2:$.Field(function(){return"in2";}),K1:$.Field(function(){return"k1";}),K2:$.Field(function(){return"k2";}),K3:$.Field(function(){return"k3";}),K4:$.Field(function(){return"k4";}),KernelMatrix:$.Field(function(){return"kernelMatrix";}),KernelUnitLength:$.Field(function(){return"kernelUnitLength";}),Kerning:$.Field(function(){return"kerning";}),KeySplines:$.Field(function(){return"keySplines";}),KeyTimes:$.Field(function(){return"keyTimes";}),LetterSpacing:$.Field(function(){return"letter-spacing";}),LightingColor:$.Field(function(){return"lighting-color";}),LimitingConeAngle:$.Field(function(){return"limitingConeAngle";}),Local:$.Field(function(){return"local";}),MarkerEnd:$.Field(function(){return"marker-end";}),MarkerHeight:$.Field(function(){return"markerHeight";}),MarkerMid:$.Field(function(){return"marker-mid";}),MarkerStart:$.Field(function(){return"marker-start";}),MarkerUnits:$.Field(function(){return"markerUnits";}),MarkerWidth:$.Field(function(){return"markerWidth";}),Mask:$.Field(function(){return"mask";}),MaskContentUnits:$.Field(function(){return"maskContentUnits";}),MaskUnits:$.Field(function(){return"maskUnits";}),Max:$.Field(function(){return"max";}),Min:$.Field(function(){return"min";}),Mode:$.Field(function(){return"mode";}),NumOctaves:$.Field(function(){return"numOctaves";}),Opacity:$.Field(function(){return"opacity";}),Operator:$.Field(function(){return"operator";}),Order:$.Field(function(){return"order";}),Overflow:$.Field(function(){return"overflow";}),PaintOrder:$.Field(function(){return"paint-order";}),PathLength:$.Field(function(){return"pathLength";}),PatternContentUnits:$.Field(function(){return"patternContentUnits";}),PatternTransform:$.Field(function(){return"patternTransform";}),PatternUnits:$.Field(function(){return"patternUnits";}),PointerEvents:$.Field(function(){return"pointer-events";}),Points:$.Field(function(){return"points";}),PointsAtX:$.Field(function(){return"pointsAtX";}),PointsAtY:$.Field(function(){return"pointsAtY";}),PointsAtZ:$.Field(function(){return"pointsAtZ";}),PreserveAlpha:$.Field(function(){return"preserveAlpha";}),PreserveAspectRatio:$.Field(function(){return"preserveAspectRatio";}),PrimitiveUnits:$.Field(function(){return"primitiveUnits";}),R:$.Field(function(){return"r";}),RX:$.Field(function(){return"rx";}),RY:$.Field(function(){return"ry";}),Radius:$.Field(function(){return"radius";}),RepeatCount:$.Field(function(){return"repeatCount";}),RepeatDur:$.Field(function(){return"repeatDur";}),RequiredFeatures:$.Field(function(){return"requiredFeatures";}),Restart:$.Field(function(){return"restart";}),Result:$.Field(function(){return"result";}),Scale:$.Field(function(){return"scale";}),Seed:$.Field(function(){return"seed";}),ShapeRendering:$.Field(function(){return"shape-rendering";}),SpecularConstant:$.Field(function(){return"specularConstant";}),SpecularExponent:$.Field(function(){return"specularExponent";}),StdDeviation:$.Field(function(){return"stdDeviation";}),StitchTiles:$.Field(function(){return"stitchTiles";}),StopColor:$.Field(function(){return"stop-color";}),StopOpacity:$.Field(function(){return"stop-opacity";}),Stroke:$.Field(function(){return"stroke";}),StrokeDashArray:$.Field(function(){return"stroke-dasharray";}),StrokeDashOffset:$.Field(function(){return"stroke-dashoffset";}),StrokeLineCap:$.Field(function(){return"stroke-linecap";}),StrokeLineJoin:$.Field(function(){return"stroke-linejoin";}),StrokeMiterLimit:$.Field(function(){return"stroke-miterlimit";}),StrokeOpacity:$.Field(function(){return"stroke-opacity";}),StrokeWidth:$.Field(function(){return"stroke-width";}),Style:$.Field(function(){return"style";}),SurfaceScale:$.Field(function(){return"surfaceScale";}),TargetX:$.Field(function(){return"targetX";}),TargetY:$.Field(function(){return"targetY";}),TextAnchor:$.Field(function(){return"text-anchor";}),TextDecoration:$.Field(function(){return"text-decoration";}),TextRendering:$.Field(function(){return"text-rendering";}),To:$.Field(function(){return"to";}),Transform:$.Field(function(){return"transform";}),Type:$.Field(function(){return"type";}),Values:$.Field(function(){return"values";}),ViewBox:$.Field(function(){return"viewBox";}),Visibility:$.Field(function(){return"visibility";}),Width:$.Field(function(){return"width";}),WordSpacing:$.Field(function(){return"word-spacing";}),WritingMode:$.Field(function(){return"writing-mode";}),X:$.Field(function(){return"x";}),X1:$.Field(function(){return"x1";}),X2:$.Field(function(){return"x2";}),XChannelSelector:$.Field(function(){return"xChannelSelector";}),Y:$.Field(function(){return"y";}),Y1:$.Field(function(){return"y1";}),Y2:$.Field(function(){return"y2";}),YChannelSelector:$.Field(function(){return"yChannelSelector";}),Z:$.Field(function(){return"z";})},SvgElements:{A:function(o8,o9){return F.SvgElement("a",o8,o9);},AltGlyph:function(o_,o$){return F.SvgElement("altglyph",o_,o$);},AltGlyphDef:function(pa,pb){return F.SvgElement("altglyphdef",pa,pb);},AltGlyphItem:function(pc,pd){return F.SvgElement("altglyphitem",pc,pd);},Animate:function(pe,pf){return F.SvgElement("animate",pe,pf);},AnimateColor:function(pg,ph){return F.SvgElement("animatecolor",pg,ph);},AnimateMotion:function(pi,pj){return F.SvgElement("animatemotion",pi,pj);},AnimateTransform:function(pk,pl){return F.SvgElement("animatetransform",pk,pl);},Circle:function(pm,pn){return F.SvgElement("circle",pm,pn);},ClipPath:function(po,pp){return F.SvgElement("clippath",po,pp);},ColorProfile:function(pq,pr){return F.SvgElement("color",pq,pr);},Cursor:function(ps,pt){return F.SvgElement("cursor",ps,pt);},Defs:function(pu,pv){return F.SvgElement("defs",pu,pv);},Desc:function(pw,px){return F.SvgElement("desc",pw,px);},Ellipse:function(py,pz){return F.SvgElement("ellipse",py,pz);},FeBlend:function(pA,pB){return F.SvgElement("feblend",pA,pB);},FeColorMatrix:function(pC,pD){return F.SvgElement("fecolormatrix",pC,pD);},FeComponentTransfer:function(pE,pF){return F.SvgElement("fecomponenttransfer",pE,pF);},FeComposite:function(pG,pH){return F.SvgElement("fecomposite",pG,pH);},FeConvolveMatrix:function(pI,pJ){return F.SvgElement("feconvolvematrix",pI,pJ);},FeDiffuseLighting:function(pK,pL){return F.SvgElement("fediffuselighting",pK,pL);},FeDisplacementMap:function(pM,pN){return F.SvgElement("fedisplacementmap",pM,pN);},FeDistantLight:function(pO,pP){return F.SvgElement("fedistantlight",pO,pP);},FeFlood:function(pQ,pR){return F.SvgElement("feflood",pQ,pR);},FeFuncA:function(pS,pT){return F.SvgElement("fefunca",pS,pT);},FeFuncB:function(pU,pV){return F.SvgElement("fefuncb",pU,pV);},FeFuncG:function(pW,pX){return F.SvgElement("fefuncg",pW,pX);},FeFuncR:function(pY,pZ){return F.SvgElement("fefuncr",pY,pZ);},FeGaussianBlur:function(p0,p1){return F.SvgElement("fegaussianblur",p0,p1);},FeImage:function(p2,p3){return F.SvgElement("feimage",p2,p3);},FeMerge:function(p4,p5){return F.SvgElement("femerge",p4,p5);},FeMergeNode:function(p6,p7){return F.SvgElement("femergenode",p6,p7);},FeMorphology:function(p8,p9){return F.SvgElement("femorphology",p8,p9);},FeOffset:function(p_,p$){return F.SvgElement("feoffset",p_,p$);},FePointLight:function(qa,qb){return F.SvgElement("fepointlight",qa,qb);},FeSpecularLighting:function(qc,qd){return F.SvgElement("fespecularlighting",qc,qd);},FeSpotLight:function(qe,qf){return F.SvgElement("fespotlight",qe,qf);},FeTile:function(qg,qh){return F.SvgElement("fetile",qg,qh);},FeTurbulence:function(qi,qj){return F.SvgElement("feturbulence",qi,qj);},Filter:function(qk,ql){return F.SvgElement("filter",qk,ql);},Font:function(qm,qn){return F.SvgElement("font",qm,qn);},FontFace:function(qo,qp){return F.SvgElement("font",qo,qp);},FontFaceFormat:function(qq,qr){return F.SvgElement("font",qq,qr);},FontFaceName:function(qs,qt){return F.SvgElement("font",qs,qt);},FontFaceSrc:function(qu,qv){return F.SvgElement("font",qu,qv);},FontFaceUri:function(qw,qx){return F.SvgElement("font",qw,qx);},ForeignObject:function(qy,qz){return F.SvgElement("foreignobject",qy,qz);},G:function(qA,qB){return F.SvgElement("g",qA,qB);},Glyph:function(qC,qD){return F.SvgElement("glyph",qC,qD);},GlyphRef:function(qE,qF){return F.SvgElement("glyphref",qE,qF);},HKern:function(qG,qH){return F.SvgElement("hkern",qG,qH);},Image:function(qI,qJ){return F.SvgElement("image",qI,qJ);},Line:function(qK,qL){return F.SvgElement("line",qK,qL);},LinearGradient:function(qM,qN){return F.SvgElement("lineargradient",qM,qN);},MPath:function(qO,qP){return F.SvgElement("mpath",qO,qP);},Marker:function(qQ,qR){return F.SvgElement("marker",qQ,qR);},Mask:function(qS,qT){return F.SvgElement("mask",qS,qT);},Metadata:function(qU,qV){return F.SvgElement("metadata",qU,qV);},MissingGlyph:function(qW,qX){return F.SvgElement("missing",qW,qX);},Path:function(qY,qZ){return F.SvgElement("path",qY,qZ);},Pattern:function(q0,q1){return F.SvgElement("pattern",q0,q1);},Polygon:function(q2,q3){return F.SvgElement("polygon",q2,q3);},Polyline:function(q4,q5){return F.SvgElement("polyline",q4,q5);},RadialGradient:function(q6,q7){return F.SvgElement("radialgradient",q6,q7);},Rect:function(q8,q9){return F.SvgElement("rect",q8,q9);},Script:function(q_,q$){return F.SvgElement("script",q_,q$);},Set:function(ra,rb){return F.SvgElement("set",ra,rb);},Stop:function(rc,rd){return F.SvgElement("stop",rc,rd);},Style:function(re,rf){return F.SvgElement("style",re,rf);},Svg:function(rg,rh){return F.SvgElement("svg",rg,rh);},Switch:function(ri,rj){return F.SvgElement("switch",ri,rj);},Symbol:function(rk,rl){return F.SvgElement("symbol",rk,rl);},TRef:function(rm,rn){return F.SvgElement("tref",rm,rn);},TSpan:function(ro,rp){return F.SvgElement("tspan",ro,rp);},Text:function(rq,rr){return F.SvgElement("text",rq,rr);},TextPath:function(rs,rt){return F.SvgElement("textpath",rs,rt);},Title:function(ru,rv){return F.SvgElement("title",ru,rv);},Use:function(rw,rx){return F.SvgElement("use",rw,rx);},VKern:function(ry,rz){return F.SvgElement("vkern",ry,rz);},View:function(rA,rB){return F.SvgElement("view",rA,rB);}},TBody:function(rC,rD){return F.Element("tbody",rC,rD);},TBody0:function(rE){return F.Element("tbody",$.New(T,{$:0}),rE);},TD:function(rF,rG){return F.Element("td",rF,rG);},TD0:function(rH){return F.Element("td",$.New(T,{$:0}),rH);},TFoot:function(rI,rJ){return F.Element("tfoot",rI,rJ);},TFoot0:function(rK){return F.Element("tfoot",$.New(T,{$:0}),rK);},TH:function(rL,rM){return F.Element("th",rL,rM);},TH0:function(rN){return F.Element("th",$.New(T,{$:0}),rN);},THead:function(rO,rP){return F.Element("thead",rO,rP);},THead0:function(rQ){return F.Element("thead",$.New(T,{$:0}),rQ);},TR:function(rR,rS){return F.Element("tr",rR,rS);},TR0:function(rT){return F.Element("tr",$.New(T,{$:0}),rT);},TabIndex:$.Field(function(){return"tabindex";}),Table:function(rU,rV){return F.Element("table",rU,rV);},Table0:function(rW){return F.Element("table",$.New(T,{$:0}),rW);},Tags:{Acronym:function(rX,rY){return F.Element("acronym",rX,rY);},Acronym0:function(rZ){return F.Element("acronym",$.New(T,{$:0}),rZ);},Applet:function(r0,r1){return F.Element("applet",r0,r1);},Applet0:function(r2){return F.Element("applet",$.New(T,{$:0}),r2);},BaseFont:function(r3,r4){return F.Element("basefont",r3,r4);},BaseFont0:function(r5){return F.Element("basefont",$.New(T,{$:0}),r5);},Big:function(r6,r7){return F.Element("big",r6,r7);},Big0:function(r8){return F.Element("big",$.New(T,{$:0}),r8);},Center:function(r9,r_){return F.Element("center",r9,r_);},Center0:function(r$){return F.Element("center",$.New(T,{$:0}),r$);},Content:function(sa,sb){return F.Element("content",sa,sb);},Content0:function(sc){return F.Element("content",$.New(T,{$:0}),sc);},Data:function(sd,se){return F.Element("data",sd,se);},Data0:function(sf){return F.Element("data",$.New(T,{$:0}),sf);},Dir:function(sg,sh){return F.Element("dir",sg,sh);},Dir0:function(si){return F.Element("dir",$.New(T,{$:0}),si);},Font:function(sj,sk){return F.Element("font",sj,sk);},Font0:function(sl){return F.Element("font",$.New(T,{$:0}),sl);},Frame:function(sm,sn){return F.Element("frame",sm,sn);},Frame0:function(so){return F.Element("frame",$.New(T,{$:0}),so);},FrameSet:function(sp,sq){return F.Element("frameset",sp,sq);},FrameSet0:function(sr){return F.Element("frameset",$.New(T,{$:0}),sr);},IsIndex:function(ss,st){return F.Element("isindex",ss,st);},IsIndex0:function(su){return F.Element("isindex",$.New(T,{$:0}),su);},Main:function(sv,sw){return F.Element("main",sv,sw);},Main0:function(sx){return F.Element("main",$.New(T,{$:0}),sx);},Map:function(sy,sz){return F.Element("map",sy,sz);},Map0:function(sA){return F.Element("map",$.New(T,{$:0}),sA);},Menu:function(sB,sC){return F.Element("menu",sB,sC);},Menu0:function(sD){return F.Element("menu",$.New(T,{$:0}),sD);},MenuItem:function(sE,sF){return F.Element("menuitem",sE,sF);},MenuItem0:function(sG){return F.Element("menuitem",$.New(T,{$:0}),sG);},Object:function(sH,sI){return F.Element("object",sH,sI);},Object0:function(sJ){return F.Element("object",$.New(T,{$:0}),sJ);},Option:function(sK,sL){return F.Element("option",sK,sL);},Option0:function(sM){return F.Element("option",$.New(T,{$:0}),sM);},S:function(sN,sO){return F.Element("s",sN,sO);},S0:function(sP){return F.Element("s",$.New(T,{$:0}),sP);},Strike:function(sQ,sR){return F.Element("strike",sQ,sR);},Strike0:function(sS){return F.Element("strike",$.New(T,{$:0}),sS);},Style:function(sT,sU){return F.Element("style",sT,sU);},Style0:function(sV){return F.Element("style",$.New(T,{$:0}),sV);},TT:function(sW,sX){return F.Element("tt",sW,sX);},TT0:function(sY){return F.Element("tt",$.New(T,{$:0}),sY);},Template:function(sZ,s0){return F.Element("template",sZ,s0);},Template0:function(s1){return F.Element("template",$.New(T,{$:0}),s1);},Title:function(s2,s3){return F.Element("title",s2,s3);},Title0:function(s4){return F.Element("title",$.New(T,{$:0}),s4);},U:function(s5,s6){return F.Element("u",s5,s6);},U0:function(s7){return F.Element("u",$.New(T,{$:0}),s7);},Var:function(s8,s9){return F.Element("var",s8,s9);},Var0:function(s_){return F.Element("var",$.New(T,{$:0}),s_);}},Target:$.Field(function(){return"target";}),TextArea:function(s$,ta){return F.Element("textarea",s$,ta);},TextArea0:function(tb){return F.Element("textarea",$.New(T,{$:0}),tb);},Time:function(tc,td){return F.Element("time",tc,td);},Time0:function(te){return F.Element("time",$.New(T,{$:0}),te);},Title:$.Field(function(){return"title";}),Track:function(tf,tg){return F.Element("track",tf,tg);},Track0:function(th){return F.Element("track",$.New(T,{$:0}),th);},Type:$.Field(function(){return"type";}),UL:function(ti,tj){return F.Element("ul",ti,tj);},UL0:function(tk){return F.Element("ul",$.New(T,{$:0}),tk);},UseMap:$.Field(function(){return"usemap";}),VAlign:$.Field(function(){return"valign";}),Value:$.Field(function(){return"value";}),ValueType:$.Field(function(){return"valuetype";}),Video:function(tl,tm){return F.Element("video",tl,tm);},Video0:function(tn){return F.Element("video",$.New(T,{$:0}),tn);},WBR:function(to,tp){return F.Element("wbr",to,tp);},WBR0:function(tq){return F.Element("wbr",$.New(T,{$:0}),tq);},Width:$.Field(function(){return"width";}),Wrap:$.Field(function(){return"wrap";})},Input:{ActivateButtonListener:$.Field(function(){var tr,tv;tr=function(ts,tt){var tu;tu=ts.button;return tu===0?A.Set(U.MouseBtnSt1().Left,tt):tu===1?A.Set(U.MouseBtnSt1().Middle,tt):tu===2?A.Set(U.MouseBtnSt1().Right,tt):null;};if(!U.MouseBtnSt1().Active){U.MouseBtnSt1().Active=true;E.addEventListener("mousedown",function(tw){return tr(tw,true);},false);tv=E.addEventListener("mouseup",function(tx){return tr(tx,false);},false);}else{tv=null;}return tv;}),ActivateKeyListener:$.Field(function(){var ty;if(!U.KeyListenerState().KeyListenerActive){O(E).keydown(function(tz){var tA,tB;tA=tz.which;A.Set(U.KeyListenerState().LastPressed,tA);tB=A.Get(U.KeyListenerState().KeysPressed);return!d.exists(function(tC){return tC===tA;},tB)?U.KeyListenerState().KeysPressed.set_Value(B.append(tB,B.ofArray([tA]))):null;});ty=void O(E).keyup(function(tD){var tE,tF,tH;tE=tD.which;tF=function(tG){return tG!==tE;};tH=function(tI){return B.filter(tF,tI);};return H.Update(U.KeyListenerState().KeysPressed,tH);});}else{ty=null;}return ty;}),KeyListenerState:$.Field(function(){return{KeysPressed:A.Create($.New(T,{$:0})),KeyListenerActive:false,LastPressed:A.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(tJ){var tK;U.ActivateKeyListener();tK=function(tL){return tL===tJ;};return u.Map(function(tM){return d.exists(tK,tM);},U.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){U.ActivateKeyListener();return U.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){U.ActivateKeyListener();return U.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){U.ActivateButtonListener();return U.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){U.ActivateButtonListener();return U.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){U.ActivateButtonListener();return V.Apply(V.Apply(V.Apply(u.Const(function(tN){return function(tO){return function(tP){return(tN?true:tO)?true:tP;};};}),U.MouseBtnSt1().Left.get_View()),U.MouseBtnSt1().Middle.get_View()),U.MouseBtnSt1().Right.get_View());},get_Position:function(){var tQ;tQ=function(tR){return A.Set(U.MousePosSt1().PosV,[tR.clientX,tR.clientY]);};if(!U.MousePosSt1().Active){E.addEventListener("mousemove",tQ,false);U.MousePosSt1().Active=true;}return u.FromVar(U.MousePosSt1().PosV);},get_RightPressed:function(){U.ActivateButtonListener();return U.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:A.Create(false),Middle:A.Create(false),Right:A.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:A.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(W,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(X,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(tS){var tT,tV=this;tT=this.Var.get_Value();if(!Y.Contains(this.Key,tS,tT)){tT.push(tS);return this.Var.set_Value(tT);}else{a.set(tT,a.findINdex(function(tU){return m.Equals(tV.Key.call(null,tU),tV.Key.call(null,tS));},tT),tS);return tV.Var.set_Value(tT);}},Clear:function(){return this.Var.set_Value([]);},ContainsKey:function(tW){var tY=this;return d.exists(function(tX){return m.Equals(tY.Key.call(null,tX),tW);},tY.Var.get_Value());},ContainsKeyAsView:function(tZ){var t0,t2=this;t0=function(t1){return m.Equals(t2.Key.call(null,t1),tZ);};return u.Map(function(t3){return d.exists(t0,t3);},t2.Var.get_View());},Find:function(t4){return a.find(t4,this.Var.get_Value());},FindAsView:function(t5){return u.Map(function(t6){return a.find(t5,t6);},this.Var.get_View());},FindByKey:function(t7){var t9=this;return a.find(function(t8){return m.Equals(t9.Key.call(null,t8),t7);},t9.Var.get_Value());},FindByKeyAsView:function(t_){var t$,ub=this;t$=function(ua){return m.Equals(ub.Key.call(null,ua),t_);};return u.Map(function(uc){return a.find(t$,uc);},ub.Var.get_View());},Iter:function(ud){return a.iter(ud,this.Var.get_Value());},Remove:function(ue){var uf,ug,uh;uf=this.Var.get_Value();if(Y.Contains(this.Key,ue,uf)){ug=this.Key;uh=ug(ue);return this.Var.set_Value(a.filter(function(ui){return!m.Equals(ug(ui),uh);},uf));}else{return null;}},RemoveBy:function(uj){return this.Var.set_Value(a.filter(function(uk){return!uj(uk);},this.Var.get_Value()));},RemoveByKey:function(ul){var un=this;return this.Var.set_Value(a.filter(function(um){return!m.Equals(un.Key.call(null,um),ul);},un.Var.get_Value()));},Set:function(uo){return this.Var.set_Value(a.ofSeq(uo));},TryFind:function(up){return a.tryFind(up,this.Var.get_Value());},TryFindAsView:function(uq){return u.Map(function(ur){return a.tryFind(uq,ur);},this.Var.get_View());},TryFindByKey:function(us){var uu=this;return a.tryFind(function(ut){return m.Equals(uu.Key.call(null,ut),us);},uu.Var.get_Value());},TryFindByKeyAsView:function(uv){var uw,uy=this;uw=function(ux){return m.Equals(uy.Key.call(null,ux),uv);};return u.Map(function(uz){return a.tryFind(uw,uz);},uy.Var.get_View());},UpdateAll:function(uA){return H.Update(this.Var,function(uB){a.iteri(function(uC){return function(uD){return t.iter(function(uE){return a.set(uB,uC,uE);},uA(uD));};},uB);return uB;});},UpdateBy:function(uF,uG){var uH,uI,uK=this,uL,uM;uH=this.Var.get_Value();uI=a.tryFindIndex(function(uJ){return m.Equals(uK.Key.call(null,uJ),uG);},uH);if(uI.$==1){uL=uI.$0;uM=uF(a.get(uH,uL));if(uM.$==1){a.set(uH,uL,uM.$0);return uK.Var.set_Value(uH);}else{return null;}}else{return null;}},get_Length:function(){return a.length(this.Var.get_Value());},get_LengthAsView:function(){return u.Map(function(uN){return a.length(uN);},this.Var.get_View());}},{Create:function(uO,uP){var uQ;uQ=A.Create(d.toArray(d.distinctBy(uO,uP)));return $.New(Z,{Key:uO,Var:uQ,View:u.Map(function(uR){return uR.slice();},uQ.get_View())});},FromSeq:function(uS){return Z.Create(function(uT){return uT;},uS);}}),ListModel1:$.Class({},{View:function(uU){return uU.View;}}),ListModels:{Contains:function(uV,uW,uX){var uY;uY=uV(uW);return d.exists(function(uZ){return m.Equals(uV(uZ),uY);},uX);}},Model:$.Class({get_View:function(){return _0.View(this);}},{Create:function(u0,u1){var u2;u2=A.Create(u1);return $.New(_0,{$:0,$0:u2,$1:u.Map(u0,u2.get_View())});},Update:function(u3,u4){return H.Update(u4.$0,function(u5){u3(u5);return u5;});},View:function(u6){return u6.$1;}}),Route:{Append:function(u7,u8){return{$:0,$0:p.Append(u7.$0,u8.$0)};},FromList:function(u9){return{$:0,$0:p.FromArray(a.ofSeq(u9))};},MakeHash:function(u_){return _1.concat("/",a.map(function(u$){return _2(u$);},p.ToArray(u_.$0)));},NoHash:function(va){return _1.StartsWith(va,"#")?va.substring(1):va;},ParseHash:function(vb){return{$:0,$0:p.FromArray(a.map(function(vc){return _3(vc);},_1.SplitChars(_4.NoHash(vb),[47],1)))};},SameHash:function(vd,ve){return _4.NoHash(vd)===_4.NoHash(ve);},ToList:function(vf){return B.ofArray(p.ToArray(vf.$0));}},RouteMap1:$.Class({},{Create:function(vg,vh){return{Des:vh,Ser:vg};},Install:function(vi){return _5.InstallMap(vi);}}),Router:$.Class({},{Dir:function(vj,vk){return _6.Prefix(vj,_6.Merge(vk));},Install:function(vl,vm){return _5.Install(vl,vm);}}),Router1:$.Class({},{Merge:function(vn){return _5.MergeRouters(vn);},Prefix:function(vo,vp){return{$:0,$0:vp.$0,$1:_7.Prefix(vo,vp.$1)};},Route:function(vq,vr,vs){return _5.DefineRoute(vq,vr,vs);}}),Routing:{ComputeBodies:function(vt){var vu;vu=_8.New12();a.iter(function(vv){return vu.set_Item(vv.RouteId,vv);},_7.ToArray(vt));return vu;},DefineRoute:function(vw,vx,vy){var vz,vA,vB,vC;vz=A.Create(vx);vA=h.Int();vB=(vy({$:0,$0:vA}))(vz);vC=_7.Leaf({$:0,$0:vA,$1:function(vD){u.Sink(function(vE){return vD.UpdateRoute.call(null,_5.DoLink(vw,vE));},vz.get_View());return{OnRouteChanged:function(vF){return vz.set_Value(_5.DoRoute(vw,vF));},OnSelect:function(){return vD.UpdateRoute.call(null,_5.DoLink(vw,vz.get_Value()));},RouteId:vA,RouteValue:vB};}});return{$:0,$0:{$:1,$0:vB},$1:vC};},DoLink:function(vH,vI){return _4.FromList(vH.Ser.call(null,vI));},DoRoute:function(vJ,vK){return vJ.Des.call(null,_4.ToList(vK));},Install:function(vL,vM){var vN,vO,vP,vS,vT,vY,v0,v1,v2,v4;vN=vM.$0;vO=vM.$1;vP=_5.InstallMap({Des:function(vQ){return _4.FromList(vQ);},Ser:function(vR){return _4.ToList(vR);}});vS={Bodies:g.U(),CurrentRoute:vP,CurrentSite:0,Selection:g.U()};vT=_7.Map(function(vU){return function(vV){var vW;vW=vV.$0;return vV.$1.call(null,{UpdateRoute:function(vX){return _5.OnInternalSiteUpdate(vS,vW,vU,vX);}});};},vO);vS.Bodies=_5.ComputeBodies(vT);vY=function(vZ){return _7.Lookup(vT,_4.ToList(vZ));};v0=vY(vP.get_Value());if(v0.$==0){v2=v0.$0;vS.CurrentSite=v2.RouteId;v1=A.Create(v2.RouteValue);}else{v1=A.Create(vN.$==1?vN.$0:K.FailWith("Site.Install fails on empty site"));}vS.Selection=v1;u.Sink(function(v3){return _5.OnSelectSite(vS,vL(v3));},v1.get_View());v4=function(v5){var v6;v6=vY(v5);return v6.$==1?null:_5.OnGlobalRouteChange(vS,v6.$0,_4.FromList(v6.$1));};v4(vP.get_Value());u.Sink(v4,vP.get_View());return v1;},InstallMap:function(v7){var v8,v_,v$;v8=function(){return v7.Des.call(null,_4.ToList(_4.ParseHash(r.location.hash)));};v_=A.Create(v8(null));v$=function(){var wb;wb=v8(null);return!m.Equals(v7.Ser.call(null,v_.get_Value()),v7.Ser.call(null,wb))?v_.set_Value(wb):null;};r.onpopstate=v$;r.onhashchange=v$;u.Sink(function(wc){var wd;wd=_4.MakeHash(_4.FromList(v7.Ser.call(null,wc)));return!_4.SameHash(r.location.hash,wd)?void(r.location.hash=wd):null;},v_.get_View());return v_;},MergeRouters:function(we){var wf,wg,wi;wf=d.toArray(we);wg=_7.Merge(d.map(function(wh){return wh.$1;},wf));wi=d.tryPick(function(wj){return wj.$0;},wf);return wg.$==1?{$:0,$0:wi,$1:wg.$0}:K.FailWith("Invalid Site.Merge: need more prefix disambiguation");},OnGlobalRouteChange:function(wk,wl,wm){if(wk.CurrentSite!==wl.RouteId){wk.CurrentSite=wl.RouteId;wk.Selection.set_Value(wl.RouteValue);}return wl.OnRouteChanged.call(null,wm);},OnInternalSiteUpdate:function(wn,wo,wp,wq){return wn.CurrentSite===wo?_5.SetCurrentRoute(wn,_4.Append(_4.FromList(wp),wq)):null;},OnSelectSite:function(wr,ws){var wt;wt=ws.$0;if(wr.CurrentSite!==wt){wr.CurrentSite=wt;return wr.Bodies.get_Item(wt).OnSelect.call(null,null);}else{return null;}},SetCurrentRoute:function(wu,wv){return!m.Equals(wu.CurrentRoute.get_Value(),wv)?wu.CurrentRoute.set_Value(wv):null;}},Snap1:{Bind:function(ww,wx){var wy,wz;wy=_9.Create();wz=function(){return _9.MarkObsolete(wy);};_9.When(wx,function(wB){var wC;wC=ww(wB);return _9.When(wC,function(wD){return(_9.IsForever(wC)?_9.IsForever(wx):false)?_9.MarkForever(wy,wD):_9.MarkReady(wy,wD);},wz);},wz);return wy;},Create:function(){return _9.Make({$:3,$0:[],$1:[]});},CreateForever:function(wE){return _9.Make({$:0,$0:wE});},CreateWithValue:function(wF){return _9.Make({$:2,$0:wF,$1:[]});},IsForever:function(wG){return wG.State.$==0?true:false;},IsObsolete:function(wH){return wH.State.$==1?true:false;},Make:function(wI){return{State:wI};},Map:function(wJ,wK){var wL,wM;wL=wK.State;if(wL.$==0){return _9.CreateForever(wJ(wL.$0));}else{wM=_9.Create();_9.When(wK,function(wN){return _9.MarkDone(wM,wK,wJ(wN));},function(){return _9.MarkObsolete(wM);});return wM;}},Map2:function(wP,wQ,wR){var wS,wT,wU,wW,wX,wY,wZ,w1;wS=[wQ.State,wR.State];if(wS[0].$==0){if(wS[1].$==0){wT=wS[1].$0;return _9.CreateForever((wP(wS[0].$0))(wT));}else{return _9.Map(wP(wS[0].$0),wR);}}else{if(wS[1].$==0){wU=wS[1].$0;return _9.Map(function(wV){return(wP(wV))(wU);},wQ);}else{wW=_9.Create();wX=[{$:0}];wY=[{$:0}];wZ=function(){wX[0]={$:0};wY[0]={$:0};return _9.MarkObsolete(wW);};w1=function(){var w3,w4,w5;w3=[wX[0],wY[0]];if(w3[0].$==1){if(w3[1].$==1){w4=w3[0].$0;w5=w3[1].$0;return(_9.IsForever(wQ)?_9.IsForever(wR):false)?_9.MarkForever(wW,(wP(w4))(w5)):_9.MarkReady(wW,(wP(w4))(w5));}else{return null;}}else{return null;}};_9.When(wQ,function(w6){wX[0]={$:1,$0:w6};return w1(null);},wZ);_9.When(wR,function(w7){wY[0]={$:1,$0:w7};return w1(null);},wZ);return wW;}}},MapAsync:function(w8,w9){var w_;w_=_9.Create();_9.When(w9,function(w$){return _.StartTo(w8(w$),function(xa){return _9.MarkDone(w_,w9,xa);});},function(){return _9.MarkObsolete(w_);});return w_;},MarkDone:function(xc,xd,xe){return _9.IsForever(xd)?_9.MarkForever(xc,xe):_9.MarkReady(xc,xe);},MarkForever:function(xf,xg){var xh,xi;xh=xf.State;if(xh.$==3){xi=xh.$0;xf.State={$:0,$0:xg};return l.Iter(function(xj){return xj(xg);},xi);}else{return null;}},MarkObsolete:function(xk){var xl,xm,xo;xl=xk.State;if(xl.$==1){return null;}else{if(xl.$==2){xm=xl.$1;xk.State={$:1};return l.Iter(function(xn){return xn(null);},xm);}else{if(xl.$==3){xo=xl.$1;xk.State={$:1};return l.Iter(function(xp){return xp(null);},xo);}else{return null;}}}},MarkReady:function(xq,xr){var xs,xt;xs=xq.State;if(xs.$==3){xt=xs.$0;xq.State={$:2,$0:xr,$1:xs.$1};return l.Iter(function(xu){return xu(xr);},xt);}else{return null;}},SnapshotOn:function(xv,xw){var xx,xy,xz,xA,xB;xx=[xv.State,xw.State];if(xx[1].$==0){return _9.CreateForever(xx[1].$0);}else{xy=_9.Create();xz=[{$:0}];xA=[false];xB=function(){var xD;if(xA[0]){xD=xz[0];return xD.$==1?_9.IsForever(xw)?_9.MarkForever(xy,xD.$0):xD.$==1?_9.MarkReady(xy,xD.$0):null:xD.$==1?_9.MarkReady(xy,xD.$0):null;}else{return null;}};_9.When(xv,function(){xA[0]=true;return xB(null);},function(){xz[0]={$:0};return _9.MarkObsolete(xy);});_9.When(xw,function(xG){xz[0]={$:1,$0:xG};return xB(null);},function(){});return xy;}},When:function(xI,xJ,xK){var xL,xM,xN;xL=xI.State;if(xL.$==1){return xK(null);}else{if(xL.$==2){xM=xL.$0;l.Add(xK,xL.$1);return xJ(xM);}else{if(xL.$==3){xN=xL.$1;l.Add(xJ,xL.$0);return l.Add(xK,xN);}else{return xJ(xL.$0);}}}}},Trans:$.Class({},{AnimateChange:function(xO,xP,xQ){return(xO.TChange.call(null,xP))(xQ);},AnimateEnter:function(xR,xS){return xR.TEnter.call(null,xS);},AnimateExit:function(xT,xU){return xT.TExit.call(null,xU);},CanAnimateChange:function(xV){return(xV.TFlags&1)!==0;},CanAnimateEnter:function(xW){return(xW.TFlags&2)!==0;},CanAnimateExit:function(xX){return(xX.TFlags&4)!==0;},Change:function(xY,xZ){return{TChange:xY,TEnter:xZ.TEnter,TExit:xZ.TExit,TFlags:xZ.TFlags|1};},Create:function(x0){return{TChange:x0,TEnter:function(x1){return o.Const(x1);},TExit:function(x2){return o.Const(x2);},TFlags:1};},Enter:function(x3,x4){return{TChange:x4.TChange,TEnter:x3,TExit:x4.TExit,TFlags:x4.TFlags|2};},Trivial:function(){return{TChange:function(){return function(x6){return o.Const(x6);};},TEnter:function(x7){return o.Const(x7);},TExit:function(x8){return o.Const(x8);},TFlags:0};}}),Trans1:$.Class({},{Exit:function(x9,x_){return{TChange:x_.TChange,TEnter:x_.TEnter,TExit:x9,TFlags:x_.TFlags|4};}}),Trie1:{AllSome:function(x$){var ya,yb,yc,yd;ya=ba.Get(x$);yb=bc.New2();yc=true;while(yc?ya.MoveNext():false){yd=ya.get_Current();if(yd.$==1){yb.Add(yd.$0);}else{yc=false;}}return yc?{$:1,$0:yb.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(ye){return ye.$==2?true:false;},Leaf:function(yf){return{$:2,$0:yf};},Look:function(yg,yh){var yi,yj,yk;yi=[yh,yg];if(yi[0].$==2){return{$:0,$0:yi[0].$0,$1:yg};}else{if(yi[0].$==0){if(yi[1].$==1){yj=yi[1].$1;yk=bd.TryFind(yi[1].$0,yi[0].$0);return yk.$==0?{$:1}:_7.Look(yj,yk.$0);}else{return{$:1};}}else{return{$:1};}}},Lookup:function(yl,ym){return _7.Look(d.toList(ym),yl);},Map:function(yn,yo){return _7.MapLoop($.New(T,{$:0}),yn,yo);},MapLoop:function(yp,yq,yr){var ys;if(yr.$==1){return{$:1};}else{if(yr.$==2){ys=yr.$0;return{$:2,$0:(yq(yp))(ys)};}else{return _7.TrieBranch(bd.Map(function(yt){return function(yu){return _7.MapLoop(B.append(yp,B.ofArray([yt])),yq,yu);};},yr.$0));}}},Mapi:function(yv,yw){var yx;yx=[0];return _7.Map(function(yy){var yz;yz=yx[0];yx[0]=yz+1;return(yv(yz))(yy);},yw);},Merge:function(yA){var yB,yC;yB=d.toArray(yA);yC=a.length(yB);return yC===0?{$:1,$0:{$:1}}:yC===1?{$:1,$0:a.get(yB,0)}:d.exists(function(yD){return _7.IsLeaf(yD);},yB)?{$:0}:t.map(function(yE){return _7.TrieBranch(yE);},_7.MergeMaps(function(yF){return _7.Merge(yF);},d.choose(function(yG){return yG.$==0?{$:1,$0:yG.$0}:{$:0};},yB)));},MergeMaps:function(yH,yI){var yJ;yJ=d.collect(function(yK){return bd.ToSeq(yK);},yI);return t.map(function(yL){return bd.OfArray(d.toArray(yL));},_7.AllSome(d.map(function(yM){var yN;yN=yM[0];return t.map(function(yO){return[yN,yO];},yH(yM[1]));},bd.ToSeq(d.fold(function(yP){return function(yQ){return _7.MultiAdd(yQ[0],yQ[1],yP);};},be.New1([]),yJ)))));},MultiAdd:function(yR,yS,yT){return yT.Add(yR,$.New(T,{$:1,$0:yS,$1:_7.MultiFind(yR,yT)}));},MultiFind:function(yU,yV){return K.DefaultArg(bd.TryFind(yU,yV),$.New(T,{$:0}));},Prefix:function(yW,yX){return _7.TrieBranch(be.New1(B.ofArray([[yW,yX]])));},ToArray:function(yY){var yZ;yZ=[];_7.Map(function(){return function(y1){return l.Add(y1,yZ);};},yY);return l.ToArray(yZ);},TrieBranch:function(y2){return y2.get_IsEmpty()?{$:1}:{$:0,$0:y2};}},UINextPagelet:$.Class({Render:function(){return F.RunById(this.divId,this.doc);},get_Body:function(){return this.body;}},{New:function(y3){var y4,y5,y6;y4=$.New(this,bh.New());y4.doc=y3;y4.divId=h.Id();y6=y4.divId;y5=B.ofArray([bi.Attr().NewAttr("id",y6)]);y4.body=bj.Tags().NewTag("div",y5).get_Body();return y4;}}),Var:$.Class({get_Value:function(){return A.Get(this);},get_View:function(){return u.FromVar(this);},set_Value:function(y7){return A.Set(this,y7);}},{Create:function(y8){return $.New(A,{Const:false,Current:y8,Snap:_9.CreateWithValue(y8),Id:h.Int()});},Get:function(y9){return y9.Current;},Set:function(y_,y$){if(y_.Const){return null;}else{_9.MarkObsolete(y_.Snap);y_.Current=y$;y_.Snap=_9.CreateWithValue(y$);return;}},SetFinal:function(za,zb){if(za.Const){return null;}else{za.Const=true;za.Current=zb;za.Snap=_9.CreateForever(zb);return;}}}),Var1:$.Class({},{GetId:function(zc){return zc.Id;},Observe:function(zd){return zd.Snap;},Update:function(ze,zf){return A.Set(ze,zf(A.Get(ze)));}}),View:$.Class({},{Bind:function(zg,zh){return u.Join(u.Map(zg,zh));},Const:function(zi){var zj;zj=_9.CreateForever(zi);return{$:0,$0:function(){return zj;}};},Convert:function(zl,zm){return u.ConvertBy(function(zn){return zn;},zl,zm);},ConvertBy:function(zo,zp,zq){var zr;zr=[_8.New12()];return u.Map(function(zs){var zt,zu,zv;zt=zr[0];zu=_8.New12();zv=a.map(function(zw){var zx,zy;zx=zo(zw);zy=zt.ContainsKey(zx)?zt.get_Item(zx):zp(zw);zu.set_Item(zx,zy);return zy;},d.toArray(zs));zr[0]=zu;return zv;},zq);},ConvertSeq:function(zz,zA){return u.ConvertSeqBy(function(zB){return zB;},zz,zA);},ConvertSeqBy:function(zC,zD,zE){var zF;zF=[_8.New12()];return u.Map(function(zG){var zH,zI,zJ;zH=zF[0];zI=_8.New12();zJ=a.map(function(zK){var zL,zM,zN;zL=zC(zK);if(zH.ContainsKey(zL)){zN=zH.get_Item(zL);A.Set(zN.NVar,zK);zM=zN;}else{zM=u.ConvertSeqNode(zD,zK);}zI.set_Item(zL,zM);return zM.NValue;},d.toArray(zG));zF[0]=zI;return zJ;},zE);},ConvertSeqNode:function(zO,zP){var zQ,zR;zQ=A.Create(zP);zR=u.FromVar(zQ);return{NValue:zO(zR),NVar:zQ,NView:zR};},CreateLazy:function(zS){var zT;zT=[{$:0}];return{$:0,$0:function(){var zV,zW,zX;zV=zT[0];if(zV.$==1){if(!_9.IsObsolete(zV.$0)){return zV.$0;}else{zW=zS(null);zT[0]={$:1,$0:zW};return zW;}}else{zX=zS(null);zT[0]={$:1,$0:zX};return zX;}}};},CreateLazy2:function(zY,zZ,z0){var z1,z2;z1=zZ.$0;z2=z0.$0;return u.CreateLazy(function(){var z4,z5;z4=z1(null);z5=z2(null);return(zY(z4))(z5);});},FromVar:function(z6){return{$:0,$0:function(){return H.Observe(z6);}};},Join:function(z8){var z9;z9=z8.$0;return u.CreateLazy(function(){return _9.Bind(function(z$){return z$.$0.call(null,null);},z9(null));});},Map:function(Aa,Ab){var Ac;Ac=Ab.$0;return u.CreateLazy(function(){return _9.Map(Aa,Ac(null));});},Map2:function(Ae,Af,Ag){return u.CreateLazy2(function(Ah){return function(Ai){return _9.Map2(Ae,Ah,Ai);};},Af,Ag);},MapAsync:function(Aj,Ak){var Al;Al=Ak.$0;return u.CreateLazy(function(){return _9.MapAsync(Aj,Al(null));});},Sink:function(An,Ao){var Ap,Aq;Ap=Ao.$0;Aq=function(){return _9.When(Ap(null),An,function(){return _.Schedule(Aq);});};return _.Schedule(Aq);},SnapshotOn:function(At,Au,Av){var Aw,Ax,Ay,Az;Aw=Au.$0;Ax=Av.$0;Ay=_9.CreateWithValue(At);Az=[false];return u.CreateLazy(function(){var AB,AC;AB=Aw(null);AC=Ax(null);if(Az[0]){return _9.SnapshotOn(AB,AC);}else{_9.When(_9.SnapshotOn(AB,AC),function(){return null;},function(){if(!Az[0]){Az[0]=true;return _9.MarkObsolete(Ay);}else{return null;}});return Ay;}});},UpdateWhile:function(AF,AG,AH){var AI;AI=[AF];return u.Map2(function(AJ){return function(AK){if(AJ){AI[0]=AK;}return AI[0];};},AG,AH);},get_Do:function(){return $.New(bk,{$:0});}}),View1:$.Class({},{Apply:function(AL,AM){return u.Map2(function(AN){return function(AO){return AN(AO);};},AL,AM);}}),ViewBuilder:$.Class({Bind:function(AP,AQ){return u.Bind(AQ,AP);},Return:function(AR){return u.Const(AR);}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Arrays);b=$.Safe($$.WebSharper.Concurrency);c=$.Safe($$.Array);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe(g.JQueue);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(g.Slot1);o=$.Safe(f.An);p=$.Safe(f.AppendList1);q=$.Safe(f.Anims);r=$.Safe($$.window);s=$.Safe(f.Trans);t=$.Safe($$.WebSharper.Option);u=$.Safe(f.View);v=$.Safe($$.WebSharper.Lazy);w=$.Safe(g.Array);x=$.Safe(f.Attrs);y=$.Safe(f.DomUtility);z=$.Safe(f.Attr);A=$.Safe(f.Var);B=$.Safe($$.WebSharper.List);C=$.Safe(f.AnimatedAttrNode);D=$.Safe(f.DynamicAttrNode);E=$.Safe($$.document);F=$.Safe(f.Doc);G=$.Safe(f.UINextPagelet);H=$.Safe(f.Var1);I=$.Safe(f.Docs);J=$.Safe(g.Mailbox);K=$.Safe($$.WebSharper.Operators);L=$.Safe(I.NodeSet);M=$.Safe(f.DocElemNode);N=$.Safe(I.DomNodes);O=$.Safe($$.jQuery);P=$.Safe(f.Easing);Q=$.Safe(f.Easings);R=$.Safe(f.FlowBuilder);S=$.Safe(f.Flow);T=$.Safe(B.T);U=$.Safe(f.Input);V=$.Safe(f.View1);W=$.Safe(f.DoubleInterpolation);X=$.Safe(f.Key);Y=$.Safe(f.ListModels);Z=$.Safe(f.ListModel);_0=$.Safe(f.Model);_1=$.Safe($$.WebSharper.Strings);_2=$.Safe($$.encodeURIComponent);_3=$.Safe($$.decodeURIComponent);_4=$.Safe(f.Route);_5=$.Safe(f.Routing);_6=$.Safe(f.Router1);_7=$.Safe(f.Trie1);_8=$.Safe(i.Dictionary);_9=$.Safe(f.Snap1);_=$.Safe(g.Async);ba=$.Safe($$.WebSharper.Enumerator);bb=$.Safe(i.ResizeArray);bc=$.Safe(bb.ResizeArrayProxy);bd=$.Safe(i.MapModule);be=$.Safe(i.FSharpMap);bf=$.Safe($$.WebSharper.Html);bg=$.Safe(bf.Client);bh=$.Safe(bg.Pagelet);bi=$.Safe(bg.Attr);bj=$.Safe(bg.Tags);bk=$.Safe(f.ViewBuilder);bl=$.Safe(f.Html);bm=$.Safe(bl.Attributes);return bn=$.Safe(bl.SvgAttributes);});$.OnLoad(function(){$.Inherit(G,bh);U.MousePosSt1();U.MouseBtnSt1();U.KeyListenerState();U.ActivateKeyListener();U.ActivateButtonListener();bl.Wrap();bl.Width();bl.ValueType();bl.Value();bl.VAlign();bl.UseMap();bl.Type();bl.Title();bl.Target();bl.TabIndex();bn.Z();bn.YChannelSelector();bn.Y2();bn.Y1();bn.Y();bn.XChannelSelector();bn.X2();bn.X1();bn.X();bn.WritingMode();bn.WordSpacing();bn.Width();bn.Visibility();bn.ViewBox();bn.Values();bn.Type();bn.Transform();bn.To();bn.TextRendering();bn.TextDecoration();bn.TextAnchor();bn.TargetY();bn.TargetX();bn.SurfaceScale();bn.Style();bn.StrokeWidth();bn.StrokeOpacity();bn.StrokeMiterLimit();bn.StrokeLineJoin();bn.StrokeLineCap();bn.StrokeDashOffset();bn.StrokeDashArray();bn.Stroke();bn.StopOpacity();bn.StopColor();bn.StitchTiles();bn.StdDeviation();bn.SpecularExponent();bn.SpecularConstant();bn.ShapeRendering();bn.Seed();bn.Scale();bn.Result();bn.Restart();bn.RequiredFeatures();bn.RepeatDur();bn.RepeatCount();bn.Radius();bn.RY();bn.RX();bn.R();bn.PrimitiveUnits();bn.PreserveAspectRatio();bn.PreserveAlpha();bn.PointsAtZ();bn.PointsAtY();bn.PointsAtX();bn.Points();bn.PointerEvents();bn.PatternUnits();bn.PatternTransform();bn.PatternContentUnits();bn.PathLength();bn.PaintOrder();bn.Overflow();bn.Order();bn.Operator();bn.Opacity();bn.NumOctaves();bn.Mode();bn.Min();bn.Max();bn.MaskUnits();bn.MaskContentUnits();bn.Mask();bn.MarkerWidth();bn.MarkerUnits();bn.MarkerStart();bn.MarkerMid();bn.MarkerHeight();bn.MarkerEnd();bn.Local();bn.LimitingConeAngle();bn.LightingColor();bn.LetterSpacing();bn.KeyTimes();bn.KeySplines();bn.Kerning();bn.KernelUnitLength();bn.KernelMatrix();bn.K4();bn.K3();bn.K2();bn.K1();bn.In2();bn.ImageRendering();bn.IN();bn.Height();bn.GradientUnits();bn.GradientTransform();bn.From();bn.FontWeight();bn.FontVariant();bn.FontStyle();bn.FontStretch();bn.FontSizeAdjust();bn.FontSize();bn.FontFamily();bn.FloodOpacity();bn.FloodColor();bn.FilterUnits();bn.FilterRes();bn.Filter();bn.FillRule();bn.FillOpacity();bn.Fill();bn.ExternalResourcesRequired();bn.End();bn.Elevation();bn.EdgeMode();bn.Dur();bn.DominantBaseline();bn.Divisor();bn.Display();bn.Direction();bn.DiffuseConstant();bn.DY();bn.DX();bn.D();bn.Cursor();bn.ContentStyleType();bn.ContentScriptType();bn.ColorRendering();bn.ColorProfile();bn.ColorInterpolationFilters();bn.ColorInterpolation();bn.Color();bn.ClipRule();bn.ClipPathUnits();bn.ClipPath();bn.Clip();bn.Class();bn.CalcMode();bn.CY();bn.CX();bn.Bias();bn.Begin();bn.BaselineShift();bn.BaseFrequency();bn.Azimuth();bn.AttributeType();bn.AttributeName();bn.Ascent();bn.AlignmentBaseline();bn.Additive();bn.Accumulate();bn.AccentHeight();bl.Subject();bl.Style();bl.Step();bl.StandBy();bl.SrcLang();bl.SrcDoc();bl.Src();bl.SpellCheck();bl.Sizes();bl.Size();bl.Shape();bl.Selected();bl.Seamless();bl.Scrolling();bl.Scoped();bl.Scope();bl.Scheme();bl.Sandbox();bl.Rules();bl.Rows();bl.RowSpan();bl.Reversed();bl.Rev();bl.Required();bl.Rel();bl.ReadOnly();bl.RadioGroup();bl.PubDate();bl.Profile();bl.Preload();bl.Poster();bl.PlaceHolder();bl.Ping();bl.Pattern();bl.NoValidate();bl.NoResize();bl.NoHRef();bl.Name();bl.Multiple();bl.Method();bl.Media();bl.MaxLength();bl.MarginWidth();bl.MarginHeight();bl.Manifest();bl.Low();bl.Loop();bl.LongDesc();bl.Lang();bl.ItemProp();bl.IsMap();bl.Id();bl.Icon();bl.HttpEquiv();bl.High();bl.Hidden();bl.Height();bl.Headers();bl.HRefLang();bl.HRef();bl.FrameBorder();bl.FormTarget();bl.FormNoValidate();bl.FormMethod();bl.FormEncType();bl.FormAction();bl.For();bl.EncType();bl.DropZone();bl.Draggable();bl.Download();bl.Disabled();bl.Defer();bl.Default();bl.Declare();bl.Coords();bl.ContextMenu();bl.ContentEditable();bl.Cols();bl.ColSpan();bl.CodeType();bl.CodeBase();bl.ClassId();bl.Class();bl.Checked();bl.CharSet();bl.CharOff();bl.Char();bl.Challenge();bl.CellSpacing();bl.CellPadding();bl.Buffered();bl.BorderColor();bl.Border();bl.Axis();bl.AutoSave();bl.AutoPlay();bl.AutoFocus();bl.AutoComplete();bm.Version();bm.VSpace();bm.VLink();bm.Text();bm.Summary();bm.Start();bm.Span();bm.Prompt();bm.Optimum();bm.Open();bm.Object();bm.NoWrap();bm.NoShade();bm.Min();bm.Max();bm.List();bm.Link();bm.Language();bm.Label();bm.Kind();bm.KeyType();bm.HSpace();bm.Frame();bm.Form();bm.Face();bm.Dir();bm.DateTime();bm.Data();bm.Controls();bm.Content();bm.Compact();bm.Color();bm.Code();bm.Clear();bm.Cite();bm.BgColor();bm.Background();bm.Async();bm.Alink();bm.Action();bl.Archive();bl.AltCode();bl.Alt();bl.Align();bl.AccessKey();bl.AcceptCharSet();bl.Accept();Q.CubicInOut();y.Doc();x.EmptyAttr();h.counter();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{WebSharper:{Testing:{Pervasives:{Do:$.Field(function(){return c.New();}),PropertyWith:function(w,x,y){var z;z=b.Test(w);return z.Run(z.PropertyWithSample(z.Yield(null),function(){return e.Make(x,100);},function(){return y;}));},PropertyWithSample:function(C,D,E){var F;F=b.Test(C);return F.Run(F.PropertyWithSample(F.Yield(null),function(){return D;},function(){return E;}));},Runner:{AddTest:function(I,J,K){var L,N;L=function(M){(I(K))(M);return M;};N=J(K);return f.Map(L,N);},AddTestAsync:function(O,P,Q){var R,V;R=function(S){return g.Delay(function(){return g.Bind((O(Q))(S),function(){return g.Return(S);});});};V=P(Q);return f.MapAsync(R,V);},Bind:function(W,X){var Y,Z,_2;if(X.$==1){Z=X.$0;Y={$:1,$0:g.Delay(function(){return g.Bind(Z,function(_1){return f.ToAsync(W(_1));});})};}else{_2=X.$0;Y=W(_2);}return Y;},Map:function(_3,_4){var _5,_6,_9;if(_4.$==1){_6=_4.$0;_5={$:1,$0:g.Delay(function(){return g.Bind(_6,function(_8){return g.Return(_3(_8));});})};}else{_9=_4.$0;_5={$:0,$0:_3(_9)};}return _5;},MapAsync:function(_,ba){var bb,bc,bf;if(ba.$==1){bc=ba.$0;bb={$:1,$0:g.Delay(function(){return g.Bind(bc,function(be){return _(be);});})};}else{bf=ba.$0;bb={$:1,$0:_(bf)};}return bb;},ToAsync:function(bf){var bg,bh,bi;if(bf.$==1){bh=bf.$0;bg=bh;}else{bi=bf.$0;bg=g.Delay(function(){return g.Return(bi);});}return bg;}},SubtestBuilder:$.Class({ApproxEqual:function(bk,bl,bm){var bn;bn=function(bo){return function(bp){var bq,br;bq=bl(bp);br=bm(bp);return bo.push(h.abs(bq-br)<0.0001,bq,br);};};return function(bs){return f.AddTest(bn,bk,bs);};},ApproxEqualAsync:function(bt,bu,bv){var bw;bw=function(bx){return function(by){return g.Delay(function(){var bA;bA=bv(by);return g.Bind(bu(by),function(bB){return g.Return(bx.push(h.abs(bB-bA)<0.0001,bB,bA));});});};};return function(bC){return f.AddTestAsync(bw,bt,bC);};},ApproxEqualMsg:function(bD,bE,bF,bG){var bH;bH=function(bI){return function(bJ){var bK,bL;bK=bE(bJ);bL=bF(bJ);return bI.push(h.abs(bK-bL)<0.0001,bK,bL,bG);};};return function(bM){return f.AddTest(bH,bD,bM);};},ApproxEqualMsgAsync:function(bN,bO,bP,bQ){var bR;bR=function(bS){return function(bT){return g.Delay(function(){var bV;bV=bP(bT);return g.Bind(bO(bT),function(bW){return g.Return(bS.push(h.abs(bW-bV)<0.0001,bW,bV,bQ));});});};};return function(bX){return f.AddTestAsync(bR,bN,bX);};},Bind:function(bY,bZ){return function(b0){return{$:1,$0:g.Delay(function(){return g.Bind(bY,function(b2){var b3,b4,b5,b6;b3=(bZ(b2))(b0);if(b3.$==1){b5=b3.$0;b4=b5;}else{b6=b3.$0;b4=g.Return(b6);}return b4;});})};};},DeepEqual:function(b7,b8,b9){var b_;b_=function(b$){return function(ca){return b$.deepEqual(b8(ca),b9(ca));};};return function(cb){return f.AddTest(b_,b7,cb);};},DeepEqualAsync:function(cc,cd,ce){var cf;cf=function(cg){return function(ch){return g.Delay(function(){var cj;cj=ce(ch);return g.Bind(cd(ch),function(ck){return g.Return(cg.deepEqual(ck,cj));});});};};return function(cl){return f.AddTestAsync(cf,cc,cl);};},DeepEqualMsg:function(cm,cn,co,cp){var cq;cq=function(cr){return function(cs){return cr.deepEqual(cn(cs),co(cs),cp);};};return function(ct){return f.AddTest(cq,cm,ct);};},DeepEqualMsgAsync:function(cu,cv,cw,cx){var cy;cy=function(cz){return function(cA){return g.Delay(function(){var cC;cC=cw(cA);return g.Bind(cv(cA),function(cD){return g.Return(cz.deepEqual(cD,cC,cx));});});};};return function(cE){return f.AddTestAsync(cy,cu,cE);};},Equal:function(cF,cG,cH){var cI;cI=function(cJ){return function(cK){var cL,cM;cL=cG(cK);cM=cH(cK);return cJ.push(i.Equals(cL,cM),cL,cM);};};return function(cN){return f.AddTest(cI,cF,cN);};},EqualAsync:function(cO,cP,cQ){var cR;cR=function(cS){return function(cT){return g.Delay(function(){var cV;cV=cQ(cT);return g.Bind(cP(cT),function(cW){return g.Return(cS.push(i.Equals(cW,cV),cW,cV));});});};};return function(cX){return f.AddTestAsync(cR,cO,cX);};},EqualMsg:function(cY,cZ,c0,c1){var c2;c2=function(c3){return function(c4){var c5,c6;c5=cZ(c4);c6=c0(c4);return c3.push(i.Equals(c5,c6),c5,c6,c1);};};return function(c7){return f.AddTest(c2,cY,c7);};},EqualMsgAsync:function(c8,c9,c_,c$){var da;da=function(db){return function(dc){return g.Delay(function(){var de;de=c_(dc);return g.Bind(c9(dc),function(df){return g.Return(db.push(i.Equals(df,de),df,de,c$));});});};};return function(dg){return f.AddTestAsync(da,c8,dg);};},Expect:function(dh,di){var dj;dj=function(dk){return function(dl){return dk.expect(di(dl));};};return function(dm){return f.AddTest(dj,dh,dm);};},For:function(dn,_do){return function(dp){var dq,dr,ds,dt,du,dv,dw,dx,dz,dA;dq=[];dr=dn.get_Data();ds={$:0,$0:undefined};dq[2]=dr;dq[1]=ds;dq[0]=1;while(dq[0]){if(dq[2].$==1){du=dq[2].$1;dv=dq[2].$0;dw=_do(dv);dx=function(){return dw(dp);};dz=dq[1];dA=f.Bind(dx,dz);dq[2]=du;dq[1]=dA;dt=void(dq[0]=1);}else{dq[0]=0;dt=void(dq[1]=dq[1]);}}return dq[1];};},For1:function(dB,dC){return this.For(e.New(dB),dC);},For2:function(dD,dE){return function(dF){var dG,dH,dI,dP;dG=dD(dF);if(dG.$==1){dI=dG.$0;dH={$:1,$0:g.Delay(function(){return g.Bind(dI,function(dK){var dL,dM,dN,dO;dL=(dE(dK))(dF);if(dL.$==1){dN=dL.$0;dM=dN;}else{dO=dL.$0;dM=g.Return(dO);}return dM;});})};}else{dP=dG.$0;dH=(dE(dP))(dF);}return dH;};},ForEach:function(dQ,dR,dS){return function(dT){var dU,d7,d9;dU=function(dV,dW,dX){var dY,dZ,d0,d1,d2;if(dX.$==1){dZ=dX.$1;d0=dX.$0;d1=dV(d0);d2=function(d3){var d4,d6;d4=function(){return d3;};d6=d1(dT);return f.Map(d4,d6);};dY=dU(dV,f.Bind(d2,dW),dZ);}else{dY=dW;}return dY;};d7=function(d8){return dU(dS(d8),{$:0,$0:d8},j.ofSeq(dR(d8)));};d9=dQ(dT);return f.Bind(d7,d9);};},IsFalse:function(d_,d$){var ea;ea=function(eb){return function(ec){return eb.ok(!d$(ec));};};return function(ed){return f.AddTest(ea,d_,ed);};},IsFalseAsync:function(ee,ef){var eg;eg=function(eh){return function(ei){return g.Delay(function(){return g.Bind(ef(ei),function(ek){return g.Return(eh.ok(!ek));});});};};return function(el){return f.AddTestAsync(eg,ee,el);};},IsFalseAsync1:function(em,en,eo){var ep;ep=function(eq){return function(er){return g.Delay(function(){return g.Bind(en(er),function(et){return g.Return(eq.ok(!et,eo));});});};};return function(eu){return f.AddTestAsync(ep,em,eu);};},IsFalseMsg:function(ev,ew,ex){var ey;ey=function(ez){return function(eA){return ez.ok(!ew(eA),ex);};};return function(eB){return f.AddTest(ey,ev,eB);};},IsTrue:function(eC,eD){var eE;eE=function(eF){return function(eG){return eF.ok(eD(eG));};};return function(eH){return f.AddTest(eE,eC,eH);};},IsTrueAsync:function(eI,eJ){var eK;eK=function(eL){return function(eM){return g.Delay(function(){return g.Bind(eJ(eM),function(eO){return g.Return(eL.ok(eO));});});};};return function(eP){return f.AddTestAsync(eK,eI,eP);};},IsTrueMsg:function(eQ,eR,eS){var eT;eT=function(eU){return function(eV){return eU.ok(eR(eV),eS);};};return function(eW){return f.AddTest(eT,eQ,eW);};},IsTrueMsgAsync:function(eX,eY,eZ){var e0;e0=function(e1){return function(e2){return g.Delay(function(){return g.Bind(eY(e2),function(e4){return g.Return(e1.ok(e4,eZ));});});};};return function(e5){return f.AddTestAsync(e0,eX,e5);};},JsEqual:function(e6,e7,e8){var e9;e9=function(e_){return function(e$){return e_.equal(e7(e$),e8(e$));};};return function(fa){return f.AddTest(e9,e6,fa);};},JsEqualAsync:function(fb,fc,fd){var fe;fe=function(ff){return function(fg){return g.Delay(function(){var fi;fi=fd(fg);return g.Bind(fc(fg),function(fj){return g.Return(ff.equal(fj,fi));});});};};return function(fk){return f.AddTestAsync(fe,fb,fk);};},JsEqualMsg:function(fl,fm,fn,fo){var fp;fp=function(fq){return function(fr){return fq.equal(fm(fr),fn(fr),fo);};};return function(fs){return f.AddTest(fp,fl,fs);};},JsEqualMsgAsync:function(ft,fu,fv,fw){var fx;fx=function(fy){return function(fz){return g.Delay(function(){var fB;fB=fv(fz);return g.Bind(fu(fz),function(fC){return g.Return(fy.equal(fC,fB,fw));});});};};return function(fD){return f.AddTestAsync(fx,ft,fD);};},NotApproxEqual:function(fE,fF,fG){var fH;fH=function(fI){return function(fJ){var fK,fL;fK=fF(fJ);fL=fG(fJ);return fI.push(h.abs(fK-fL)>0.0001,fK,fL);};};return function(fM){return f.AddTest(fH,fE,fM);};},NotApproxEqualAsync:function(fN,fO,fP){var fQ;fQ=function(fR){return function(fS){return g.Delay(function(){var fU;fU=fP(fS);return g.Bind(fO(fS),function(fV){return g.Return(fR.push(h.abs(fV-fU)>0.0001,fV,fU));});});};};return function(fW){return f.AddTestAsync(fQ,fN,fW);};},NotApproxEqualMsg:function(fX,fY,fZ,f0){var f1;f1=function(f2){return function(f3){var f4,f5;f4=fY(f3);f5=fZ(f3);return f2.push(h.abs(f4-f5)>0.0001,f4,f5,f0);};};return function(f6){return f.AddTest(f1,fX,f6);};},NotApproxEqualMsgAsync:function(f7,f8,f9,f_){var f$;f$=function(ga){return function(gb){return g.Delay(function(){var gd;gd=f9(gb);return g.Bind(f8(gb),function(ge){return g.Return(ga.push(h.abs(ge-gd)>0.0001,ge,gd,f_));});});};};return function(gf){return f.AddTestAsync(f$,f7,gf);};},NotEqual:function(gg,gh,gi){var gj;gj=function(gk){return function(gl){var gm,gn;gm=gh(gl);gn=gi(gl);return gk.push(!i.Equals(gm,gn),gm,gn);};};return function(go){return f.AddTest(gj,gg,go);};},NotEqualAsync:function(gp,gq,gr){var gs;gs=function(gt){return function(gu){return g.Delay(function(){var gw;gw=gr(gu);return g.Bind(gq(gu),function(gx){return g.Return(gt.push(!i.Equals(gx,gw),gx,gw));});});};};return function(gy){return f.AddTestAsync(gs,gp,gy);};},NotEqualMsg:function(gz,gA,gB,gC){var gD;gD=function(gE){return function(gF){var gG,gH;gG=gA(gF);gH=gB(gF);return gE.push(!i.Equals(gG,gH),gG,gH,gC);};};return function(gI){return f.AddTest(gD,gz,gI);};},NotEqualMsgAsync:function(gJ,gK,gL,gM){var gN;gN=function(gO){return function(gP){return g.Delay(function(){var gR;gR=gL(gP);return g.Bind(gK(gP),function(gS){return g.Return(gO.push(!i.Equals(gS,gR),gS,gR,gM));});});};};return function(gT){return f.AddTestAsync(gN,gJ,gT);};},PropertyWithSample:function(gU,gV,gW){return function(gX){var gY,g$,hc;gY=function(gZ,g0,g1){var g2,g3,g4,g5,g6;if(g1.$==1){g3=g1.$1;g4=g1.$0;g5=gZ(g4);g6=function(g7){var g8,g_;g8=function(){return g7;};g_=g5(gX);return f.Map(g8,g_);};g2=gY(gZ,f.Bind(g6,g0),g3);}else{g2=g0;}return g2;};g$=function(ha){var hb;hb=gV(ha);return gY(gW(ha),{$:0,$0:ha},hb.get_Data());};hc=gU(gX);return f.Bind(g$,hc);};},Raises:function(hd,he){var hf;hf=function(hg){return function(hh){var hi,hj,hk;try{hj=he(hh);hi=hg.ok(false,"Expected raised exception");}catch(hk){hi=hg.ok(true);}return hi;};};return function(hl){return f.AddTest(hf,hd,hl);};},RaisesAsync:function(hm,hn){var ho;ho=function(hp){return function(hq){var hr;hr=hn(hq);return g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(hr,function(){return g.Return(hp.ok(false,"Expected raised exception"));});}),function(){return g.Return(hp.ok(true));});});};};return function(hw){return f.AddTestAsync(ho,hm,hw);};},RaisesMsg:function(hx,hy,hz){var hA;hA=function(hB){return function(hC){var hD,hE,hF;try{hE=hy(hC);hD=hB.ok(false,hz);}catch(hF){hD=hB.ok(true,hz);}return hD;};};return function(hG){return f.AddTest(hA,hx,hG);};},RaisesMsgAsync:function(hH,hI,hJ){var hK;hK=function(hL){return function(hM){var hN;hN=hI(hM);return g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(hN,function(){return g.Return(hL.ok(false,hJ));});}),function(){return g.Return(hL.ok(true,hJ));});});};};return function(hS){return f.AddTestAsync(hK,hH,hS);};},Return:function(hT){return function(){return{$:0,$0:hT};};},RunSubtest:function(hV,hW){return function(hX){var hY,h0;hY=function(hZ){return(hW(hZ))(hX);};h0=hV(hX);return f.Bind(hY,h0);};},Yield:function(h1){return function(){return{$:0,$0:h1};};},Zero:function(){return function(){return{$:0,$0:undefined};};}},{New:function(){return $.New(this,{});}}),Test:function(h4){return k.New(h4);},TestBuilder:$.Class({Run:function(h5){return l.test(this.name,function(h6){var h7,h8,h9,h_,h$,ia,ih;try{h8=h5(h6);if(h8.$==1){h_=h8.$0;h$=h6.async();ia=g.Delay(function(){return g.TryFinally(g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(h_,function(){return g.Return(null);});}),function(_if){return g.Return(h6.equal(_if,null,"Test threw an unexpected asynchronous exception"));});}),function(){return h$(null);});});h9=g.Start(ia,{$:0});}else{h9=null;}h7=h9;}catch(ih){h7=h6.equal(ih,null,"Test threw an unexpected synchronous exception");}return h7;});}},{New:function(ii){var ij;ij=$.New(this,c.New());ij.name=ii;return ij;}}),TestCategory:function(ik){return m.New(ik);},TestCategoryBuilder:$.Class({},{New:function(il){var im;im=$.New(this,{});im.name=il;return im;}})},Random:{Anything:$.Field(function(){return d.MixManyWithoutBases(d.allTypes());}),ArrayOf:function(_in){return{Base:[[]],Next:function(){var ip;ip=d.Natural().Next.call(null,null)%100;return n.init(ip,function(){return _in.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return d.StandardUniform().Next.call(null,null)>0.5;}};}),Choose:function(is,it){var iu,iw,ix;iu=function(iv){return n.get(is,iv);};iw=d.Within(0,n.length(is)-1);ix=d.Map(iu,iw);return{Base:[],Next:function(){var iz;iz=ix.Next.call(null,null);return it(iz).Next.call(null,null);}};},Const:function(iA){return{Base:[iA],Next:function(){return iA;}};},Exponential:function(iC){return{Base:[],Next:function(){var iE;iE=d.StandardUniform().Next.call(null,null);return-h.log(1-iE)/iC;}};},Float:$.Field(function(){return{Base:[0],Next:function(){var iG;iG=d.Boolean().Next.call(null,null)?1:-1;return iG*d.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,o,p,-p],Next:function(){return d.Float().Next.call(null,null);}};}),FloatWithin:function(iI,iJ){return{Base:[iI,iJ],Next:function(){return iI+(iJ-iI)*h.random();}};},Implies:function(iL,iM){return!iL?true:iM;},Imply:function(iN,iO){return d.Implies(iN,iO);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return h.round(d.Float().Next.call(null,null))<<0;}};}),ListOf:function(iQ){var iR,iT;iR=function(iS){return j.ofArray(iS);};iT=d.ArrayOf(iQ);return d.Map(iR,iT);},Map:function(iU,iV){var iW;iW=iV.Next;return{Base:n.map(iU,iV.Base),Next:function(iX){return iU(iW(iX));}};},Mix:function(iY,iZ){var i0;i0=[false];return{Base:iY.Base.concat(iZ.Base),Next:function(){i0[0]=!i0[0];return i0[0]?iY.Next.call(null,null):iZ.Next.call(null,null);}};},MixMany:function(i2){var i5;i5=[0];return{Base:n.concat(q.toArray(q.delay(function(){return q.map(function(i4){return i4.Base;},i2);}))),Next:function(){i5[0]=(i5[0]+1)%n.length(i2);return n.get(i2,i5[0]).Next.call(null,null);}};},MixManyWithoutBases:function(i7){var i8;i8=[0];return{Base:[],Next:function(){i8[0]=(i8[0]+1)%n.length(i7);return n.get(i7,i8[0]).Next.call(null,null);}};},Natural:$.Field(function(){var i_;i_=d.Int().Next;return{Base:[0,1],Next:function(i$){var ja;ja=i_(i$);return h.abs(ja);}};}),OneOf:function(jb){var jc;jc=d.Within(1,n.length(jb));return{Base:jb,Next:function(){return n.get(jb,jc.Next.call(null,null)-1);}};},OptionOf:function(je){return d.Mix(d.Const({$:0}),d.Map(function(jf){return{$:1,$0:jf};},je));},Sample:$.Class({get_Data:function(){return this.data;}},{Make:function(jg,jh){return e.New1(jg,jh);},New:function(ji){return $.New(this,e.New1(ji,100));},New1:function(jj,jk){var jl;jl=q.toList(q.delay(function(){return q.append(q.map(function(jn){return n.get(jj.Base,jn);},r.range(0,n.length(jj.Base)-1)),q.delay(function(){return q.map(function(){return jj.Next.call(null,null);},r.range(1,jk));}));}));return $.New(this,e.New4(jl));},New4:function(jq){var jr;jr=$.New(this,{});jr.data=jq;return jr;}}),StandardUniform:$.Field(function(){return{Base:[],Next:function(){return h.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){var ju,jv;ju=d.Natural().Next.call(null,null)%100;jv=n.init(ju,function(){return d.Int().Next.call(null,null)%256;});return s.fromCharCode.apply(undefined,jv);}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:d.String().Next};}),Tuple2Of:function(jx,jy){return{Base:q.toArray(q.delay(function(){return q.collect(function(jA){return q.map(function(jB){return[jA,jB];},jy.Base);},jx.Base);})),Next:function(){return[jx.Next.call(null,null),jy.Next.call(null,null)];}};},Tuple3Of:function(jD,jE,jF){return{Base:q.toArray(q.delay(function(){return q.collect(function(jH){return q.collect(function(jI){return q.map(function(jJ){return[jH,jI,jJ];},jF.Base);},jE.Base);},jD.Base);})),Next:function(){return[jD.Next.call(null,null),jE.Next.call(null,null),jF.Next.call(null,null)];}};},Within:function(jL,jM){return{Base:[jL,jM],Next:function(){return d.Natural().Next.call(null,null)%(jM-jL)+jL;}};},allTypes:$.Field(function(){var jO,jP,jY;jO=[d.Int(),d.Float(),d.Boolean(),d.String()];jP=function(jQ){return q.toArray(q.delay(function(){return q.collect(function(jS){return q.append(q.collect(function(jT){return q.append([d.Tuple2Of(jS,jT)],q.delay(function(){return q.map(function(jV){return d.Tuple3Of(jS,jT,jV);},jQ);}));},jQ),q.delay(function(){return q.append([d.ListOf(jS)],q.delay(function(){return[d.ArrayOf(jS)];}));}));},jQ);}));};jY=jP(jO);return jO.concat(jY);})},Runner:{RunnerControl:$.Class({get_Body:function(){return u.New();}}),RunnerControlBody:$.Class({ReplaceInDom:function(jZ){var j0,j1,j2,j3,j4;j0=v.createElement("div");j0.setAttribute("id","qunit-fixture");j1=v.createElement("div");j1.setAttribute("id","qunit");j2=jZ.parentNode;j3=j2.replaceChild(j0,jZ);j4=j2.insertBefore(j1,j0);return;}},{New:function(){return $.New(this,{});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Testing);b=$.Safe(a.Pervasives);c=$.Safe(b.SubtestBuilder);d=$.Safe(a.Random);e=$.Safe(d.Sample);f=$.Safe(b.Runner);g=$.Safe($$.WebSharper.Concurrency);h=$.Safe($$.Math);i=$.Safe($$.WebSharper.Unchecked);j=$.Safe($$.WebSharper.List);k=$.Safe(b.TestBuilder);l=$.Safe($$.QUnit);m=$.Safe(b.TestCategoryBuilder);n=$.Safe($$.WebSharper.Arrays);o=$.Safe($$.NaN);p=$.Safe($$.Infinity);q=$.Safe($$.WebSharper.Seq);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.String);t=$.Safe(a.Runner);u=$.Safe(t.RunnerControlBody);return v=$.Safe($$.document);});$.OnLoad(function(){$.Inherit(k,c);d.allTypes();d.StringExhaustive();d.String();d.StandardUniform();d.Natural();d.Int();d.FloatExhaustive();d.Float();d.Boolean();d.Anything();b.Do();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;$.Define($$,{WebSharper:{Control:{Disposable:{Of:function(F){return{Dispose:F};}},Event:{Event:$.Class({AddHandler:function(G){return this.Handlers.Add(G);},RemoveHandler:function(H){var I,K,L,N,O;I=function(J){return a.Equals(H,J);};K=this.Handlers;L=function(M){return K.RemoveAt(M);};N=this.Handlers;O=b.tryFindIndex(I,N);return c.iter(L,O);},Subscribe:function(P){var Q,T=this;Q=function(R){return P.OnNext(R);};this.AddHandler(Q);return e.Of(function(){return T.RemoveHandler(Q);});},Trigger:function(U){var V,W,X;V=this.Handlers.ToArray();for(W=0;W<=V.length-1;W++){X=f.get(V,W);X(U);}return;}})},EventModule:{Choose:function(Y,Z){var _0;_0=g.New();h.addListener(Z,function(_1){var _2,_3,_4;_2=Y(_1);if(_2.$==0){_3=null;}else{_4=_2.$0;_3=_0.event.Trigger(_4);}return _3;});return _0.event;},Filter:function(_5,_6){var _7;_7=$.New(j,{Handlers:m.New2()});h.addListener(_6,function(_8){return _5(_8)?_7.Trigger(_8):null;});return _7;},Map:function(_9,_){var ba;ba=$.New(j,{Handlers:m.New2()});h.addListener(_,function(bb){return ba.Trigger(_9(bb));});return ba;},Merge:function(bb,bc){var bd;bd=$.New(j,{Handlers:m.New2()});h.addListener(bb,function(be){return bd.Trigger(be);});h.addListener(bc,function(bf){return bd.Trigger(bf);});return bd;},Pairwise:function(bg){var bh,bi;bh=[{$:0}];bi=$.New(j,{Handlers:m.New2()});h.addListener(bg,function(bj){var bk,bl,bm;bk=bh[0];if(bk.$==1){bm=bk.$0;bh[0]={$:1,$0:bj};bl=bi.Trigger([bm,bj]);}else{bl=void(bh[0]={$:1,$0:bj});}return bl;});return bi;},Partition:function(bn,bo){return[n.Filter(bn,bo),n.Filter(function(bp){var bq;bq=bn(bp);return!bq;},bo)];},Scan:function(br,bs,bt){var bu,bv;bu=[bs];bv=function(bw){bu[0]=(br(bu[0]))(bw);return bu[0];};return n.Map(bv,bt);},Split:function(bx,by){var bz,bE;bz=function(bA){var bB,bC,bD;bB=bx(bA);if(bB.$==0){bD=bB.$0;bC={$:1,$0:bD};}else{bC={$:0};}return bC;};bE=function(bF){var bG,bH,bI;bG=bx(bF);if(bG.$==1){bI=bG.$0;bH={$:1,$0:bI};}else{bH={$:0};}return bH;};return[n.Choose(bz,by),n.Choose(bE,by)];}},FSharpEvent:$.Class({},{New:function(){var bJ;bJ=$.New(this,{});bJ.event=$.New(j,{Handlers:m.New2()});return bJ;}}),HotStream:{HotStream:$.Class({Subscribe:function(bK){var bL;this.Latest[0].$==1?bK.OnNext(this.Latest[0].$0):null;bL=h.subscribeTo(this.Event.event,function(bM){return bK.OnNext(bM);});return bL;},Trigger:function(bN){this.Latest[0]={$:1,$0:bN};return this.Event.event.Trigger(bN);}},{New:function(){return $.New(p,{Latest:[{$:0}],Event:g.New()});}})},MailboxProcessor:$.Class({PostAndAsyncReply:function(bO,bP){var bR=this;return q.Delay(function(){return q.Bind(bR.PostAndTryAsyncReply(bO,bP),function(bS){var bT,bU;if(bS.$==1){bU=bS.$0;bT=bU;}else{bT=r.Raise(new s("TimeoutException"));}return q.Return(bT);});});},PostAndTryAsyncReply:function(bV,bW){var bX,bY,b6=this;bX=r.DefaultArg(bW,this.get_DefaultTimeout());bY=function(bZ){var b0,b1,b2,b3,b4,b7,b8,b$;b0=bZ[0];b1=bZ[1];b2=bZ[2];if(bX<0){b4=bV(function(b5){return b0({$:1,$0:b5});});b6.mailbox.AddLast(b4);b3=b6.resume();}else{b7=[true];b8=bV(function(b9){var b_;if(b7[0]){b7[0]=false;b_=b0({$:1,$0:b9});}else{b_=null;}return b_;});b6.mailbox.AddLast(b8);b6.resume();b$=t(function(){var cb;if(b7[0]){b7[0]=false;cb=b0({$:0});}else{cb=null;}return cb;},bX);b3=void b$;}return b3;};return q.FromContinuations(bY);},Receive:function(cc){var ce=this;return q.Delay(function(){return q.Bind(ce.TryReceive(cc),function(cf){var cg,ch;if(cf.$==1){ch=cf.$0;cg=ch;}else{cg=r.Raise(new s("TimeoutException"));}return q.Return(cg);});});},Scan:function(ci,cj){var cl=this;return q.Delay(function(){return q.Bind(cl.TryScan(ci,cj),function(cm){var cn,co;if(cm.$==1){co=cm.$0;cn=co;}else{cn=r.Raise(new s("TimeoutException"));}return q.Return(cn);});});},Start:function(){var cp,cq,ct=this;if(this.started){cp=r.FailWith("The MailboxProcessor has already been started.");}else{this.started=true;cq=q.Delay(function(){return q.TryWith(q.Delay(function(){return q.Bind(ct.initial.call(null,ct),function(){return q.Return(null);});}),function(cv){ct.errorEvent.event.Trigger(cv);return q.Return(null);});});cp=ct.startAsync(cq);}return cp;},TryReceive:function(cw){var cx,cy,cD=this;cx=r.DefaultArg(cw,this.get_DefaultTimeout());cy=function(cz){var cA,cB,cC,cE,cF,cG,cJ,cK,cN,cR;cA=cz[0];cB=cz[1];cC=cz[2];if(a.Equals(cD.mailbox.get_First(),null)){if(cx<0){cG=q.Delay(function(){var cI;cI=cD.dequeue();cA({$:1,$0:cI});return q.Return(null);});cF=void(cD.savedCont={$:1,$0:cG});}else{cJ=[true];cK=t(function(){var cM;if(cJ[0]){cJ[0]=false;cD.savedCont={$:0};cM=cA({$:0});}else{cM=null;}return cM;},cx);cN=q.Delay(function(){var cP,cQ;if(cJ[0]){cJ[0]=false;u(cK);cQ=cD.dequeue();cA({$:1,$0:cQ});cP=q.Return(null);}else{cP=q.Return(null);}return cP;});cF=void(cD.savedCont={$:1,$0:cN});}cE=cF;}else{cR=cD.dequeue();cE=cA({$:1,$0:cR});}return cE;};return q.FromContinuations(cy);},TryScan:function(cS,cT){var cU,cZ=this;cU=r.DefaultArg(cT,this.get_DefaultTimeout());return q.Delay(function(){var cW,c3,c4,c5,c7;cW=function(){var cY,c0,c1,c2;cY=cZ.mailbox.get_First();c0={$:0};while(!a.Equals(cY,null)){c1=cS(cY.v);if(c1.$==0){c2=cY=cY.n;}else{cZ.mailbox.Remove(cY);cY=null;c2=c0=c1;}}return c0;};c3=cW(null);if(c3.$==1){c5=c3.$0;c4=q.Bind(c5,function(c6){return q.Return({$:1,$0:c6});});}else{c7=function(c8){var c9,c_,c$,da,db,dj,dk,dn;c9=c8[0];c_=c8[1];c$=c8[2];if(cU<0){db=function(){var dd;dd=q.Delay(function(){var df,dg,dh;df=cS(cZ.mailbox.get_First().v);if(df.$==1){dh=df.$0;cZ.mailbox.RemoveFirst();dg=q.Bind(dh,function(di){c9({$:1,$0:di});return q.Return(null);});}else{db(null);dg=q.Return(null);}return dg;});cZ.savedCont={$:1,$0:dd};return;};da=db(null);}else{dj=[true];dk=t(function(){var dm;if(dj[0]){dj[0]=false;cZ.savedCont={$:0};dm=c9({$:0});}else{dm=null;}return dm;},cU);dn=function(){var dp;dp=q.Delay(function(){var dr,ds,dt;dr=cS(cZ.mailbox.get_First().v);if(dr.$==1){dt=dr.$0;cZ.mailbox.RemoveFirst();ds=q.Bind(dt,function(du){var dv;if(dj[0]){dj[0]=false;u(dk);c9({$:1,$0:du});dv=q.Return(null);}else{dv=q.Return(null);}return dv;});}else{dn(null);ds=q.Return(null);}return ds;});cZ.savedCont={$:1,$0:dp};return;};da=dn(null);}return da;};c4=q.FromContinuations(c7);}return c4;});},dequeue:function(){var dw;dw=this.mailbox.get_First().v;this.mailbox.RemoveFirst();return dw;},get_CurrentQueueLength:function(){return this.mailbox.get_Count();},get_DefaultTimeout:function(){return this["DefaultTimeout@"];},get_Error:function(){return this.errorEvent.event;},resume:function(){var dx,dy,dz;dx=this.savedCont;if(dx.$==1){dz=dx.$0;this.savedCont={$:0};dy=this.startAsync(dz);}else{dy=null;}return dy;},set_DefaultTimeout:function(dA){this["DefaultTimeout@"]=dA;return;},startAsync:function(dB){return q.Start(dB,this.token);}},{New:function(dC,dD){var dE,dF,dG,dH,dI;dE=$.New(this,{});dE.initial=dC;dE.token=dD;dE.started=false;dE.errorEvent=g.New();dE.mailbox=w.New();dE.savedCont={$:0};dF=dE.token;if(dF.$==0){dG=null;}else{dH=dF.$0;dI=q.Register(dH,function(){return function(){return dE.resume();}();});dG=void dI;}dE["DefaultTimeout@"]=-1;return dE;},Start:function(dL,dM){var dN;dN=x.New(dL,dM);dN.Start();return dN;}}),Observable:{Aggregate:function(dO,dP,dQ){var dR;dR=function(dS){var dT,dU,dZ;dT=[dP];dU=function(dV){return y.Protect(function(){return(dQ(dT[0]))(dV);},function(dX){dT[0]=dX;return dS.OnNext(dX);},function(dY){return dS.OnError(dY);});};dZ=z.New(dU,function(d0){return dS.OnError(d0);},function(){return dS.OnCompleted();});return dO.Subscribe(dZ);};return y.New(dR);},Choose:function(d2,d3){var d4;d4=function(d5){var d6,eb;d6=function(d7){var d9;d9=function(d_){return d5.OnNext(d_);};return y.Protect(function(){return d2(d7);},function(d$){return c.iter(d9,d$);},function(ea){return d5.OnError(ea);});};eb=z.New(d6,function(ec){return d5.OnError(ec);},function(){return d5.OnCompleted();});return d3.Subscribe(eb);};return y.New(d4);},CombineLatest:function(ee,ef,eg){var eh;eh=function(ei){var ej,ek,el,ev,ex,eA,eC,eF,eG;ej=[{$:0}];ek=[{$:0}];el=function(){var en,eo,ep,eq,er;en=[ej[0],ek[0]];if(en[0].$==1){if(en[1].$==1){eq=en[0].$0;er=en[1].$0;ep=y.Protect(function(){return(eg(eq))(er);},function(et){return ei.OnNext(et);},function(eu){return ei.OnError(eu);});}else{ep=null;}eo=ep;}else{eo=null;}return eo;};ev=function(ew){ej[0]={$:1,$0:ew};return el(null);};ex=z.New(ev,function(){},function(){});eA=function(eB){ek[0]={$:1,$0:eB};return el(null);};eC=z.New(eA,function(){},function(){});eF=ee.Subscribe(ex);eG=ef.Subscribe(eC);return e.Of(function(){eF.Dispose();return eG.Dispose();});};return y.New(eh);},Concat:function(eI,eJ){var eK;eK=function(eL){var eM,eN,eS;eM=[{$:0}];eN=eI.Subscribe(z.New(function(eO){return eL.OnNext(eO);},function(){},function(){var eR;eR=eJ.Subscribe(eL);eM[0]={$:1,$0:eR};}));eS=function(){eM[0].$==1?eM[0].$0.Dispose():null;return eN.Dispose();};return e.Of(eS);};return y.New(eK);},Drop:function(eU,eV){var eW;eW=function(eX){var eY,eZ,e1;eY=[0];eZ=function(e0){A.incr(eY);return eY[0]>eU?eX.OnNext(e0):null;};e1=z.New(eZ,function(e2){return eX.OnError(e2);},function(){return eX.OnCompleted();});return eV.Subscribe(e1);};return y.New(eW);},Filter:function(e4,e5){var e6;e6=function(e7){var e8,fd;e8=function(e9){var e$;e$=function(fa){return e7.OnNext(fa);};return y.Protect(function(){return e4(e9)?{$:1,$0:e9}:{$:0};},function(fb){return c.iter(e$,fb);},function(fc){return e7.OnError(fc);});};fd=z.New(e8,function(fe){return e7.OnError(fe);},function(){return e7.OnCompleted();});return e5.Subscribe(fd);};return y.New(e6);},Map:function(fg,fh){var fi;fi=function(fj){var fk,fp;fk=function(fl){return y.Protect(function(){return fg(fl);},function(fn){return fj.OnNext(fn);},function(fo){return fj.OnError(fo);});};fp=z.New(fk,function(fq){return fj.OnError(fq);},function(){return fj.OnCompleted();});return fh.Subscribe(fp);};return y.New(fi);},Merge:function(fs,ft){var fu;fu=function(fv){var fw,fx,fy,fC,fD,fH;fw=[false];fx=[false];fy=z.New(function(fz){return fv.OnNext(fz);},function(){},function(){fw[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fC=fs.Subscribe(fy);fD=z.New(function(fE){return fv.OnNext(fE);},function(){},function(){fx[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fH=ft.Subscribe(fD);return e.Of(function(){fC.Dispose();return fH.Dispose();});};return y.New(fu);},Never:function(){return y.New(function(){return e.Of(function(){});});},New:function(fL){return $.New(B,{Subscribe1:fL});},Observable:$.Class({Subscribe:function(fM){return this.Subscribe1.call(null,fM);}}),Of:function(fN){return y.New(function(fO){return e.Of(fN(function(fP){return fO.OnNext(fP);}));});},Protect:function(fQ,fR,fS){var fT,fU,fV,fW,fX,fY;try{fU={$:0,$0:fQ(null)};}catch(fV){fU={$:1,$0:fV};}fT=fU;if(fT.$==1){fX=fT.$0;fW=fS(fX);}else{fY=fT.$0;fW=fR(fY);}return fW;},Range:function(fZ,f0){var f1;f1=function(f2){var f3;for(f3=fZ;f3<=fZ+f0;f3++){f2.OnNext(f3);}return e.Of(function(){});};return y.New(f1);},Return:function(f5){var f6;f6=function(f7){f7.OnNext(f5);f7.OnCompleted();return e.Of(function(){});};return y.New(f6);},SelectMany:function(f9){return y.New(function(f_){var f$,gb;f$=[function(){}];gb=h.subscribeTo(f9,function(gc){var gd;gd=h.subscribeTo(gc,function(ge){return f_.OnNext(ge);});f$[0]=function(){f$[0].call(null,null);return gd.Dispose();};return;});return e.Of(function(){f$[0].call(null,null);return gb.Dispose();});});},Sequence:function(gh){var gi;gi=function(gj){var gk,gl,gm,gn;if(gj.$==1){gl=gj.$1;gm=gj.$0;gn=gi(gl);gk=y.CombineLatest(gm,gn,function(go){return function(gp){return $.New(D,{$:1,$0:go,$1:gp});};});}else{gk=y.Return($.New(D,{$:0}));}return gk;};return gi(C.ofSeq(gh));},Switch:function(gq){return y.New(function(gr){var gs,gt,gu;gs=[0];gt=[{$:0}];gu=h.subscribeTo(gq,function(gv){var gw,gx,gz;A.incr(gs);gt[0].$==1?gt[0].$0.Dispose():null;gw=gs[0];gx=h.subscribeTo(gv,function(gy){return gw===gs[0]?gr.OnNext(gy):null;});gz={$:1,$0:gx};gt[0]=gz;return;});return gu;});}},ObservableModule:{Pairwise:function(gA){var gB;gB=function(gC){var gD,gE,gJ;gD=[{$:0}];gE=function(gF){var gG,gH,gI;gG=gD[0];if(gG.$==1){gI=gG.$0;gH=gC.OnNext([gI,gF]);}else{gH=null;}gD[0]={$:1,$0:gF};return;};gJ=z.New(gE,function(gK){return gC.OnError(gK);},function(){return gC.OnCompleted();});return gA.Subscribe(gJ);};return y.New(gB);},Partition:function(gM,gN){return[y.Filter(gM,gN),y.Filter(function(gO){var gP;gP=gM(gO);return!gP;},gN)];},Scan:function(gQ,gR,gS){var gT;gT=function(gU){var gV,gW,g1;gV=[gR];gW=function(gX){return y.Protect(function(){return(gQ(gV[0]))(gX);},function(gZ){gV[0]=gZ;return gU.OnNext(gZ);},function(g0){return gU.OnError(g0);});};g1=z.New(gW,function(g2){return gU.OnError(g2);},function(){return gU.OnCompleted();});return gS.Subscribe(g1);};return y.New(gT);},Split:function(g4,g5){var g6,g$,ha,hf;g6=function(g7){var g8,g9,g_;g8=g4(g7);if(g8.$==0){g_=g8.$0;g9={$:1,$0:g_};}else{g9={$:0};}return g9;};g$=y.Choose(g6,g5);ha=function(hb){var hc,hd,he;hc=g4(hb);if(hc.$==1){he=hc.$0;hd={$:1,$0:he};}else{hd={$:0};}return hd;};hf=y.Choose(ha,g5);return[g$,hf];}},Observer:{New:function(hg,hh,hi){return $.New(E,{onNext:hg,onError:hh,onCompleted:hi});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(hj){return this.onError.call(null,hj);},OnNext:function(hk){return this.onNext.call(null,hk);}}),Of:function(hl){return $.New(E,{onNext:function(hm){return hl(hm);},onError:function(hn){return r.Raise(hn);},onCompleted:function(){return null;}});}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Option);d=$.Safe($$.WebSharper.Control);e=$.Safe(d.Disposable);f=$.Safe($$.WebSharper.Arrays);g=$.Safe(d.FSharpEvent);h=$.Safe($$.WebSharper.Util);i=$.Safe(d.Event);j=$.Safe(i.Event);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.ResizeArray);m=$.Safe(l.ResizeArrayProxy);n=$.Safe(d.EventModule);o=$.Safe(d.HotStream);p=$.Safe(o.HotStream);q=$.Safe($$.WebSharper.Concurrency);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.Error);t=$.Safe($$.setTimeout);u=$.Safe($$.clearTimeout);v=$.Safe(k.LinkedList);w=$.Safe(v.T);x=$.Safe(d.MailboxProcessor);y=$.Safe(d.Observable);z=$.Safe(d.Observer);A=$.Safe($$.WebSharper.Ref);B=$.Safe(y.Observable);C=$.Safe($$.WebSharper.List);D=$.Safe(C.T);return E=$.Safe(z.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{Roll:{Client:{Main:$.Field(function(){var s,t,u,z;a("#main").empty();s=d.Create("");t=e.View(g.Rolls());u=h.Convert(function(v){var w,x,y;w=v[1];x=i.Const(v[0]);y=i.Const(j(w));return h.Concat([h.Element("li",[],[h.TextView(x),h.TextNode(" "),h.TextView(y)])]);},t);z=function(){g.Rolls().Add(["2d6",k.Instance().Resolve([2,6])]);return d.Set(s,"");};return h.RunById("main",h.Concat([h.Element("ul",[],[u]),h.Element("div",[],[h.Input([l.Create("placeholder","Roll specification, e.g. 2d6")],s),h.Element("button",[l.Handler("click",z)],[h.TextNode("Roll")]),h.Element("div",[],[h.TextNode("About to roll: "),h.TextView(i.FromVar(s))])])]));}),Rolls:$.Field(function(){return m.FromSeq(n.ofArray([["2d6+3",7]]));})}},Roller:{Instance:$.Field(function(){return o.New({$:0});}),Resolver:$.Class({Resolve:function(B){var C,D,G=this;C=B[1];D=B[0];return p.sum(p.toList(p.delay(function(){return p.collect(function(){return[1+G.r.Next1(C)];},q.range(1,D));})));},Resolve1:function(H){var I;if(H.$==1){I=H.$1;return this.Resolve(H.$0)+this.Resolve1(I);}else{return this.Resolve(H.$0);}}},{New:function(J){var K;K=$.New(this,{});K.r=q.DefaultArg(J,r.New());return K;}})}});$.OnInit(function(){a=$.Safe($$.jQuery);b=$.Safe($$.WebSharper.UI);c=$.Safe(b.Next);d=$.Safe(c.Var);e=$.Safe(c.ListModel1);f=$.Safe($$.Roll);g=$.Safe(f.Client);h=$.Safe(c.Doc);i=$.Safe(c.View);j=$.Safe($$.String);k=$.Safe($$.Roller);l=$.Safe(c.Attr);m=$.Safe(c.ListModel);n=$.Safe($$.WebSharper.List);o=$.Safe(k.Resolver);p=$.Safe($$.WebSharper.Seq);q=$.Safe($$.WebSharper.Operators);return r=$.Safe($$.WebSharper.Random);});$.OnLoad(function(){k.Instance();g.Rolls();g.Main();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
